!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=rt.type(t);return"function"!==n&&!rt.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function i(t,e,n){if(rt.isFunction(e))return rt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return rt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ht.test(e))return rt.filter(e,t,n);e=rt.filter(e,t)}return rt.grep(t,function(t){return rt.inArray(t,e)>=0!==n})}function r(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function o(t){var e=bt[t]={};return rt.each(t.match(xt)||[],function(t,n){e[n]=!0}),e}function a(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1)):(ft.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(a(),rt.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(Nt,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Tt.test(n)?rt.parseJSON(n):n)}catch(r){}rt.data(t,e,n)}else n=void 0}return n}function u(t){var e;for(e in t)if(("data"!==e||!rt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if(rt.acceptData(t)){var r,o,a=rt.expando,s=t.nodeType,l=s?rt.cache:t,u=s?t[a]:t[a]&&a;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof e)return u||(u=s?t[a]=W.pop()||rt.guid++:a),l[u]||(l[u]=s?{}:{toJSON:rt.noop}),("object"==typeof e||"function"==typeof e)&&(i?l[u]=rt.extend(l[u],e):l[u].data=rt.extend(l[u].data,e)),o=l[u],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[rt.camelCase(e)]=n),"string"==typeof e?(r=o[e],null==r&&(r=o[rt.camelCase(e)])):r=o,r}}function d(t,e,n){if(rt.acceptData(t)){var i,r,o=t.nodeType,a=o?rt.cache:t,s=o?t[rt.expando]:rt.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){rt.isArray(e)?e=e.concat(rt.map(e,rt.camelCase)):e in i?e=[e]:(e=rt.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!u(i):!rt.isEmptyObject(i))return}(n||(delete a[s].data,u(a[s])))&&(o?rt.cleanData([t],!0):nt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return ft.activeElement}catch(t){}}function g(t){var e=Rt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function v(t,e){var n,i,r=0,o=typeof t.getElementsByTagName!==_t?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==_t?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||rt.nodeName(i,e)?o.push(i):rt.merge(o,v(i,e));return void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],o):o}function y(t){Lt.test(t.type)&&(t.defaultChecked=t.checked)}function m(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function x(t){return t.type=(null!==rt.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=Ut.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){for(var n,i=0;null!=(n=t[i]);i++)rt._data(n,"globalEval",!e||rt._data(e[i],"globalEval"))}function E(t,e){if(1===e.nodeType&&rt.hasData(t)){var n,i,r,o=rt._data(t),a=rt._data(e,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)rt.event.add(e,n,s[n][i])}a.data&&(a.data=rt.extend({},a.data))}}function _(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!nt.noCloneEvent&&e[rt.expando]){r=rt._data(e);for(i in r.events)rt.removeEvent(e,i,r.handle);e.removeAttribute(rt.expando)}"script"===n&&e.text!==t.text?(x(e).text=t.text,b(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),nt.html5Clone&&t.innerHTML&&!rt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Lt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function T(e,n){var i,r=rt(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:rt.css(r[0],"display");return r.detach(),o}function N(t){var e=ft,n=Jt[t];return n||(n=T(t,e),"none"!==n&&n||(Qt=(Qt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Qt[0].contentWindow||Qt[0].contentDocument).document,e.write(),e.close(),n=T(t,e),Qt.detach()),Jt[t]=n),n}function C(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=he.length;r--;)if(e=he[r]+n,e in t)return e;return i}function S(t,e){for(var n,i,r,o=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(o[a]=rt._data(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&St(i)&&(o[a]=rt._data(i,"olddisplay",N(i.nodeName)))):(r=St(i),(n&&"none"!==n||!r)&&rt._data(i,"olddisplay",r?n:rt.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function k(t,e,n){var i=le.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function L(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=rt.css(t,n+Dt[o],!0,r)),i?("content"===n&&(a-=rt.css(t,"padding"+Dt[o],!0,r)),"margin"!==n&&(a-=rt.css(t,"border"+Dt[o]+"Width",!0,r))):(a+=rt.css(t,"padding"+Dt[o],!0,r),"padding"!==n&&(a+=rt.css(t,"border"+Dt[o]+"Width",!0,r)));return a}function M(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=te(t),a=nt.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=ee(t,e,o),(0>r||null==r)&&(r=t.style[e]),ie.test(r))return r;i=a&&(nt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+L(t,e,n||(a?"border":"content"),i,o)+"px"}function P(t,e,n,i,r){return new P.prototype.init(t,e,n,i,r)}function A(){return setTimeout(function(){pe=void 0}),pe=rt.now()}function I(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Dt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function O(t,e,n){for(var i,r=(xe[e]||[]).concat(xe["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,e,t))return i}function R(t,e,n){var i,r,o,a,s,l,u,c,d=this,h={},p=t.style,f=t.nodeType&&St(t),g=rt._data(t,"fxshow");n.queue||(s=rt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,rt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=rt.css(t,"display"),c="none"===u?rt._data(t,"olddisplay")||N(t.nodeName):u,"inline"===c&&"none"===rt.css(t,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==N(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],ge.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}h[i]=g&&g[i]||rt.style(t,i)}else u=void 0;if(rt.isEmptyObject(h))"inline"===("none"===u?N(t.nodeName):u)&&(p.display=u);else{g?"hidden"in g&&(f=g.hidden):g=rt._data(t,"fxshow",{}),o&&(g.hidden=!f),f?rt(t).show():d.done(function(){rt(t).hide()}),d.done(function(){var e;rt._removeData(t,"fxshow");for(e in h)rt.style(t,e,h[e])});for(i in h)a=O(f?g[i]:0,i,d),i in g||(g[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function B(t,e){var n,i,r,o,a;for(n in t)if(i=rt.camelCase(n),r=e[i],o=t[n],rt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=rt.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function F(t,e,n){var i,r,o=0,a=me.length,s=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=pe||A(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,n]),1>o&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:pe||A(),duration:n.duration,tweens:[],createTween:function(e,n){var i=rt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?s.resolveWith(t,[u,e]):s.rejectWith(t,[u,e]),this}}),c=u.props;for(B(c,u.opts.specialEasing);a>o;o++)if(i=me[o].call(u,t,c,u.opts))return i;return rt.map(c,O,u),rt.isFunction(u.opts.start)&&u.opts.start.call(t,u),rt.fx.timer(rt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function j(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(xt)||[];if(rt.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function z(t,e,n,i){function r(s){var l;return o[s]=!0,rt.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=t===Ye;return r(e.dataTypes[0])||!o["*"]&&r("*")}function q(t,e){var n,i,r=rt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&rt.extend(!0,t,n),t}function X(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){o=a;break}i||(i=a)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function Y(t,e,n,i){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function V(t,e,n,i){var r;if(rt.isArray(e))rt.each(e,function(e,r){n||Ue.test(t)?i(t,r):V(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==rt.type(e))i(t,e);else for(r in e)V(t+"["+r+"]",e[r],n,i)}function H(){try{return new t.XMLHttpRequest}catch(e){}}function G(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function U(t){return rt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var W=[],$=W.slice,Z=W.concat,K=W.push,Q=W.indexOf,J={},tt=J.toString,et=J.hasOwnProperty,nt={},it="1.11.2",rt=function(t,e){return new rt.fn.init(t,e)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,st=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:it,constructor:rt,selector:"",length:0,toArray:function(){return $.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:$.call(this)},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return rt.each(this,t,e)},map:function(t){return this.pushStack(rt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:W.sort,splice:W.splice},rt.extend=rt.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||rt.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(i in r)t=a[i],n=r[i],a!==n&&(u&&n&&(rt.isPlainObject(n)||(e=rt.isArray(n)))?(e?(e=!1,o=t&&rt.isArray(t)?t:[]):o=t&&rt.isPlainObject(t)?t:{},a[i]=rt.extend(u,o,n)):void 0!==n&&(a[i]=n));return a},rt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray||function(t){return"array"===rt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!rt.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==rt.type(t)||t.nodeType||rt.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(e in t)return et.call(t,e);for(e in t);return void 0===e||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?J[tt.call(t)]||"object":typeof t},globalEval:function(e){e&&rt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(at,"ms-").replace(st,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,a=t.length,s=n(t);if(i){if(s)for(;a>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(s)for(;a>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ot,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?rt.merge(i,"string"==typeof t?[t]:t):K.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(Q)return Q.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;a>o;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,a=t.length,s=n(t),l=[];if(s)for(;a>o;o++)r=e(t[o],o,i),null!=r&&l.push(r);else for(o in t)r=e(t[o],o,i),null!=r&&l.push(r);return Z.apply([],l)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),rt.isFunction(t)?(n=$.call(arguments,2),i=function(){return t.apply(e||this,n.concat($.call(arguments)))},i.guid=t.guid=t.guid||rt.guid++,i):void 0},now:function(){return+new Date},support:nt}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){J["[object "+e+"]"]=e.toLowerCase()});var ut=function(t){function e(t,e,n,i){var r,o,a,s,l,u,d,p,f,g;if((e?e.ownerDocument||e:z)!==P&&M(e),e=e||P,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&I){if(11!==s&&(r=mt.exec(t)))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&F(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&w.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(a)),n}if(w.qsa&&(!O||!O.test(t))){if(p=d=j,f=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=N(t),(d=e.getAttribute("id"))?p=d.replace(bt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);f=xt.test(t)&&c(e.parentNode)||e,g=u.join(",")}if(g)try{return Q.apply(n,f.querySelectorAll(g)),n}catch(v){}finally{d||e.removeAttribute("id")}}}return D(t.replace(lt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>E.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[j]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)E.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=X++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,l,u=[q,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[j]||(e[j]={}),(s=l[i])&&s[0]===q&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=t(e,n,a))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),u&&e.push(s));return a}function y(t,e,n,r,o,a){return r&&!r[j]&&(r=y(r)),o&&!o[j]&&(o=y(o,a)),i(function(i,a,s,l){var u,c,d,h=[],p=[],f=a.length,y=i||g(e||"*",s.nodeType?[s]:s,[]),m=!t||!i&&e?y:v(y,h,t,s,l),x=n?o||(i?t:f||r)?[]:a:m;if(n&&n(m,x,s,l),r)for(u=v(x,p),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(x[p[c]]=!(m[p[c]]=d));if(i){if(o||t){if(o){for(u=[],c=x.length;c--;)(d=x[c])&&u.push(m[c]=d);o(null,x=[],u,l)}for(c=x.length;c--;)(d=x[c])&&(u=o?tt(i,d):h[c])>-1&&(i[u]=!(a[u]=d))}}else x=v(x===a?x.splice(f,x.length):x),o?o(null,a,x,l):Q.apply(a,x)})}function m(t){for(var e,n,i,r=t.length,o=E.relative[t[0].type],a=o||E.relative[" "],s=o?1:0,l=p(function(t){return t===e},a,!0),u=p(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==S)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];r>s;s++)if(n=E.relative[t[s].type])c=[p(f(c),n)];else{if(n=E.filter[t[s].type].apply(null,t[s].matches),n[j]){for(i=++s;r>i&&!E.relative[t[i].type];i++);return y(s>1&&f(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),n,i>s&&m(t.slice(s,i)),r>i&&m(t=t.slice(i)),r>i&&h(t))}c.push(n)}return f(c)}function x(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,l,u){var c,d,h,p=0,f="0",g=i&&[],y=[],m=S,x=i||o&&E.find.TAG("*",u),b=q+=null==m?1:Math.random()||.1,w=x.length;for(u&&(S=a!==P&&a);f!==w&&null!=(c=x[f]);f++){if(o&&c){for(d=0;h=t[d++];)if(h(c,a,s)){l.push(c);break}u&&(q=b)}r&&((c=!h&&c)&&p--,i&&g.push(c))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(g,y,a,s);if(i){if(p>0)for(;f--;)g[f]||y[f]||(y[f]=Z.call(l));y=v(y)}Q.apply(l,y),u&&!i&&y.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(q=b,S=m),g};return r?i(a):a}var b,w,E,_,T,N,C,D,S,k,L,M,P,A,I,O,R,B,F,j="sizzle"+1*new Date,z=t.document,q=0,X=0,Y=n(),V=n(),H=n(),G=function(t,e){return t===e&&(L=!0),0},U=1<<31,W={}.hasOwnProperty,$=[],Z=$.pop,K=$.push,Q=$.push,J=$.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",at=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(at),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Et=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_t=function(){M()};try{Q.apply($=J.call(z.childNodes),z.childNodes),$[z.childNodes.length].nodeType}catch(Tt){Q={apply:$.length?function(t,e){K.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},M=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:z;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,A=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",_t,!1):n.attachEvent&&n.attachEvent("onunload",_t)),I=!T(i),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=yt.test(i.getElementsByClassName),w.getById=r(function(t){return A.appendChild(t).id=j,!i.getElementsByName||!i.getElementsByName(j).length}),w.getById?(E.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},E.filter.ID=function(t){var e=t.replace(wt,Et);return function(t){return t.getAttribute("id")===e}}):(delete E.find.ID,E.filter.ID=function(t){var e=t.replace(wt,Et);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),E.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},E.find.CLASS=w.getElementsByClassName&&function(t,e){return I?e.getElementsByClassName(t):void 0},R=[],O=[],(w.qsa=yt.test(i.querySelectorAll))&&(r(function(t){A.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+j+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||O.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(w.matchesSelector=yt.test(B=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&r(function(t){w.disconnectedMatch=B.call(t,"div"),B.call(t,"[s!='']:x"),R.push("!=",at)}),O=O.length&&new RegExp(O.join("|")),R=R.length&&new RegExp(R.join("|")),e=yt.test(A.compareDocumentPosition),F=e||yt.test(A.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return L=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===z&&F(z,t)?-1:e===i||e.ownerDocument===z&&F(z,e)?1:k?tt(k,t)-tt(k,e):0:4&n?-1:1)}:function(t,e){if(t===e)return L=!0,0;var n,r=0,o=t.parentNode,s=e.parentNode,l=[t],u=[e];if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:k?tt(k,t)-tt(k,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===z?-1:u[r]===z?1:0},i):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&M(t),n=n.replace(dt,"='$1']"),!(!w.matchesSelector||!I||R&&R.test(n)||O&&O.test(n)))try{var i=B.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&M(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&M(t);var n=E.attrHandle[e.toLowerCase()],i=n&&W.call(E.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:w.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(L=!w.detectDuplicates,k=!w.sortStable&&t.slice(0),t.sort(G),L){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return k=null,t},_=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=_(e);return n},E=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,Et),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,Et),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=N(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,Et).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Y[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&Y(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,p,f,g=o!==a?"nextSibling":"previousSibling",v=e.parentNode,y=s&&e.nodeName.toLowerCase(),m=!l&&!s;if(v){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?v.firstChild:v.lastChild],a&&m){for(c=v[j]||(v[j]={}),u=c[t]||[],p=u[0]===q&&u[1],h=u[0]===q&&u[2],d=p&&v.childNodes[p];d=++p&&d&&d[g]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[q,p,h];break}}else if(m&&(u=(e[j]||(e[j]={}))[t])&&u[0]===q)h=u[1];else for(;(d=++p&&d&&d[g]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++h||(m&&((d[j]||(d[j]={}))[t]=[q,h]),d!==e)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(t,n){var r,o=E.pseudos[t]||E.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[j]?o(n):o.length>1?(r=[t,t,"",n],E.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=tt(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=C(t.replace(lt,"$1"));return r[j]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,Et),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,Et).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},E.pseudos.nth=E.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})E.pseudos[b]=l(b);return d.prototype=E.filters=E.pseudos,E.setFilters=new d,N=e.tokenize=function(t,n){var i,r,o,a,s,l,u,c=V[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=E.preFilter;s;){(!i||(r=ut.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ct.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),s=s.slice(i.length));for(a in E.filter)!(r=ft[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),
o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):V(t,l).slice(0)},C=e.compile=function(t,e){var n,i=[],r=[],o=H[t+" "];if(!o){for(e||(e=N(t)),n=e.length;n--;)o=m(e[n]),o[j]?i.push(o):r.push(o);o=H(t,x(r,i)),o.selector=t}return o},D=e.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,d=!i&&N(t=u.selector||t);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===e.nodeType&&I&&E.relative[o[1].type]){if(e=(E.find.ID(a.matches[0].replace(wt,Et),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(a=o[r],!E.relative[s=a.type]);)if((l=E.find[s])&&(i=l(a.matches[0].replace(wt,Et),xt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&h(o),!t)return Q.apply(n,i),n;break}}return(u||C(t,d))(i,e,!I,n,xt.test(t)&&c(e.parentNode)||e),n},w.sortStable=j.split("").sort(G).join("")===j,w.detectDuplicates=!!L,M(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);rt.find=ut,rt.expr=ut.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ut.uniqueSort,rt.text=ut.getText,rt.isXMLDoc=ut.isXML,rt.contains=ut.contains;var ct=rt.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?rt.find.matchesSelector(i,t)?[i]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;r>e;e++)if(rt.contains(i[e],this))return!0}));for(e=0;r>e;e++)rt.find(t,i[e],n);return n=this.pushStack(r>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ct.test(t)?rt(t):t||[],!1).length}});var pt,ft=t.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,vt=rt.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:gt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||pt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:ft,!0)),dt.test(n[1])&&rt.isPlainObject(e))for(n in e)rt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(i=ft.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pt.find(t);this.length=1,this[0]=i}return this.context=ft,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):rt.isFunction(t)?"undefined"!=typeof pt.ready?pt.ready(t):t(rt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),rt.makeArray(t,this))};vt.prototype=rt.fn,pt=rt(ft);var yt=/^(?:parents|prev(?:Until|All))/,mt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(t,e,n){for(var i=[],r=t[e];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!rt(r).is(n));)1===r.nodeType&&i.push(r),r=r[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),rt.fn.extend({has:function(t){var e,n=rt(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(rt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=ct.test(t)||"string"!=typeof t?rt(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?rt.unique(o):o)},index:function(t){return t?"string"==typeof t?rt.inArray(this[0],rt(t)):rt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.unique(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return rt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return rt.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return rt.dir(t,"nextSibling")},prevAll:function(t){return rt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return rt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return rt.dir(t,"previousSibling",n)},siblings:function(t){return rt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return rt.sibling(t.firstChild)},contents:function(t){return rt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(n,i){var r=rt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=rt.filter(i,r)),this.length>1&&(mt[t]||(r=rt.unique(r)),yt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var xt=/\S+/g,bt={};rt.Callbacks=function(t){t="string"==typeof t?bt[t]||o(t):rt.extend({},t);var e,n,i,r,a,s,l=[],u=!t.once&&[],c=function(o){for(n=t.memory&&o,i=!0,a=s||0,s=0,r=l.length,e=!0;l&&r>a;a++)if(l[a].apply(o[0],o[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function o(e){rt.each(e,function(e,n){var i=rt.type(n);"function"===i?t.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),e?r=l.length:n&&(s=i,c(n))}return this},remove:function(){return l&&rt.each(arguments,function(t,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),e&&(r>=i&&r--,a>=i&&a--)}),this},has:function(t){return t?rt.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(t,n){return!l||i&&!u||(n=n||[],n=[t,n.slice?n.slice():n],e?u.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},rt.extend({Deferred:function(t){var e=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return rt.Deferred(function(n){rt.each(e,function(e,o){var a=rt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?rt.extend(t,i):i}},r={};return i.pipe=i.then,rt.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=$.call(arguments),a=o.length,s=1!==a||t&&rt.isFunction(t.promise)?a:0,l=1===s?t:rt.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?$.call(arguments):r,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&rt.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,e)):--s;return s||l.resolveWith(i,o),l.promise()}});var wt;rt.fn.ready=function(t){return rt.ready.promise().done(t),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){if(t===!0?!--rt.readyWait:!rt.isReady){if(!ft.body)return setTimeout(rt.ready);rt.isReady=!0,t!==!0&&--rt.readyWait>0||(wt.resolveWith(ft,[rt]),rt.fn.triggerHandler&&(rt(ft).triggerHandler("ready"),rt(ft).off("ready")))}}}),rt.ready.promise=function(e){if(!wt)if(wt=rt.Deferred(),"complete"===ft.readyState)setTimeout(rt.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else{ft.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&ft.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!rt.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}a(),rt.ready()}}()}return wt.promise(e)};var Et,_t="undefined";for(Et in rt(nt))break;nt.ownLast="0"!==Et,nt.inlineBlockNeedsLayout=!1,rt(function(){var t,e,n,i;n=ft.getElementsByTagName("body")[0],n&&n.style&&(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==_t&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=ft.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(e){nt.deleteExpando=!1}}t=null}(),rt.acceptData=function(t){var e=rt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||e!==!0&&t.getAttribute("classid")===e)};var Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?rt.cache[t[rt.expando]]:t[rt.expando],!!t&&!u(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),rt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=rt.data(o),1===o.nodeType&&!rt._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(o,i,r[i])));rt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){rt.data(this,t)}):arguments.length>1?this.each(function(){rt.data(this,t,e)}):o?l(o,t,rt.data(o,t)):void 0},removeData:function(t){return this.each(function(){rt.removeData(this,t)})}}),rt.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=rt._data(t,e),n&&(!i||rt.isArray(n)?i=rt._data(t,e,rt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=rt.queue(t,e),i=n.length,r=n.shift(),o=rt._queueHooks(t,e),a=function(){rt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return rt._data(t,n)||rt._data(t,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(t,e+"queue"),rt._removeData(t,n)})})}}),rt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?rt.queue(this[0],t):void 0===e?this:this.each(function(){var n=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=rt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=rt._data(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var Ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=["Top","Right","Bottom","Left"],St=function(t,e){return t=e||t,"none"===rt.css(t,"display")||!rt.contains(t.ownerDocument,t)},kt=rt.access=function(t,e,n,i,r,o,a){var s=0,l=t.length,u=null==n;if("object"===rt.type(n)){r=!0;for(s in n)rt.access(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,rt.isFunction(i)||(a=!0),u&&(a?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(rt(t),n)})),e))for(;l>s;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Lt=/^(?:checkbox|radio)$/i;!function(){var t=ft.createElement("input"),e=ft.createElement("div"),n=ft.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===e.firstChild.nodeType,nt.tbody=!e.getElementsByTagName("tbody").length,nt.htmlSerialize=!!e.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),nt.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){nt.noCloneEvent=!1}),e.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(i){nt.deleteExpando=!1}}}(),function(){var e,n,i=ft.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(nt[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),nt[e+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Mt=/^(?:input|select|textarea)$/i,Pt=/^key/,At=/^(?:mouse|pointer|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,Ot=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,p,f,g,v=rt._data(t);if(v){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=rt.guid++),(a=v.events)||(a=v.events={}),(c=v.handle)||(c=v.handle=function(t){return typeof rt===_t||t&&rt.event.triggered===t.type?void 0:rt.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(xt)||[""],s=e.length;s--;)o=Ot.exec(e[s])||[],p=g=o[1],f=(o[2]||"").split(".").sort(),p&&(u=rt.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=rt.event.special[p]||{},d=rt.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:f.join(".")},l),(h=a[p])||(h=a[p]=[],h.delegateCount=0,u.setup&&u.setup.call(t,i,f,c)!==!1||(t.addEventListener?t.addEventListener(p,c,!1):t.attachEvent&&t.attachEvent("on"+p,c))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),rt.event.global[p]=!0);t=null}},remove:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,p,f,g,v=rt.hasData(t)&&rt._data(t);if(v&&(c=v.events)){for(e=(e||"").match(xt)||[""],u=e.length;u--;)if(s=Ot.exec(e[u])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(d=rt.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)a=h[o],!r&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(t,a));l&&!h.length&&(d.teardown&&d.teardown.call(t,f,v.handle)!==!1||rt.removeEvent(t,p,v.handle),delete c[p])}else for(p in c)rt.event.remove(t,p+e[u],n,i,!0);rt.isEmptyObject(c)&&(delete v.handle,rt._removeData(t,"events"))}},trigger:function(e,n,i,r){var o,a,s,l,u,c,d,h=[i||ft],p=et.call(e,"type")?e.type:e,f=et.call(e,"namespace")?e.namespace.split("."):[];if(s=c=i=i||ft,3!==i.nodeType&&8!==i.nodeType&&!It.test(p+rt.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),a=p.indexOf(":")<0&&"on"+p,e=e[rt.expando]?e:new rt.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:rt.makeArray(n,[e]),u=rt.event.special[p]||{},r||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!r&&!u.noBubble&&!rt.isWindow(i)){for(l=u.delegateType||p,It.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),c=s;c===(i.ownerDocument||ft)&&h.push(c.defaultView||c.parentWindow||t)}for(d=0;(s=h[d++])&&!e.isPropagationStopped();)e.type=d>1?l:u.bindType||p,o=(rt._data(s,"events")||{})[e.type]&&rt._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&rt.acceptData(s)&&(e.result=o.apply(s,n),e.result===!1&&e.preventDefault());if(e.type=p,!r&&!e.isDefaultPrevented()&&(!u._default||u._default.apply(h.pop(),n)===!1)&&rt.acceptData(i)&&a&&i[p]&&!rt.isWindow(i)){c=i[a],c&&(i[a]=null),rt.event.triggered=p;try{i[p]()}catch(g){}rt.event.triggered=void 0,c&&(i[a]=c)}return e.result}},dispatch:function(t){t=rt.event.fix(t);var e,n,i,r,o,a=[],s=$.call(arguments),l=(rt._data(this,"events")||{})[t.type]||[],u=rt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=rt.event.handlers.call(this,t,l),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(r=[],o=0;s>o;o++)i=e[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[rt.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=At.test(r)?this.mouseHooks:Pt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new rt.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||ft),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||ft,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=rt.extend(new rt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(r,null,e):rt.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=ft.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===_t&&(t[i]=null),t.detachEvent(i,n))},rt.Event=function(t,e){return this instanceof rt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?h:p):this.type=t,e&&rt.extend(this,e),this.timeStamp=t&&t.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(t,e)},rt.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!rt.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),nt.submitBubbles||(rt.event.special.submit={setup:function(){return!rt.nodeName(this,"form")&&void rt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=rt.nodeName(e,"input")||rt.nodeName(e,"button")?e.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&rt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!rt.nodeName(this,"form")&&void rt.event.remove(this,"._submit")}}),nt.changeBubbles||(rt.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,t,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Mt.test(e.nodeName)&&!rt._data(e,"changeBubbles")&&(rt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||rt.event.simulate("change",this.parentNode,t,!0)}),rt._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),nt.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){rt.event.simulate(e,t.target,rt.event.fix(t),!0)};rt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=rt._data(i,e);r||i.addEventListener(t,n,!0),rt._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=rt._data(i,e)-1;r?rt._data(i,e,r):(i.removeEventListener(t,n,!0),rt._removeData(i,e))}}}),rt.fn.extend({on:function(t,e,n,i,r){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=p;else if(!i)return this;return 1===r&&(a=i,i=function(t){return rt().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=rt.guid++)),this.each(function(){rt.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,rt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=p),this.each(function(){rt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?rt.event.trigger(t,e,n,!0):void 0}});var Rt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Bt=/ jQuery\d+="(?:null|\d+)"/g,Ft=new RegExp("<(?:"+Rt+")[\\s/>]","i"),jt=/^\s+/,zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qt=/<([\w:]+)/,Xt=/<tbody/i,Yt=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,Ht=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/^$|\/(?:java|ecma)script/i,Ut=/^true\/(.*)/,Wt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$t={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Zt=g(ft),Kt=Zt.appendChild(ft.createElement("div"));$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td,rt.extend({clone:function(t,e,n){var i,r,o,a,s,l=rt.contains(t.ownerDocument,t);if(nt.html5Clone||rt.isXMLDoc(t)||!Ft.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Kt.innerHTML=t.outerHTML,Kt.removeChild(o=Kt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(i=v(o),s=v(t),a=0;null!=(r=s[a]);++a)i[a]&&_(r,i[a]);if(e)if(n)for(s=s||v(t),i=i||v(o),a=0;null!=(r=s[a]);a++)E(r,i[a]);else E(t,o);return i=v(o,"script"),i.length>0&&w(i,!l&&v(t,"script")),i=s=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,a,s,l,u,c,d=t.length,h=g(e),p=[],f=0;d>f;f++)if(o=t[f],o||0===o)if("object"===rt.type(o))rt.merge(p,o.nodeType?[o]:o);else if(Yt.test(o)){for(s=s||h.appendChild(e.createElement("div")),l=(qt.exec(o)||["",""])[1].toLowerCase(),c=$t[l]||$t._default,s.innerHTML=c[1]+o.replace(zt,"<$1></$2>")+c[2],r=c[0];r--;)s=s.lastChild;if(!nt.leadingWhitespace&&jt.test(o)&&p.push(e.createTextNode(jt.exec(o)[0])),!nt.tbody)for(o="table"!==l||Xt.test(o)?"<table>"!==c[1]||Xt.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)rt.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(rt.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else p.push(e.createTextNode(o));for(s&&h.removeChild(s),nt.appendChecked||rt.grep(v(p,"input"),y),f=0;o=p[f++];)if((!i||-1===rt.inArray(o,i))&&(a=rt.contains(o.ownerDocument,o),s=v(h.appendChild(o),"script"),a&&w(s),n))for(r=0;o=s[r++];)Gt.test(o.type||"")&&n.push(o);return s=null,h},cleanData:function(t,e){for(var n,i,r,o,a=0,s=rt.expando,l=rt.cache,u=nt.deleteExpando,c=rt.event.special;null!=(n=t[a]);a++)if((e||rt.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)c[i]?rt.event.remove(n,i):rt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u?delete n[s]:typeof n.removeAttribute!==_t?n.removeAttribute(s):n[s]=null,W.push(r))}}}),rt.fn.extend({text:function(t){return kt(this,function(t){return void 0===t?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?rt.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||rt.cleanData(v(n)),n.parentNode&&(e&&rt.contains(n.ownerDocument,n)&&w(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&rt.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&rt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return kt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Bt,""):void 0;if(!("string"!=typeof t||Vt.test(t)||!nt.htmlSerialize&&Ft.test(t)||!nt.leadingWhitespace&&jt.test(t)||$t[(qt.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(zt,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(rt.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,rt.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Z.apply([],t);var n,i,r,o,a,s,l=0,u=this.length,c=this,d=u-1,h=t[0],p=rt.isFunction(h);if(p||u>1&&"string"==typeof h&&!nt.checkClone&&Ht.test(h))return this.each(function(n){var i=c.eq(n);p&&(t[0]=h.call(this,n,i.html())),i.domManip(t,e)});if(u&&(s=rt.buildFragment(t,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=rt.map(v(s,"script"),x),r=o.length;u>l;l++)i=s,l!==d&&(i=rt.clone(i,!0,!0),r&&rt.merge(o,v(i,"script"))),e.call(this[l],i,l);if(r)for(a=o[o.length-1].ownerDocument,rt.map(o,b),l=0;r>l;l++)i=o[l],Gt.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(a,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Wt,"")));s=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var n,i=0,r=[],o=rt(t),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),rt(o[i])[e](n),K.apply(r,n.get());return this.pushStack(r)}});var Qt,Jt={};!function(){var t;nt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return n=ft.getElementsByTagName("body")[0],n&&n.style?(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==_t&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ft.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var te,ee,ne=/^margin/,ie=new RegExp("^("+Ct+")(?!px)[a-z%]+$","i"),re=/^(top|right|bottom|left)$/;t.getComputedStyle?(te=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},ee=function(t,e,n){var i,r,o,a,s=t.style;return n=n||te(t),a=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==a||rt.contains(t.ownerDocument,t)||(a=rt.style(t,e)),ie.test(a)&&ne.test(e)&&(i=s.width,r=s.minWidth,
o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0===a?a:a+""}):ft.documentElement.currentStyle&&(te=function(t){return t.currentStyle},ee=function(t,e,n){var i,r,o,a,s=t.style;return n=n||te(t),a=n?n[e]:void 0,null==a&&s&&s[e]&&(a=s[e]),ie.test(a)&&!re.test(e)&&(i=s.left,r=t.runtimeStyle,o=r&&r.left,o&&(r.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),void 0===a?a:a+""||"auto"}),!function(){function e(){var e,n,i,r;n=ft.getElementsByTagName("body")[0],n&&n.style&&(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,l=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,a="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,r=e.appendChild(ft.createElement("div")),r.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight),e.removeChild(r)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=e.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===r[0].offsetHeight,s&&(r[0].style.display="",r[1].style.display="none",s=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,o,a,s,l;n=ft.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],(i=r&&r.style)&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,rt.extend(nt,{reliableHiddenOffsets:function(){return null==s&&e(),s},boxSizingReliable:function(){return null==a&&e(),a},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==l&&e(),l}}))}(),rt.swap=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r};var oe=/alpha\([^)]*\)/i,ae=/opacity\s*=\s*([^)]*)/,se=/^(none|table(?!-c[ea]).+)/,le=new RegExp("^("+Ct+")(.*)$","i"),ue=new RegExp("^([+-])=("+Ct+")","i"),ce={position:"absolute",visibility:"hidden",display:"block"},de={letterSpacing:"0",fontWeight:"400"},he=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ee(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=rt.camelCase(e),l=t.style;if(e=rt.cssProps[s]||(rt.cssProps[s]=D(l,s)),a=rt.cssHooks[e]||rt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:l[e];if(o=typeof n,"string"===o&&(r=ue.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(rt.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||rt.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(t,n,i)))))try{l[e]=n}catch(u){}}},css:function(t,e,n,i){var r,o,a,s=rt.camelCase(e);return e=rt.cssProps[s]||(rt.cssProps[s]=D(t.style,s)),a=rt.cssHooks[e]||rt.cssHooks[s],a&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=ee(t,e,i)),"normal"===o&&e in de&&(o=de[e]),""===n||n?(r=parseFloat(o),n===!0||rt.isNumeric(r)?r||0:o):o}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,n,i){return n?se.test(rt.css(t,"display"))&&0===t.offsetWidth?rt.swap(t,ce,function(){return M(t,e,i)}):M(t,e,i):void 0},set:function(t,n,i){var r=i&&te(t);return k(t,n,i?L(t,e,i,nt.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,r),r):0)}}}),nt.opacity||(rt.cssHooks.opacity={get:function(t,e){return ae.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=rt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===rt.trim(o.replace(oe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=oe.test(o)?o.replace(oe,r):o+" "+r)}}),rt.cssHooks.marginRight=C(nt.reliableMarginRight,function(t,e){return e?rt.swap(t,{display:"inline-block"},ee,[t,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Dt[i]+e]=o[i]||o[i-2]||o[0];return r}},ne.test(t)||(rt.cssHooks[t+e].set=k)}),rt.fn.extend({css:function(t,e){return kt(this,function(t,e,n){var i,r,o={},a=0;if(rt.isArray(e)){for(i=te(t),r=e.length;r>a;a++)o[e[a]]=rt.css(t,e[a],!1,i);return o}return void 0!==n?rt.style(t,e,n):rt.css(t,e)},t,e,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){St(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=P,P.prototype={constructor:P,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(rt.cssNumber[n]?"":"px")},cur:function(){var t=P.propHooks[this.prop];return t&&t.get?t.get(this):P.propHooks._default.get(this)},run:function(t){var e,n=P.propHooks[this.prop];return this.pos=e=this.options.duration?rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=rt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[rt.cssProps[t.prop]]||rt.cssHooks[t.prop])?rt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},rt.fx=P.prototype.init,rt.fx.step={};var pe,fe,ge=/^(?:toggle|show|hide)$/,ve=new RegExp("^(?:([+-])=|)("+Ct+")([a-z%]*)$","i"),ye=/queueHooks$/,me=[R],xe={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=ve.exec(e),o=r&&r[3]||(rt.cssNumber[t]?"":"px"),a=(rt.cssNumber[t]||"px"!==o&&+i)&&ve.exec(rt.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,rt.style(n.elem,t,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};rt.Animation=rt.extend(F,{tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],xe[n]=xe[n]||[],xe[n].unshift(e)},prefilter:function(t,e){e?me.unshift(t):me.push(t)}}),rt.speed=function(t,e,n){var i=t&&"object"==typeof t?rt.extend({},t):{complete:n||!n&&e||rt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!rt.isFunction(e)&&e};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(St).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=rt.isEmptyObject(t),o=rt.speed(e,n,i),a=function(){var e=F(this,rt.extend({},t),o);(r||rt._data(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=rt.timers,a=rt._data(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ye.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&rt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=rt._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=rt.timers,a=i?i.length:0;for(n.finish=!0,rt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var n=rt.fn[e];rt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(I(e,!0),t,i,r)}}),rt.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),rt.timers=[],rt.fx.tick=function(){var t,e=rt.timers,n=0;for(pe=rt.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||rt.fx.stop(),pe=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){fe||(fe=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(fe),fe=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(t,e){return t=rt.fx?rt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,r;e=ft.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=e.getElementsByTagName("a")[0],n=ft.createElement("select"),r=n.appendChild(ft.createElement("option")),t=e.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==e.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!t.value,nt.optSelected=r.selected,nt.enctype=!!ft.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!r.disabled,t=ft.createElement("input"),t.setAttribute("value",""),nt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),nt.radioValue="t"===t.value}();var be=/\r/g;rt.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=rt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,rt(this).val()):t,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(t){return null==t?"":t+""})),e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(be,""):null==n?"":n)):void 0}}),rt.extend({valHooks:{option:{get:function(t){var e=rt.find.attr(t,"value");return null!=e?e:rt.trim(rt.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&rt.nodeName(n.parentNode,"optgroup"))){if(e=rt(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=rt.makeArray(e),a=r.length;a--;)if(i=r[a],rt.inArray(rt.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){return rt.isArray(e)?t.checked=rt.inArray(rt(t).val(),e)>=0:void 0}},nt.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var we,Ee,_e=rt.expr.attrHandle,Te=/^(?:checked|selected)$/i,Ne=nt.getSetAttribute,Ce=nt.input;rt.fn.extend({attr:function(t,e){return kt(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===_t?rt.prop(t,e,n):(1===o&&rt.isXMLDoc(t)||(e=e.toLowerCase(),i=rt.attrHooks[e]||(rt.expr.match.bool.test(e)?Ee:we)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=rt.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void rt.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(xt);if(o&&1===t.nodeType)for(;n=o[r++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?Ce&&Ne||!Te.test(n)?t[i]=!1:t[rt.camelCase("default-"+n)]=t[i]=!1:rt.attr(t,n,""),t.removeAttribute(Ne?n:i)},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),Ee={set:function(t,e,n){return e===!1?rt.removeAttr(t,n):Ce&&Ne||!Te.test(n)?t.setAttribute(!Ne&&rt.propFix[n]||n,n):t[rt.camelCase("default-"+n)]=t[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=_e[e]||rt.find.attr;_e[e]=Ce&&Ne||!Te.test(e)?function(t,e,i){var r,o;return i||(o=_e[e],_e[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,_e[e]=o),r}:function(t,e,n){return n?void 0:t[rt.camelCase("default-"+e)]?e.toLowerCase():null}}),Ce&&Ne||(rt.attrHooks.value={set:function(t,e,n){return rt.nodeName(t,"input")?void(t.defaultValue=e):we&&we.set(t,e,n)}}),Ne||(we={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},_e.id=_e.name=_e.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:we.set},rt.attrHooks.contenteditable={set:function(t,e,n){we.set(t,""!==e&&e,n)}},rt.each(["width","height"],function(t,e){rt.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),nt.style||(rt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var De=/^(?:input|select|textarea|button|object)$/i,Se=/^(?:a|area)$/i;rt.fn.extend({prop:function(t,e){return kt(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=rt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!rt.isXMLDoc(t),o&&(e=rt.propFix[e]||e,r=rt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=rt.find.attr(t,"tabindex");return e?parseInt(e,10):De.test(t.nodeName)||Se.test(t.nodeName)&&t.href?0:-1}}}}),nt.hrefNormalized||rt.each(["href","src"],function(t,e){rt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),nt.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),nt.enctype||(rt.propFix.enctype="encoding");var ke=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(t){var e,n,i,r,o,a,s=0,l=this.length,u="string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(xt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ke," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=rt.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(xt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ke," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=t?rt.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(rt.isFunction(t)?function(n){rt(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,r=rt(this),o=t.match(xt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===_t||"boolean"===n)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||t===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ke," ").indexOf(e)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Le=rt.now(),Me=/\?/,Pe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=rt.trim(e+"");return r&&!rt.trim(r.replace(Pe,function(t,e,r,o){return n&&e&&(i=0),0===i?t:(n=r||e,i+=!o-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+e)},rt.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+e),n};var Ae,Ie,Oe=/#.*$/,Re=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,je=/^(?:GET|HEAD)$/,ze=/^\/\//,qe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Xe={},Ye={},Ve="*/".concat("*");try{Ie=location.href}catch(He){Ie=ft.createElement("a"),Ie.href="",Ie=Ie.href}Ae=qe.exec(Ie.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie,type:"GET",isLocal:Fe.test(Ae[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?q(q(t,rt.ajaxSettings),e):q(rt.ajaxSettings,t)},ajaxPrefilter:j(Xe),ajaxTransport:j(Ye),ajax:function(t,e){function n(t,e,n,i){var r,c,y,m,b,E=e;2!==x&&(x=2,s&&clearTimeout(s),u=void 0,a=i||"",w.readyState=t>0?4:0,r=t>=200&&300>t||304===t,n&&(m=X(d,w,n)),m=Y(d,m,w,r),r?(d.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(rt.lastModified[o]=b),b=w.getResponseHeader("etag"),b&&(rt.etag[o]=b)),204===t||"HEAD"===d.type?E="nocontent":304===t?E="notmodified":(E=m.state,c=m.data,y=m.error,r=!y)):(y=E,(t||!E)&&(E="error",0>t&&(t=0))),w.status=t,w.statusText=(e||E)+"",r?f.resolveWith(h,[c,E,w]):f.rejectWith(h,[w,E,y]),w.statusCode(v),v=void 0,l&&p.trigger(r?"ajaxSuccess":"ajaxError",[w,d,r?c:y]),g.fireWith(h,[w,E]),l&&(p.trigger("ajaxComplete",[w,d]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,s,l,u,c,d=rt.ajaxSetup({},e),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?rt(h):rt.event,f=rt.Deferred(),g=rt.Callbacks("once memory"),v=d.statusCode||{},y={},m={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!c)for(c={};e=Be.exec(a);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=m[n]=m[n]||t,y[t]=e),this},overrideMimeType:function(t){return x||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||b;return u&&u.abort(e),n(0,e),this}};if(f.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||Ie)+"").replace(Oe,"").replace(ze,Ae[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=rt.trim(d.dataType||"*").toLowerCase().match(xt)||[""],null==d.crossDomain&&(i=qe.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Ae[1]&&i[2]===Ae[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Ae[3]||("http:"===Ae[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=rt.param(d.data,d.traditional)),z(Xe,d,e,w),2===x)return w;l=rt.event&&d.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!je.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Me.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Re.test(o)?o.replace(Re,"$1_="+Le++):o+(Me.test(o)?"&":"?")+"_="+Le++)),d.ifModified&&(rt.lastModified[o]&&w.setRequestHeader("If-Modified-Since",rt.lastModified[o]),rt.etag[o]&&w.setRequestHeader("If-None-Match",rt.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ve+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)w.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(d.beforeSend.call(h,w,d)===!1||2===x))return w.abort();b="abort";for(r in{success:1,error:1,complete:1})w[r](d[r]);if(u=z(Ye,d,e,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{x=1,u.send(y,n)}catch(E){if(!(2>x))throw E;n(-1,E)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return rt.get(t,e,n,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,n,i,r){return rt.isFunction(n)&&(r=r||i,i=n,n=void 0),rt.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(t){if(rt.isFunction(t))return this.each(function(e){rt(this).wrapAll(t.call(this,e))});if(this[0]){var e=rt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(rt.isFunction(t)?function(e){rt(this).wrapInner(t.call(this,e))}:function(){var e=rt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(n){rt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||rt.css(t,"display"))},rt.expr.filters.visible=function(t){return!rt.expr.filters.hidden(t)};var Ge=/%20/g,Ue=/\[\]$/,We=/\r?\n/g,$e=/^(?:submit|button|image|reset|file)$/i,Ze=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var n,i=[],r=function(t,e){e=rt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){r(this.name,this.value)});else for(n in t)V(n,t[n],e,r);return i.join("&").replace(Ge,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&Ze.test(this.nodeName)&&!$e.test(t)&&(this.checked||!Lt.test(t))}).map(function(t,e){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(t){return{name:e.name,value:t.replace(We,"\r\n")}}):{name:e.name,value:n.replace(We,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&H()||G()}:H;var Ke=0,Qe={},Je=rt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Qe)Qe[t](void 0,!0)}),nt.cors=!!Je&&"withCredentials"in Je,Je=nt.ajax=!!Je,Je&&rt.ajaxTransport(function(t){if(!t.crossDomain||nt.cors){var e;return{send:function(n,i){var r,o=t.xhr(),a=++Ke;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(t.hasContent&&t.data||null),e=function(n,r){var s,l,u;if(e&&(r||4===o.readyState))if(delete Qe[a],e=void 0,o.onreadystatechange=rt.noop,r)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(c){l=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&i(s,l,u,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Qe[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=ft.head||rt("head")[0]||ft.documentElement;return{send:function(i,r){e=ft.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var tn=[],en=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||rt.expando+"_"+Le++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(en.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=rt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(en,"$1"+r):e.jsonp!==!1&&(e.url+=(Me.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||rt.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,tn.push(r)),a&&rt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),rt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||ft;var i=dt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=rt.buildFragment([t],e,r),r&&r.length&&rt(r).remove(),rt.merge([],i.childNodes))};var nn=rt.fn.load;rt.fn.load=function(t,e,n){if("string"!=typeof t&&nn)return nn.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return s>=0&&(i=rt.trim(t.slice(s,t.length)),t=t.slice(0,s)),rt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&rt.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?rt("<div>").append(rt.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,r||[t.responseText,e,t])}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt.expr.filters.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length};var rn=t.document.documentElement;rt.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,u,c=rt.css(t,"position"),d=rt(t),h={};"static"===c&&(t.style.position="relative"),s=d.offset(),o=rt.css(t,"top"),l=rt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&rt.inArray("auto",[o,l])>-1,u?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),rt.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):d.css(h)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,rt.contains(e,r)?(typeof r.getBoundingClientRect!==_t&&(i=r.getBoundingClientRect()),n=U(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(n=t.offset()),n.top+=rt.css(t[0],"borderTopWidth",!0),n.left+=rt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-rt.css(i,"marginTop",!0),left:e.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||rn;t&&!rt.nodeName(t,"html")&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||rn})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);rt.fn[t]=function(i){return kt(this,function(t,i,r){var o=U(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[i]:t[i]:void(o?o.scrollTo(n?rt(o).scrollLeft():r,n?r:rt(o).scrollTop()):t[i]=r)},t,i,arguments.length,null)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=C(nt.pixelPosition,function(t,n){return n?(n=ee(t,e),ie.test(n)?rt(t).position()[e]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){rt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return kt(this,function(e,n,i){
var r;return rt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?rt.css(e,n,a):rt.style(e,n,i,a)},e,o?i:void 0,o,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var on=t.jQuery,an=t.$;return rt.noConflict=function(e){return t.$===rt&&(t.$=an),e&&t.jQuery===rt&&(t.jQuery=on),rt},typeof e===_t&&(t.jQuery=t.$=rt),rt}),function(t){"use strict";t.fn.maskLoader=function(e){var n=t.extend({fade:!0,"z-index":"999",background:"white",opacity:"0.6",position:"absolute",imgLoader:!1,autoCreate:!0,textAlert:!1},e),i=t(this),r=n.fade,o=n.imgLoader,a=n.autoCreate;delete n.fade,delete n.imgLoader,delete n.autoCreate;var s="";s=r?"hide-loader":"show-loader";var l=t('<div class="mask-loader '+s+'"></div>'),u=t('<div class="mask-loader img '+s+'"></div>'),c=t();if(n.textAlert)var c=t('<div class="mask-loader text-alert '+s+'"><div class="textalert">'+n.textAlert+"</div></div>");l.css(n),"BODY"==i[0].tagName?(l.css({position:"fixed",width:"100%",height:"100%",left:"0",top:"0"}),u.css({position:"fixed"}),c.css({position:"fixed"})):(l.css({width:i.width()-2,height:i.height()-2}),u.css({position:"absolute"}),c.css({position:"absolute"})),u.css({"z-index":parseInt(l.css("z-index")+5),width:l.css("width"),height:l.css("height")}),c.css({"z-index":parseInt(l.css("z-index")+5),width:l.css("width"),height:l.css("height")}),o&&u.css({background:"url("+o+") center center no-repeat"});var d={create:function(){i.each(function(){t(this).prepend(c.clone()),t(this).prepend(u.clone()),t(this).prepend(l.clone()),r&&t(this).find(".mask-loader").fadeIn("slow")})},destroy:function(){i.each(function(){r?t(this).find(".mask-loader").fadeOut("slow",function(){t(this).remove()}):t(this).find(".mask-loader").remove()})}};return a&&d.create(),d};var e={};t(document).ajaxSend(function(n,i,r){if(null!=r.maskLoaderSettings){if(!r.maskLoaderSettings.hasOwnProperty("element"))throw'MaskLoader: element not defined. Ex: maskLoaderSettings:{"element":"#id .class"}';var o=r.maskLoaderSettings.element;if(delete r.maskLoaderSettings.element,e.element=o,"object"!=t.type(o)&&"string"==t.type(o)&&(e.element=t(o)),!e.element.length)throw"MaskLoader: Element not exists.";e.maskLoader=e.element.maskLoader(r.maskLoaderSettings)}}),t(document).ajaxError(function(t,n,i,r){e.hasOwnProperty("element")&&e.maskLoader.destroy()}),t(document).ajaxComplete(function(t,n,i){e.hasOwnProperty("element")&&e.maskLoader.destroy()}),t(document).ajaxStop(function(){e.hasOwnProperty("element")&&e.maskLoader.destroy()})}(jQuery),function(t,e,n){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function(i){"use strict";function r(t,e,n,r){this.id=n,this.target=t,this.tooltip=P,this.elements={target:t},this._id=H+"-"+n,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:i(),disabled:M,attr:r,onTooltip:M,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=M}function o(t){return t===P||"object"!==i.type(t)}function a(t){return!(i.isFunction(t)||t&&t.attr||t.length||"object"===i.type(t)&&(t.jquery||t.then))}function s(t){var e,n,r,s;return o(t)?M:(o(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(e=t.content,o(e)||e.jquery||e.done?e=t.content={text:n=a(e)?M:e}:n=e.text,"ajax"in e&&(r=e.ajax,s=r&&r.once!==M,delete e.ajax,e.text=function(t,e){var o=n||i(this).attr(e.options.content.attr)||"Loading...",a=i.ajax(i.extend({},r,{context:e})).then(r.success,P,r.error).then(function(t){return t&&s&&e.set("content.text",t),t},function(t,n,i){e.destroyed||0===t.status||e.set("content.text",n+": "+i)});return s?o:(e.set("content.text",o),a)}),"title"in e&&(o(e.title)||(e.button=e.title.button,e.title=e.title.text),a(e.title||M)&&(e.title=M))),"position"in t&&o(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&o(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===L?{ready:L}:{event:t.show}),"hide"in t&&o(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&o(t.style)&&(t.style={classes:t.style}),i.each(V,function(){this.sanitize&&this.sanitize(t)}),t)}function l(t,e){for(var n,i=0,r=t,o=e.split(".");r=r[o[i++]];)o.length>i&&(n=r);return[n||t,o.pop()]}function u(t,e){var n,i,r;for(n in this.checks)for(i in this.checks[n])(r=RegExp(i,"i").exec(t))&&(e.push(r),("builtin"===n||this.plugins[n])&&this.checks[n][i].apply(this.plugins[n]||this,e))}function c(t){return W.concat("").join(t?"-"+t+" ":" ")}function d(n){return n&&{type:n.type,pageX:n.pageX,pageY:n.pageY,target:n.target,relatedTarget:n.relatedTarget,scrollX:n.scrollX||t.pageXOffset||e.body.scrollLeft||e.documentElement.scrollLeft,scrollY:n.scrollY||t.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop}||{}}function h(t,e){return e>0?setTimeout(i.proxy(t,this),e):(t.call(this),n)}function p(t){return this.tooltip.hasClass(et)?M:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=h.call(this,function(){this.toggle(L,t)},this.options.show.delay),n)}function f(t){if(this.tooltip.hasClass(et))return M;var e=i(t.relatedTarget),n=e.closest($)[0]===this.tooltip[0],r=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&n||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(n||r))try{t.preventDefault(),t.stopImmediatePropagation()}catch(o){}else this.timers.hide=h.call(this,function(){this.toggle(M,t)},this.options.hide.delay,this)}function g(t){return this.tooltip.hasClass(et)||!this.options.hide.inactive?M:(clearTimeout(this.timers.inactive),this.timers.inactive=h.call(this,function(){this.hide(t)},this.options.hide.inactive),n)}function v(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function y(t,n,r){i(e.body).delegate(t,(n.split?n:n.join(lt+" "))+lt,function(){var t=N.api[i.attr(this,U)];t&&!t.disabled&&r.apply(t,arguments)})}function m(t,n,o){var a,l,u,c,d,h=i(e.body),p=t[0]===e?h:t,f=t.metadata?t.metadata(o.metadata):P,g="html5"===o.metadata.type&&f?f[o.metadata.name]:P,v=t.data(o.metadata.name||"qtipopts");try{v="string"==typeof v?i.parseJSON(v):v}catch(y){}if(c=i.extend(L,{},N.defaults,o,"object"==typeof v?s(v):P,s(g||f)),l=c.position,c.id=n,"boolean"==typeof c.content.text){if(u=t.attr(c.content.attr),c.content.attr===M||!u)return M;c.content.text=u}if(l.container.length||(l.container=h),l.target===M&&(l.target=p),c.show.target===M&&(c.show.target=p),c.show.solo===L&&(c.show.solo=l.container.closest("body")),c.hide.target===M&&(c.hide.target=p),c.position.viewport===L&&(c.position.viewport=l.container),l.container=l.container.eq(0),l.at=new D(l.at,L),l.my=new D(l.my),t.data(H))if(c.overwrite)t.qtip("destroy",!0);else if(c.overwrite===M)return M;return t.attr(G,n),c.suppress&&(d=t.attr("title"))&&t.removeAttr("title").attr(it,d).attr("title",""),a=new r(t,c,n,(!!u)),t.data(H,a),t.one("remove.qtip-"+n+" removeqtip.qtip-"+n,function(){var t;(t=i(this).data(H))&&t.destroy(!0)}),a}function x(t){return t.charAt(0).toUpperCase()+t.slice(1)}function b(t,e){var i,r,o=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+xt.join(o+" ")+o).split(" "),s=0;if(mt[e])return t.css(mt[e]);for(;i=a[s++];)if((r=t.css(i))!==n)return mt[e]=i,r}function w(t,e){return Math.ceil(parseFloat(b(t,e)))}function E(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.init(this.qtip=t)}function _(t,e){this.options=e,this._ns="-modal",this.init(this.qtip=t)}function T(t){this._ns="ie6",this.init(this.qtip=t)}var N,C,D,S,k,L=!0,M=!1,P=null,A="x",I="y",O="width",R="height",B="top",F="left",j="bottom",z="right",q="center",X="flipinvert",Y="shift",V={},H="qtip",G="data-hasqtip",U="data-qtip-id",W=["ui-widget","ui-tooltip"],$="."+H,Z="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),K=H+"-fixed",Q=H+"-default",J=H+"-focus",tt=H+"-hover",et=H+"-disabled",nt="_replacedByqTip",it="oldtitle",rt={ie:function(){for(var t=3,n=e.createElement("div");(n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&n.getElementsByTagName("i")[0];);return t>4?t:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||M};C=r.prototype,C._when=function(t){return i.when.apply(i,t)},C.render=function(t){if(this.rendered||this.destroyed)return this;var e,n=this,r=this.options,o=this.cache,a=this.elements,s=r.content.text,l=r.content.title,u=r.content.button,c=r.position,d=("."+this._id+" ",[]);return i.attr(this.target[0],"aria-describedby",this._id),this.tooltip=a.tooltip=e=i("<div/>",{id:this._id,"class":[H,Q,r.style.classes,H+"-pos-"+r.position.my.abbrev()].join(" "),width:r.style.width||"",height:r.style.height||"",tracking:"mouse"===c.target&&c.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":M,"aria-describedby":this._id+"-content","aria-hidden":L}).toggleClass(et,this.disabled).attr(U,this.id).data(H,this).appendTo(c.container).append(a.content=i("<div />",{"class":H+"-content",id:this._id+"-content","aria-atomic":L})),this.rendered=-1,this.positioning=L,l&&(this._createTitle(),i.isFunction(l)||d.push(this._updateTitle(l,M))),u&&this._createButton(),i.isFunction(s)||d.push(this._updateContent(s,M)),this.rendered=L,this._setWidget(),i.each(V,function(t){var e;"render"===this.initialize&&(e=this(n))&&(n.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(d).then(function(){n._trigger("render"),n.positioning=M,n.hiddenDuringWait||!r.show.ready&&!t||n.toggle(L,o.event,M),n.hiddenDuringWait=M}),N.api[this.id]=this,this},C.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=L;var t=this.target,e=t.attr(it);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),i.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),t.removeData(H).removeAttr(U).removeAttr(G).removeAttr("aria-describedby"),this.options.suppress&&e&&t.attr("title",e).removeAttr(it),this._unbind(t),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=P,delete N.api[this.id]}}return this.destroyed?this.target:(t===L&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",i.proxy(e,this)),!this.triggering&&this.hide()),this.target)},S=C.checks={builtin:{"^id$":function(t,e,n,r){var o=n===L?N.nextid:n,a=H+"-"+o;o!==M&&o.length>0&&!i("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=r},"^prerender":function(t,e,n){n&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,n){this._updateContent(n)},"^content.attr$":function(t,e,n,i){this.options.content.text===this.target.attr(i)&&this._updateContent(this.target.attr(n))},"^content.title$":function(t,e,i){return i?(i&&!this.elements.title&&this._createTitle(),this._updateTitle(i),n):this._removeTitle()},"^content.button$":function(t,e,n){this._updateButton(n)},"^content.title.(text|button)$":function(t,e,n){this.set("content."+e,n)},"^position.(my|at)$":function(t,e,n){"string"==typeof n&&(t[e]=new D(n,"at"===e))},"^position.container$":function(t,e,n){this.rendered&&this.tooltip.appendTo(n)},"^show.ready$":function(t,e,n){n&&(!this.rendered&&this.render(L)||this.toggle(L))},"^style.classes$":function(t,e,n,i){this.rendered&&this.tooltip.removeClass(i).addClass(n)},"^style.(width|height)":function(t,e,n){this.rendered&&this.tooltip.css(e,n)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,n){this.rendered&&this.tooltip.toggleClass(Q,!!n)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,n){this.rendered&&this.tooltip[(i.isFunction(n)?"":"un")+"bind"]("tooltip"+e,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},C.get=function(t){if(this.destroyed)return this;var e=l(this.options,t.toLowerCase()),n=e[0][e[1]];return n.precedance?n.string():n};var ot=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,at=/^prerender|show\.ready/i;C.set=function(t,e){if(this.destroyed)return this;var r,o=this.rendered,a=M,c=this.options;return this.checks,"string"==typeof t?(r=t,t={},t[r]=e):t=i.extend({},t),i.each(t,function(e,r){if(o&&at.test(e))return delete t[e],n;var s,u=l(c,e.toLowerCase());s=u[0][u[1]],u[0][u[1]]=r&&r.nodeType?i(r):r,a=ot.test(e)||a,t[e]=[u[0],u[1],r,s]}),s(c),this.positioning=L,i.each(t,i.proxy(u,this)),this.positioning=M,this.rendered&&this.tooltip[0].offsetWidth>0&&a&&this.reposition("mouse"===c.position.target?P:this.cache.event),this},C._update=function(t,e){var n=this,r=this.cache;return this.rendered&&t?(i.isFunction(t)&&(t=t.call(this.elements.target,r.event,this)||""),i.isFunction(t.then)?(r.waiting=L,t.then(function(t){return r.waiting=M,n._update(t,e)},P,function(t){return n._update(t,e)})):t===M||!t&&""!==t?M:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){t.images&&t.images.length&&n.rendered&&n.tooltip[0].offsetWidth>0&&n.reposition(r.event,!t.length)}))):M},C._waitForContent=function(t){var e=this.cache;return e.waiting=L,(i.fn.imagesLoaded?t.imagesLoaded():i.Deferred().resolve([])).done(function(){e.waiting=M}).promise()},C._updateContent=function(t,e){this._update(t,this.elements.content,e)},C._updateTitle=function(t,e){this._update(t,this.elements.title,e)===M&&this._removeTitle(M)},C._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=i("<div />",{"class":H+"-titlebar "+(this.options.style.widget?c("header"):"")}).append(t.title=i("<div />",{id:e,"class":H+"-title","aria-atomic":L})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){i(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){i(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},C._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=P,t!==M&&this.reposition())},C.reposition=function(n,r){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=L;var o,a,s=this.cache,l=this.tooltip,u=this.options.position,c=u.target,d=u.my,h=u.at,p=u.viewport,f=u.container,g=u.adjust,v=g.method.split(" "),y=l.outerWidth(M),m=l.outerHeight(M),x=0,b=0,w=l.css("position"),E={left:0,top:0},_=l[0].offsetWidth>0,T=n&&"scroll"===n.type,N=i(t),C=f[0].ownerDocument,D=this.mouse;if(i.isArray(c)&&2===c.length)h={x:F,y:B},E={left:c[0],top:c[1]};else if("mouse"===c)h={x:F,y:B},!D||!D.pageX||!g.mouse&&n&&n.pageX?n&&n.pageX||((!g.mouse||this.options.show.distance)&&s.origin&&s.origin.pageX?n=s.origin:(!n||n&&("resize"===n.type||"scroll"===n.type))&&(n=s.event)):n=D,"static"!==w&&(E=f.offset()),C.body.offsetWidth!==(t.innerWidth||C.documentElement.clientWidth)&&(a=i(e.body).offset()),E={left:n.pageX-E.left+(a&&a.left||0),top:n.pageY-E.top+(a&&a.top||0)},g.mouse&&T&&D&&(E.left-=(D.scrollX||0)-N.scrollLeft(),E.top-=(D.scrollY||0)-N.scrollTop());else{if("event"===c?n&&n.target&&"scroll"!==n.type&&"resize"!==n.type?s.target=i(n.target):n.target||(s.target=this.elements.target):"event"!==c&&(s.target=i(c.jquery?c:this.elements.target)),c=s.target,c=i(c).eq(0),0===c.length)return this;c[0]===e||c[0]===t?(x=rt.iOS?t.innerWidth:c.width(),b=rt.iOS?t.innerHeight:c.height(),c[0]===t&&(E={top:(p||c).scrollTop(),left:(p||c).scrollLeft()})):V.imagemap&&c.is("area")?o=V.imagemap(this,c,h,V.viewport?v:M):V.svg&&c&&c[0].ownerSVGElement?o=V.svg(this,c,h,V.viewport?v:M):(x=c.outerWidth(M),b=c.outerHeight(M),E=c.offset()),o&&(x=o.width,b=o.height,a=o.offset,E=o.position),E=this.reposition.offset(c,E,f),(rt.iOS>3.1&&4.1>rt.iOS||rt.iOS>=4.3&&4.33>rt.iOS||!rt.iOS&&"fixed"===w)&&(E.left-=N.scrollLeft(),E.top-=N.scrollTop()),(!o||o&&o.adjustable!==M)&&(E.left+=h.x===z?x:h.x===q?x/2:0,E.top+=h.y===j?b:h.y===q?b/2:0)}return E.left+=g.x+(d.x===z?-y:d.x===q?-y/2:0),E.top+=g.y+(d.y===j?-m:d.y===q?-m/2:0),V.viewport?(E.adjusted=V.viewport(this,E,u,x,b,y,m),a&&E.adjusted.left&&(E.left+=a.left),a&&E.adjusted.top&&(E.top+=a.top)):E.adjusted={left:0,top:0},this._trigger("move",[E,p.elem||p],n)?(delete E.adjusted,r===M||!_||isNaN(E.left)||isNaN(E.top)||"mouse"===c||!i.isFunction(u.effect)?l.css(E):i.isFunction(u.effect)&&(u.effect.call(l,this,i.extend({},E)),l.queue(function(t){i(this).css({opacity:"",height:""}),rt.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=M,this):this},C.reposition.offset=function(t,n,r){function o(t,e){n.left+=e*t.scrollLeft(),n.top+=e*t.scrollTop()}if(!r[0])return n;var a,s,l,u,c=i(t[0].ownerDocument),d=!!rt.ie&&"CSS1Compat"!==e.compatMode,h=r[0];do"static"!==(s=i.css(h,"position"))&&("fixed"===s?(l=h.getBoundingClientRect(),o(c,-1)):(l=i(h).position(),l.left+=parseFloat(i.css(h,"borderLeftWidth"))||0,l.top+=parseFloat(i.css(h,"borderTopWidth"))||0),n.left-=l.left+(parseFloat(i.css(h,"marginLeft"))||0),n.top-=l.top+(parseFloat(i.css(h,"marginTop"))||0),a||"hidden"===(u=i.css(h,"overflow"))||"visible"===u||(a=i(h)));while(h=h.offsetParent);return a&&(a[0]!==c[0]||d)&&o(a,1),n};var st=(D=C.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,q).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var n=t.charAt(0);this.precedance="t"===n||"b"===n?I:A}).prototype;st.invert=function(t,e){this[t]=this[t]===F?z:this[t]===z?F:e||this[t]},st.string=function(){var t=this.x,e=this.y;return t===e?t:this.precedance===I||this.forceY&&"center"!==e?e+" "+t:t+" "+e},st.abbrev=function(){var t=this.string().split(" ");return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},st.clone=function(){return new D(this.string(),this.forceY)},C.toggle=function(t,n){var r=this.cache,o=this.options,a=this.tooltip;if(n){if(/over|enter/.test(n.type)&&/out|leave/.test(r.event.type)&&o.show.target.add(n.target).length===o.show.target.length&&a.has(n.relatedTarget).length)return this;r.event=d(n)}if(this.waiting&&!t&&(this.hiddenDuringWait=L),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var s,l,u,c=t?"show":"hide",h=this.options[c],p=(this.options[t?"hide":"show"],this.options.position),f=this.options.content,g=this.tooltip.css("width"),v=this.tooltip.is(":visible"),y=t||1===h.target.length,m=!n||2>h.target.length||r.target[0]===n.target;return(typeof t).search("boolean|number")&&(t=!v),s=!a.is(":animated")&&v===t&&m,l=s?P:!!this._trigger(c,[90]),this.destroyed?this:(l!==M&&t&&this.focus(n),!l||s?this:(i.attr(a[0],"aria-hidden",!t),t?(r.origin=d(this.mouse),i.isFunction(f.text)&&this._updateContent(f.text,M),i.isFunction(f.title)&&this._updateTitle(f.title,M),!k&&"mouse"===p.target&&p.adjust.mouse&&(i(e).bind("mousemove."+H,this._storeMouse),k=L),g||a.css("width",a.outerWidth(M)),this.reposition(n,arguments[2]),g||a.css("width",""),h.solo&&("string"==typeof h.solo?i(h.solo):i($,h.solo)).not(a).not(h.target).qtip("hide",i.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete r.origin,k&&!i($+'[tracking="true"]:visible',h.solo).not(a).length&&(i(e).unbind("mousemove."+H),k=M),this.blur(n)),u=i.proxy(function(){t?(rt.ie&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof h.autofocus&&i(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),h.effect===M||y===M?(a[c](),u()):i.isFunction(h.effect)?(a.stop(1,1),h.effect.call(a,this),a.queue("fx",function(t){u(),t()})):a.fadeTo(90,t?1:0,u),t&&h.target.trigger("qtip-"+this.id+"-inactive"),this))},C.show=function(t){return this.toggle(L,t)},C.hide=function(t){return this.toggle(M,t)},C.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=i($),n=this.tooltip,r=parseInt(n[0].style.zIndex,10),o=N.zindex+e.length;return n.hasClass(J)||this._trigger("focus",[o],t)&&(r!==o&&(e.each(function(){this.style.zIndex>r&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+J).qtip("blur",t)),n.addClass(J)[0].style.zIndex=o),this},C.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(J),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},C.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(et):this.disabled):"boolean"!=typeof t&&(t=L),this.rendered&&this.tooltip.toggleClass(et,t).attr("aria-disabled",t),this.disabled=!!t,this)},C.enable=function(){return this.disable(M)},C._createButton=function(){var t=this,e=this.elements,n=e.tooltip,r=this.options.content.button,o="string"==typeof r,a=o?r:"Close tooltip";e.button&&e.button.remove(),e.button=r.jquery?r:i("<a />",{"class":"qtip-close "+(this.options.style.widget?"":H+"-icon"),title:a,"aria-label":a}).prepend(i("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||n).attr("role","button").click(function(e){return n.hasClass(et)||t.hide(e),M})},C._updateButton=function(t){if(!this.rendered)return M;var e=this.elements.button;t?this._createButton():e.remove()},C._setWidget=function(){var t=this.options.style.widget,e=this.elements,n=e.tooltip,i=n.hasClass(et);n.removeClass(et),et=t?"ui-state-disabled":"qtip-disabled",n.toggleClass(et,i),n.toggleClass("ui-helper-reset "+c(),t).toggleClass(Q,this.options.style.def&&!t),e.content&&e.content.toggleClass(c("content"),t),e.titlebar&&e.titlebar.toggleClass(c("header"),t),e.button&&e.button.toggleClass(H+"-icon",!t)},C._storeMouse=function(t){(this.mouse=d(t)).type="mousemove"},C._bind=function(t,e,n,r,o){var a="."+this._id+(r?"-"+r:"");e.length&&i(t).bind((e.split?e:e.join(a+" "))+a,i.proxy(n,o||this))},C._unbind=function(t,e){i(t).unbind("."+this._id+(e?"-"+e:""))};var lt="."+H;i(function(){y($,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,n=i(t.currentTarget),r=i(t.relatedTarget||t.target),o=this.options;e?(this.focus(t),n.hasClass(K)&&!n.hasClass(et)&&clearTimeout(this.timers.hide)):"mouse"===o.position.target&&o.hide.event&&o.show.target&&!r.closest(o.show.target[0]).length&&this.hide(t),n.toggleClass(tt,e)}),y("["+U+"]",Z,g)}),C._trigger=function(t,e,n){var r=i.Event("tooltip"+t);return r.originalEvent=n&&i.extend({},n)||this.cache.event||P,this.triggering=t,this.tooltip.trigger(r,[this].concat(e||[])),this.triggering=M,!r.isDefaultPrevented()},C._bindEvents=function(t,e,r,o,a,s){if(o.add(r).length===o.length){var l=[];e=i.map(e,function(e){var r=i.inArray(e,t);return r>-1?(l.push(t.splice(r,1)[0]),n):e}),l.length&&this._bind(r,l,function(t){var e=!!this.rendered&&this.tooltip[0].offsetWidth>0;(e?s:a).call(this,t)})}this._bind(r,t,a),this._bind(o,e,s)},C._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?M:(this.cache.event=d(t),this.cache.target=t?i(t.target):[n],clearTimeout(this.timers.show),this.timers.show=h.call(this,function(){this.render("object"==typeof t||r.show.ready)},r.show.delay),n)}var r=this.options,o=r.show.target,a=r.hide.target,s=r.show.event?i.trim(""+r.show.event).split(" "):[],l=r.hide.event?i.trim(""+r.hide.event).split(" "):[];/mouse(over|enter)/i.test(r.show.event)&&!/mouse(out|leave)/i.test(r.hide.event)&&l.push("mouseleave"),this._bind(o,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=L}),this._bindEvents(s,l,o,a,e,function(){clearTimeout(this.timers.show)}),(r.show.ready||r.prerender)&&e.call(this,t)},C._assignEvents=function(){var n=this,r=this.options,o=r.position,a=this.tooltip,s=r.show.target,l=r.hide.target,u=o.container,c=o.viewport,d=i(e),h=(i(e.body),i(t)),y=r.show.event?i.trim(""+r.show.event).split(" "):[],m=r.hide.event?i.trim(""+r.hide.event).split(" "):[];i.each(r.events,function(t,e){n._bind(a,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,a)}),/mouse(out|leave)/i.test(r.hide.event)&&"window"===r.hide.leave&&this._bind(d,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),r.hide.fixed?l=l.add(a.addClass(K)):/mouse(over|enter)/i.test(r.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+r.hide.event).indexOf("unfocus")>-1&&this._bind(u.closest("html"),["mousedown","touchstart"],function(t){var e=i(t.target),n=this.rendered&&!this.tooltip.hasClass(et)&&this.tooltip[0].offsetWidth>0,r=e.parents($).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||r||this.target.has(e[0]).length||!n||this.hide(t)}),"number"==typeof r.hide.inactive&&(this._bind(s,"qtip-"+this.id+"-inactive",g),this._bind(l.add(a),N.inactiveEvents,g,"-inactive")),this._bindEvents(y,m,s,l,p,f),this._bind(s.add(a),"mousemove",function(t){if("number"==typeof r.hide.distance){var e=this.cache.origin||{},n=this.options.hide.distance,i=Math.abs;(i(t.pageX-e.pageX)>=n||i(t.pageY-e.pageY)>=n)&&this.hide(t)}this._storeMouse(t)}),"mouse"===o.target&&o.adjust.mouse&&(r.hide.event&&this._bind(s,["mouseenter","mouseleave"],function(t){this.cache.onTarget="mouseenter"===t.type}),this._bind(d,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(et)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(o.adjust.resize||c.length)&&this._bind(i.event.special.resize?c:h,"resize",v),o.adjust.scroll&&this._bind(h.add(o.container),"scroll",v)},C._unassignEvents=function(){var n=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],t,e];this._unbind(i([]).pushStack(i.grep(n,function(t){return"object"==typeof t})))},N=i.fn.qtip=function(t,e,r){var o=(""+t).toLowerCase(),a=P,l=i.makeArray(arguments).slice(1),u=l[l.length-1],c=this[0]?i.data(this[0],H):P;return!arguments.length&&c||"api"===o?c:"string"==typeof t?(this.each(function(){var t=i.data(this,H);if(!t)return L;if(u&&u.timeStamp&&(t.cache.event=u),!e||"option"!==o&&"options"!==o)t[o]&&t[o].apply(t,l);else{if(r===n&&!i.isPlainObject(e))return a=t.get(e),M;t.set(e,r)}}),a!==P?a:this):"object"!=typeof t&&arguments.length?n:(c=s(i.extend(L,{},t)),this.each(function(t){var e,r;return r=i.isArray(c.id)?c.id[t]:c.id,r=!r||r===M||1>r.length||N.api[r]?N.nextid++:r,e=m(i(this),r,c),e===M?L:(N.api[r]=e,i.each(V,function(){"initialize"===this.initialize&&this(e)}),e._assignInitialEvents(u),n)}))},i.qtip=r,N.api={},i.each({attr:function(t,e){if(this.length){var n=this[0],r="title",o=i.data(n,"qtip");if(t===r&&o&&"object"==typeof o&&o.options.suppress)return 2>arguments.length?i.attr(n,it):(o&&o.options.content.attr===r&&o.cache.attr&&o.set("content.text",e),this.attr(it,e))}return i.fn["attr"+nt].apply(this,arguments)},clone:function(t){var e=(i([]),i.fn["clone"+nt].apply(this,arguments));return t||e.filter("["+it+"]").attr("title",function(){return i.attr(this,it)}).removeAttr(it),e}},function(t,e){if(!e||i.fn[t+nt])return L;var n=i.fn[t+nt]=i.fn[t];i.fn[t]=function(){return e.apply(this,arguments)||n.apply(this,arguments)}}),i.ui||(i["cleanData"+nt]=i.cleanData,i.cleanData=function(t){for(var e,n=0;(e=i(t[n])).length;n++)if(e.attr(G))try{e.triggerHandler("removeqtip")}catch(r){}i["cleanData"+nt].apply(this,arguments)}),N.version="2.2.0",N.nextid=0,N.inactiveEvents=Z,N.zindex=15e3,N.defaults={prerender:M,id:M,overwrite:L,suppress:L,content:{text:L,attr:"title",title:M,button:M},position:{my:"top left",at:"bottom right",target:M,container:M,viewport:M,adjust:{x:0,y:0,mouse:L,scroll:L,resize:L,method:"flipinvert flipinvert"},effect:function(t,e){i(this).animate(e,{duration:200,queue:M})}},show:{target:M,event:"mouseenter",effect:L,delay:90,solo:M,ready:M,autofocus:M},hide:{target:M,event:"mouseleave",effect:L,delay:0,fixed:M,inactive:M,leave:"window",distance:M},style:{classes:"",widget:M,width:M,height:M,def:L},events:{render:P,move:P,show:P,hide:P,toggle:P,visible:P,hidden:P,focus:P,blur:P}};var ut,ct="margin",dt="border",ht="color",pt="background-color",ft="transparent",gt=" !important",vt=!!e.createElement("canvas").getContext,yt=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,mt={},xt=["Webkit","O","Moz","ms"];if(vt)var bt=t.devicePixelRatio||1,wt=function(){var t=e.createElement("canvas").getContext("2d");return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}(),Et=bt/wt;else var _t=function(t,e,n){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'};i.extend(E.prototype,{init:function(t){var e,n;n=this.element=t.elements.tip=i("<div />",{"class":H+"-tip"}).prependTo(t.tooltip),vt?(e=i("<canvas />").appendTo(this.element)[0].getContext("2d"),e.lineJoin="miter",e.miterLimit=1e5,e.save()):(e=_t("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(e+e),t._bind(i("*",n).add(n),["click","mousedown"],function(t){t.stopPropagation()},this._ns)),t._bind(t.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===B||t.y===q&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(L))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===M||e===M?t=M:t===L?t=new D(e.string()):t.string||(t=new D(t),t.fixed=L),t},_parseWidth:function(t,e,n){var i=this.qtip.elements,r=dt+x(e)+"Width";return(n?w(n,r):w(i.content,r)||w(this._useTitle(t)&&i.titlebar||i.content,r)||w(i.tooltip,r))||0},_parseRadius:function(t){var e=this.qtip.elements,n=dt+x(t.y)+x(t.x)+"Radius";return 9>rt.ie?0:w(this._useTitle(t)&&e.titlebar||e.content,n)||w(e.tooltip,n)||0},_invalidColour:function(t,e,n){var i=t.css(e);return!i||n&&i===t.css(n)||yt.test(i)?M:i},_parseColours:function(t){var e=this.qtip.elements,n=this.element.css("cssText",""),r=dt+x(t[t.precedance])+x(ht),o=this._useTitle(t)&&e.titlebar||e.content,a=this._invalidColour,s=[];return s[0]=a(n,pt)||a(o,pt)||a(e.content,pt)||a(e.tooltip,pt)||n.css(pt),s[1]=a(n,r,ht)||a(o,r,ht)||a(e.content,r,ht)||a(e.tooltip,r,ht)||e.tooltip.css(r),i("*",n).add(n).css("cssText",pt+":"+ft+gt+";"+dt+":0"+gt+";"),s},_calculateSize:function(t){var e,n,i,r=t.precedance===I,o=this.options.width,a=this.options.height,s="c"===t.abbrev(),l=(r?o:a)*(s?.5:1),u=Math.pow,c=Math.round,d=Math.sqrt(u(l,2)+u(a,2)),h=[this.border/l*d,this.border/a*d];return h[2]=Math.sqrt(u(h[0],2)-u(this.border,2)),h[3]=Math.sqrt(u(h[1],2)-u(this.border,2)),e=d+h[2]+h[3]+(s?0:h[0]),n=e/d,i=[c(n*o),c(n*a)],r?i:i.reverse()},_calculateTip:function(t,e,n){n=n||1,e=e||this.size;var i=e[0]*n,r=e[1]*n,o=Math.ceil(i/2),a=Math.ceil(r/2),s={br:[0,0,i,r,i,0],bl:[0,0,i,0,0,r],tr:[0,r,i,0,i,r],tl:[0,0,0,r,i,r],tc:[0,r,o,0,i,r],bc:[0,0,i,0,o,r],rc:[0,0,i,a,0,r],lc:[i,0,i,r,0,a]
};return s.lt=s.br,s.rt=s.bl,s.lb=s.tr,s.rb=s.tl,s[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(vt||rt.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,n){if(!this.enabled)return this;var r,o,a,s,l,u,c,d,h=this.qtip.elements,p=this.element,f=p.children(),g=this.options,v=this.size,y=g.mimic,m=Math.round;e||(e=this.qtip.cache.corner||this.corner),y===M?y=e:(y=new D(y),y.precedance=e.precedance,"inherit"===y.x?y.x=e.x:"inherit"===y.y?y.y=e.y:y.x===y.y&&(y[e.precedance]=e[e.precedance])),o=y.precedance,e.precedance===A?this._swapDimensions():this._resetDimensions(),r=this.color=this._parseColours(e),r[1]!==ft?(d=this.border=this._parseWidth(e,e[e.precedance]),g.border&&1>d&&!yt.test(r[1])&&(r[0]=r[1]),this.border=d=g.border!==L?g.border:d):this.border=d=0,c=this.size=this._calculateSize(e),p.css({width:c[0],height:c[1],lineHeight:c[1]+"px"}),u=e.precedance===I?[m(y.x===F?d:y.x===z?c[0]-v[0]-d:(c[0]-v[0])/2),m(y.y===B?c[1]-v[1]:0)]:[m(y.x===F?c[0]-v[0]:0),m(y.y===B?d:y.y===j?c[1]-v[1]-d:(c[1]-v[1])/2)],vt?(a=f[0].getContext("2d"),a.restore(),a.save(),a.clearRect(0,0,6e3,6e3),s=this._calculateTip(y,v,Et),l=this._calculateTip(y,this.size,Et),f.attr(O,c[0]*Et).attr(R,c[1]*Et),f.css(O,c[0]).css(R,c[1]),this._drawCoords(a,l),a.fillStyle=r[1],a.fill(),a.translate(u[0]*Et,u[1]*Et),this._drawCoords(a,s),a.fillStyle=r[0],a.fill()):(s=this._calculateTip(y),s="m"+s[0]+","+s[1]+" l"+s[2]+","+s[3]+" "+s[4]+","+s[5]+" xe",u[2]=d&&/^(r|b)/i.test(e.string())?8===rt.ie?2:1:0,f.css({coordsize:c[0]+d+" "+(c[1]+d),antialias:""+(y.string().indexOf(q)>-1),left:u[0]-u[2]*Number(o===A),top:u[1]-u[2]*Number(o===I),width:c[0]+d,height:c[1]+d}).each(function(t){var e=i(this);e[e.prop?"prop":"attr"]({coordsize:c[0]+d+" "+(c[1]+d),path:s,fillcolor:r[0],filled:!!t,stroked:!t}).toggle(!(!d&&!t)),!t&&e.html(_t("stroke",'weight="'+2*d+'px" color="'+r[1]+'" miterlimit="1000" joinstyle="miter"'))})),t.opera&&setTimeout(function(){h.tip.css({display:"inline-block",visibility:"visible"})},1),n!==M&&this.calculate(e,c)},calculate:function(t,e){if(!this.enabled)return M;var n,r,o=this,a=this.qtip.elements,s=this.element,l=this.options.offset,u=(a.tooltip.hasClass("ui-widget"),{});return t=t||this.corner,n=t.precedance,e=e||this._calculateSize(t),r=[t.x,t.y],n===A&&r.reverse(),i.each(r,function(i,r){var s,c,d;r===q?(s=n===I?F:B,u[s]="50%",u[ct+"-"+s]=-Math.round(e[n===I?0:1]/2)+l):(s=o._parseWidth(t,r,a.tooltip),c=o._parseWidth(t,r,a.content),d=o._parseRadius(t),u[r]=Math.max(-o.border,i?c:l+(d>s?d:-s)))}),u[t[n]]-=e[n===A?0:1],s.css({margin:"",top:"",bottom:"",left:"",right:""}).css(u),u},reposition:function(t,e,i){function r(t,e,n,i,r){t===Y&&u.precedance===e&&c[i]&&u[n]!==q?u.precedance=u.precedance===A?I:A:t!==Y&&c[i]&&(u[e]=u[e]===q?c[i]>0?i:r:u[e]===i?r:i)}function o(t,e,r){u[t]===q?g[ct+"-"+e]=f[t]=a[ct+"-"+e]-c[e]:(s=a[r]!==n?[c[e],-a[e]]:[-c[e],a[e]],(f[t]=Math.max(s[0],s[1]))>s[0]&&(i[e]-=c[e],f[e]=M),g[a[r]!==n?r:e]=f[t])}if(this.enabled){var a,s,l=e.cache,u=this.corner.clone(),c=i.adjusted,d=e.options.position.adjust.method.split(" "),h=d[0],p=d[1]||d[0],f={left:M,top:M,x:0,y:0},g={};this.corner.fixed!==L&&(r(h,A,I,F,z),r(p,I,A,B,j),u.string()===l.corner.string()||l.cornerTop===c.top&&l.cornerLeft===c.left||this.update(u,M)),a=this.calculate(u),a.right!==n&&(a.left=-a.right),a.bottom!==n&&(a.top=-a.bottom),a.user=this.offset,(f.left=h===Y&&!!c.left)&&o(A,F,z),(f.top=p===Y&&!!c.top)&&o(I,B,j),this.element.css(g).toggle(!(f.x&&f.y||u.x===q&&f.y||u.y===q&&f.x)),i.left-=a.left.charAt?a.user:h!==Y||f.top||!f.left&&!f.top?a.left+this.border:0,i.top-=a.top.charAt?a.user:p!==Y||f.left||!f.left&&!f.top?a.top+this.border:0,l.cornerLeft=c.left,l.cornerTop=c.top,l.corner=u.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),ut=V.tip=function(t){return new E(t,t.options.style.tip)},ut.initialize="render",ut.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!=typeof e&&(e=t.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=L)}},S.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},i.extend(L,N.defaults,{style:{tip:{corner:L,mimic:M,width:6,height:6,border:L,offset:0}}});var Tt,Nt,Ct="qtip-modal",Dt="."+Ct;Nt=function(){function t(t){if(i.expr[":"].focusable)return i.expr[":"].focusable;var e,n,r,o=!isNaN(i.attr(t,"tabindex")),a=t.nodeName&&t.nodeName.toLowerCase();return"area"===a?(e=t.parentNode,n=e.name,!(!t.href||!n||"map"!==e.nodeName.toLowerCase())&&(r=i("img[usemap=#"+n+"]")[0],!!r&&r.is(":visible"))):/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||o:o}function n(t){1>c.length&&t.length?t.not("body").blur():c.first().focus()}function r(t){if(l.is(":visible")){var e,r=i(t.target),s=o.tooltip,u=r.closest($);e=1>u.length?M:parseInt(u[0].style.zIndex,10)>parseInt(s[0].style.zIndex,10),e||r.closest($)[0]===s[0]||n(r),a=t.target===c[c.length-1]}}var o,a,s,l,u=this,c={};i.extend(u,{init:function(){return l=u.elem=i("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return M}}).hide(),i(e.body).bind("focusin"+Dt,r),i(e).bind("keydown"+Dt,function(t){o&&o.options.show.modal.escape&&27===t.keyCode&&o.hide(t)}),l.bind("click"+Dt,function(t){o&&o.options.show.modal.blur&&o.hide(t)}),u},update:function(e){o=e,c=e.options.show.modal.stealfocus!==M?e.tooltip.find("*").filter(function(){return t(this)}):[]},toggle:function(t,r,a){var c=(i(e.body),t.tooltip),d=t.options.show.modal,h=d.effect,p=r?"show":"hide",f=l.is(":visible"),g=i(Dt).filter(":visible:not(:animated)").not(c);return u.update(t),r&&d.stealfocus!==M&&n(i(":focus")),l.toggleClass("blurs",d.blur),r&&l.appendTo(e.body),l.is(":animated")&&f===r&&s!==M||!r&&g.length?u:(l.stop(L,M),i.isFunction(h)?h.call(l,r):h===M?l[p]():l.fadeTo(parseInt(a,10)||90,r?1:0,function(){r||l.hide()}),r||l.queue(function(t){l.css({left:"",top:""}),i(Dt).length||l.detach(),t()}),s=r,o.destroyed&&(o=P),u)}}),u.init()},Nt=new Nt,i.extend(_.prototype,{init:function(t){var e=t.tooltip;return this.options.on?(t.elements.overlay=Nt.elem,e.addClass(Ct).css("z-index",N.modal_zindex+i(Dt).length),t._bind(e,["tooltipshow","tooltiphide"],function(t,n,r){var o=t.originalEvent;if(t.target===e[0])if(o&&"tooltiphide"===t.type&&/mouse(leave|enter)/.test(o.type)&&i(o.relatedTarget).closest(Nt.elem[0]).length)try{t.preventDefault()}catch(a){}else(!o||o&&"tooltipsolo"!==o.type)&&this.toggle(t,"tooltipshow"===t.type,r)},this._ns,this),t._bind(e,"tooltipfocus",function(t,n){if(!t.isDefaultPrevented()&&t.target===e[0]){var r=i(Dt),o=N.modal_zindex+r.length,a=parseInt(e[0].style.zIndex,10);Nt.elem[0].style.zIndex=o-1,r.each(function(){this.style.zIndex>a&&(this.style.zIndex-=1)}),r.filter("."+J).qtip("blur",t.originalEvent),e.addClass(J)[0].style.zIndex=o,Nt.update(n);try{t.preventDefault()}catch(s){}}},this._ns,this),t._bind(e,"tooltiphide",function(t){t.target===e[0]&&i(Dt).filter(":visible").not(e).last().qtip("focus",t)},this._ns,this),n):this},toggle:function(t,e,i){return t&&t.isDefaultPrevented()?this:(Nt.toggle(this.qtip,!!e,i),n)},destroy:function(){this.qtip.tooltip.removeClass(Ct),this.qtip._unbind(this.qtip.tooltip,this._ns),Nt.toggle(this.qtip,M),delete this.qtip.elements.overlay}}),Tt=V.modal=function(t){return new _(t,t.options.show.modal)},Tt.sanitize=function(t){t.show&&("object"!=typeof t.show.modal?t.show.modal={on:!!t.show.modal}:t.show.modal.on===n&&(t.show.modal.on=L))},N.modal_zindex=N.zindex-200,Tt.initialize="render",S.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},i.extend(L,N.defaults,{show:{modal:{on:M,effect:L,blur:L,stealfocus:L,escape:L}}}),V.viewport=function(n,i,r,o,a,s,l){function u(t,e,n,r,o,a,s,l,u){var c=i[o],h=w[t],x=E[t],b=n===Y,_=h===o?u:h===a?-u:-u/2,T=x===o?l:x===a?-l:-l/2,N=y[o]+m[o]-(f?0:p[o]),C=N-c,D=c+u-(s===O?g:v)-N,S=_-(w.precedance===t||h===w[e]?T:0)-(x===q?l/2:0);return b?(S=(h===o?1:-1)*_,i[o]+=C>0?C:D>0?-D:0,i[o]=Math.max(-p[o]+m[o],c-S,Math.min(Math.max(-p[o]+m[o]+(s===O?g:v),c+S),i[o],"center"===h?c-_:1e9))):(r*=n===X?2:0,C>0&&(h!==o||D>0)?(i[o]-=S+r,d.invert(t,o)):D>0&&(h!==a||C>0)&&(i[o]-=(h===q?-S:S)+r,d.invert(t,a)),y>i[o]&&-i[o]>D&&(i[o]=c,d=w.clone())),i[o]-c}var c,d,h,p,f,g,v,y,m,x=r.target,b=n.elements.tooltip,w=r.my,E=r.at,_=r.adjust,T=_.method.split(" "),N=T[0],C=T[1]||T[0],D=r.viewport,S=r.container,k=n.cache,L={left:0,top:0};return D.jquery&&x[0]!==t&&x[0]!==e.body&&"none"!==_.method?(p=S.offset()||L,f="static"===S.css("position"),c="fixed"===b.css("position"),g=D[0]===t?D.width():D.outerWidth(M),v=D[0]===t?D.height():D.outerHeight(M),y={left:c?0:D.scrollLeft(),top:c?0:D.scrollTop()},m=D.offset()||L,("shift"!==N||"shift"!==C)&&(d=w.clone()),L={left:"none"!==N?u(A,I,N,_.x,F,z,O,o,s):0,top:"none"!==C?u(I,A,C,_.y,B,j,R,a,l):0},d&&k.lastClass!==(h=H+"-pos-"+d.abbrev())&&b.removeClass(n.cache.lastClass).addClass(n.cache.lastClass=h),L):L},V.polys={polygon:function(t,e){var n,i,r,o={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:M},a=0,s=[],l=1,u=1,c=0,d=0;for(a=t.length;a--;)n=[parseInt(t[--a],10),parseInt(t[a+1],10)],n[0]>o.position.right&&(o.position.right=n[0]),n[0]<o.position.left&&(o.position.left=n[0]),n[1]>o.position.bottom&&(o.position.bottom=n[1]),n[1]<o.position.top&&(o.position.top=n[1]),s.push(n);if(i=o.width=Math.abs(o.position.right-o.position.left),r=o.height=Math.abs(o.position.bottom-o.position.top),"c"===e.abbrev())o.position={left:o.position.left+o.width/2,top:o.position.top+o.height/2};else{for(;i>0&&r>0&&l>0&&u>0;)for(i=Math.floor(i/2),r=Math.floor(r/2),e.x===F?l=i:e.x===z?l=o.width-i:l+=Math.floor(i/2),e.y===B?u=r:e.y===j?u=o.height-r:u+=Math.floor(r/2),a=s.length;a--&&!(2>s.length);)c=s[a][0]-o.position.left,d=s[a][1]-o.position.top,(e.x===F&&c>=l||e.x===z&&l>=c||e.x===q&&(l>c||c>o.width-l)||e.y===B&&d>=u||e.y===j&&u>=d||e.y===q&&(u>d||d>o.height-u))&&s.splice(a,1);o.position={left:s[0][0],top:s[0][1]}}return o},rect:function(t,e,n,i){return{width:Math.abs(n-t),height:Math.abs(i-e),position:{left:Math.min(t,n),top:Math.min(e,i)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(t,e,n,i,r){var o=V.polys._angles[r.abbrev()],a=0===o?0:n*Math.cos(o*Math.PI),s=i*Math.sin(o*Math.PI);return{width:2*n-Math.abs(a),height:2*i-Math.abs(s),position:{left:t+a,top:e+s},adjustable:M}},circle:function(t,e,n,i){return V.polys.ellipse(t,e,n,n,i)}},V.svg=function(t,n,r){for(var o,a,s,l,u,c,d,h,p,f,g,v=i(e),y=n[0],m=i(y.ownerSVGElement),x=1,b=1,w=!0;!y.getBBox;)y=y.parentNode;if(!y.getBBox||!y.parentNode)return M;o=m.attr("width")||m.width()||parseInt(m.css("width"),10),a=m.attr("height")||m.height()||parseInt(m.css("height"),10);var E=(parseInt(n.css("stroke-width"),10)||0)/2;switch(E&&(x+=E/o,b+=E/a),y.nodeName){case"ellipse":case"circle":f=V.polys.ellipse(y.cx.baseVal.value,y.cy.baseVal.value,(y.rx||y.r).baseVal.value+E,(y.ry||y.r).baseVal.value+E,r);break;case"line":case"polygon":case"polyline":for(p=y.points||[{x:y.x1.baseVal.value,y:y.y1.baseVal.value},{x:y.x2.baseVal.value,y:y.y2.baseVal.value}],f=[],h=-1,c=p.numberOfItems||p.length;c>++h;)d=p.getItem?p.getItem(h):p[h],f.push.apply(f,[d.x,d.y]);f=V.polys.polygon(f,r);break;default:f=y.getBoundingClientRect(),f={width:f.width,height:f.height,position:{left:f.left,top:f.top}},w=!1}return g=f.position,m=m[0],w&&(m.createSVGPoint&&(s=y.getScreenCTM(),p=m.createSVGPoint(),p.x=g.left,p.y=g.top,l=p.matrixTransform(s),g.left=l.x,g.top=l.y),m.viewBox&&(u=m.viewBox.baseVal)&&u.width&&u.height&&(x*=o/u.width,b*=a/u.height)),g.left+=v.scrollLeft(),g.top+=v.scrollTop(),f},V.imagemap=function(t,e,n){e.jquery||(e=i(e));var r,o,a,s,l,u=e.attr("shape").toLowerCase().replace("poly","polygon"),c=i('img[usemap="#'+e.parent("map").attr("name")+'"]'),d=i.trim(e.attr("coords")),h=d.replace(/,$/,"").split(",");if(!c.length)return M;if("polygon"===u)s=V.polys.polygon(h,n);else{if(!V.polys[u])return M;for(a=-1,l=h.length,o=[];l>++a;)o.push(parseInt(h[a],10));s=V.polys[u].apply(this,o.concat(n))}return r=c.offset(),r.left+=Math.ceil((c.outerWidth(M)-c.width())/2),r.top+=Math.ceil((c.outerHeight(M)-c.height())/2),s.position.left+=r.left,s.position.top+=r.top,s};var St,kt='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';i.extend(T.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=i(t).scrollTop()+"px")},init:function(n){var r=n.tooltip;1>i("select, object").length&&(this.bgiframe=n.elements.bgiframe=i(kt).appendTo(r),n._bind(r,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=i("<div/>",{id:H+"-rcontainer"}).appendTo(e.body),n.elements.overlay&&n.elements.overlay.addClass("qtipmodal-ie6fix")&&(n._bind(t,["scroll","resize"],this._scroll,this._ns,this),n._bind(r,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t,e,n=this.qtip.tooltip,i={height:n.outerHeight(M),width:n.outerWidth(M)},r=this.qtip.plugins.tip,o=this.qtip.elements.tip;e=parseInt(n.css("borderLeftWidth"),10)||0,e={left:-e,top:-e},r&&o&&(t="x"===r.corner.precedance?[O,F]:[R,B],e[t[1]]-=o[t[0]]()),this.bgiframe.css(e).css(i)},redraw:function(){if(1>this.qtip.rendered||this.drawing)return this;var t,e,n,i,r=this.qtip.tooltip,o=this.qtip.options.style,a=this.qtip.options.position.container;return this.qtip.drawing=1,o.height&&r.css(R,o.height),o.width?r.css(O,o.width):(r.css(O,"").appendTo(this.redrawContainer),e=r.width(),1>e%2&&(e+=1),n=r.css("maxWidth")||"",i=r.css("minWidth")||"",t=(n+i).indexOf("%")>-1?a.width()/100:0,n=(n.indexOf("%")>-1?t:1)*parseInt(n,10)||e,i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||0,e=n+i?Math.min(Math.max(e,i),n):e,r.css(O,Math.round(e)).appendTo(a)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([t,this.qtip.tooltip],this._ns)}}),St=V.ie6=function(t){return 6===rt.ie?new T(t):M},St.initialize="render",S.ie6={"^content|style$":function(){this.redraw()}}})}(window,document);var saveAs=saveAs||function(t){"use strict";if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",c=4e4,d=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,c)},h=function(t,e,n){e=[].concat(e);for(var i=e.length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(o){l(o)}}},p=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},f=function(e,l,c){c||(e=p(e));var f,g=this,v=e.type,y=v===u,m=function(){h(g,"writestart progress write writeend".split(" "))},x=function(){if((s||y&&a)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=t.open(e,"_blank");n||(t.location.href=e),e=void 0,g.readyState=g.DONE,m()},i.readAsDataURL(e),void(g.readyState=g.INIT)}if(f||(f=n().createObjectURL(e)),y)t.location.href=f;else{var r=t.open(f,"_blank");r||(t.location.href=f)}g.readyState=g.DONE,m(),d(f)};return g.readyState=g.INIT,r?(f=n().createObjectURL(e),void setTimeout(function(){i.href=f,i.download=l,o(i),m(),d(f),g.readyState=g.DONE})):void x()},g=f.prototype,v=function(t,e,n){return new f(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=p(t)),navigator.msSaveOrOpenBlob(t,e)}:(g.abort=function(){},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,v)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs});var cytoscape;!function(t){"use strict";var e=cytoscape=function(){return cytoscape.init.apply(cytoscape,arguments)};e.version="2.4.7",e.init=function(t){return void 0===t&&(t={}),e.is.plainObject(t)?new e.Core(t):e.is.string(t)?e.extension.apply(e.extension,arguments):void 0},e.fn={},"undefined"!=typeof module&&module.exports&&(module.exports=cytoscape),"undefined"!=typeof define&&define.amd&&define("cytoscape",function(){return cytoscape}),t&&(t.cytoscape=cytoscape)}("undefined"==typeof window?null:window),this.cytoscape=cytoscape,function(t){"use strict";var e=0,n=1,i=2,r=function(t){return this instanceof r?(this.id="Thenable/1.0.7",this.state=e,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new r(t)};r.prototype={fulfill:function(t){return o(this,n,"fulfillValue",t)},reject:function(t){return o(this,i,"rejectReason",t)},then:function(t,e){var n=this,i=new r;return n.onFulfilled.push(l(t,i,"fulfill")),n.onRejected.push(l(e,i,"reject")),a(n),i.proxy}};var o=function(t,n,i,r){return t.state===e&&(t.state=n,t[i]=r,a(t)),t},a=function(t){t.state===n?s(t,"onFulfilled",t.fulfillValue):t.state===i&&s(t,"onRejected",t.rejectReason)},s=function(t,e,n){if(0!==t[e].length){var i=t[e];t[e]=[];var r=function(){for(var t=0;t<i.length;t++)i[t](n)};"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(r):"function"==typeof setImmediate?setImmediate(r):setTimeout(r,0)}},l=function(t,e,n){return function(i){if("function"!=typeof t)e[n].call(e,i);else{var r;try{r=t(i)}catch(o){return void e.reject(o)}u(e,r)}}},u=function(t,e){if(t===e||t.proxy===e)return void t.reject(new TypeError("cannot resolve promise with itself"));var n;if("object"==typeof e&&null!==e||"function"==typeof e)try{n=e.then}catch(i){return void t.reject(i)}if("function"!=typeof n)t.fulfill(e);else{var r=!1;try{n.call(e,function(n){r||(r=!0,n===e?t.reject(new TypeError("circular thenable chain")):u(t,n))},function(e){r||(r=!0,t.reject(e))})}catch(i){r||t.reject(i)}}};t.Promise="undefined"==typeof Promise?r:Promise,t.Promise.all=t.Promise.all||function(e){return new t.Promise(function(t,n){for(var i=new Array(e.length),r=0,o=function(n,o){i[n]=o,r++,r===e.length&&t(i)},a=0;a<e.length;a++)!function(t){var i=e[t],r=null!=i.then;if(r)i.then(function(e){o(t,e)},function(t){n(t)});else{var a=i;o(t,a)}}(a)})}}(cytoscape),function(t,e){"use strict";var n="string",i=typeof{},r="function";t.is={defined:function(t){return null!=t},string:function(t){return null!=t&&typeof t==n},fn:function(t){return null!=t&&typeof t===r},array:function(t){return Array.isArray?Array.isArray(t):null!=t&&t instanceof Array},plainObject:function(e){return null!=e&&typeof e===i&&!t.is.array(e)&&e.constructor===Object},object:function(t){return null!=t&&typeof t===i},number:function(t){return null!=t&&"number"==typeof t&&!isNaN(t)},integer:function(e){return t.is.number(e)&&Math.floor(e)===e},color:function(t){return null!=t&&"string"==typeof t&&""!==$.Color(t).toString()},bool:function(t){return null!=t&&typeof t==typeof!0},elementOrCollection:function(e){return t.is.element(e)||t.is.collection(e)},element:function(e){return e instanceof t.Element&&e._private.single},collection:function(e){return e instanceof t.Collection&&!e._private.single},core:function(e){return e instanceof t.Core},style:function(e){return e instanceof t.Style},stylesheet:function(e){return e instanceof t.Stylesheet},event:function(e){return e instanceof t.Event},thread:function(e){return e instanceof t.Thread},fabric:function(e){return e instanceof t.Fabric},emptyString:function(e){return!e||!(!t.is.string(e)||""!==e&&!e.match(/^\s+$/))},nonemptyString:function(e){return!(!e||!t.is.string(e)||""===e||e.match(/^\s+$/))},domElement:function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement},boundingBox:function(e){return t.is.plainObject(e)&&t.is.number(e.x1)&&t.is.number(e.x2)&&t.is.number(e.y1)&&t.is.number(e.y2)},promise:function(e){return t.is.object(e)&&t.is.fn(e.then)},touch:function(){return e&&("ontouchstart"in e||e.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return navigator.vendor.match(/kde/i)},khtmlEtc:function(){return t.is.khtml()||t.is.webkit()||t.is.chromium()},trident:function(){return"undefined"!=typeof ActiveXObject||!1},windows:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Win/i)},mac:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Mac/i)},linux:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Linux/i)},unix:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/X11/i)}}}(cytoscape,"undefined"==typeof window?null:window),function(t,e){"use strict";t.util={extend:function(){var e,n,i,r,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||t.is.fn(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)i=s[n],r=e[n],s!==r&&(c&&r&&(t.is.plainObject(r)||(o=t.is.array(r)))?(o?(o=!1,a=i&&t.is.array(i)?i:[]):a=i&&t.is.plainObject(i)?i:{},s[n]=t.util.extend(c,a,r)):void 0!==r&&(s[n]=r));return s},require:function(n,i,r){var o;r=t.util.extend({msgIfNotFound:!0},r);var a=!1,s=function(t){a=!0,i(t)},l=function(t){e&&(o=e[n]),void 0!==o&&s(o),t&&t()},u=function(){a||c(d)},c=function(t){if("undefined"!=typeof module&&module.exports&&require)try{o=require(n)}catch(e){}void 0!==o&&s(o),t&&t()},d=function(){a||h(p)},h=function(t){"undefined"!=typeof define&&define.amd&&require&&require([n],function(e){o=e,void 0!==o&&s(o),t&&t()},function(e){t&&t()})},p=function(){!a&&r.msgIfNotFound&&t.util.error("Cytoscape.js tried to pull in dependency `"+n+"` but no module (i.e. CommonJS, AMD, or window) was found")};l(u)},requires:function(e,n){for(var i=[],r=[],o=function(){for(var t=0;t<e.length;t++)if(!r[t])return;n.apply(n,i)},a=0;a<e.length;a++)!function(){var n=e[a],s=a;t.util.require(n,function(t){i[s]=t,r[s]=!0,o()})}()},throttle:function(e,n,i){var r=!0,o=!0;return i===!1?r=!1:t.is.plainObject(i)&&(r="leading"in i?i.leading:r,o="trailing"in i?i.trailing:o),i=i||{},i.leading=r,i.maxWait=n,i.trailing=o,t.util.debounce(e,n,i)},now:function(){return+new Date},debounce:function(e,n,i){var r,o,a,s,l,u,c,d=0,h=!1,p=!0;if(t.is.fn(e)){if(n=Math.max(0,n)||0,i===!0){var f=!0;p=!1}else t.is.plainObject(i)&&(f=i.leading,h="maxWait"in i&&(Math.max(n,i.maxWait)||0),p="trailing"in i?i.trailing:p);var g=function(){var i=n-(t.util.now()-s);if(0>=i){o&&clearTimeout(o);var h=c;o=u=c=void 0,h&&(d=t.util.now(),a=e.apply(l,r),u||o||(r=l=null))}else u=setTimeout(g,i)},v=function(){u&&clearTimeout(u),o=u=c=void 0,(p||h!==n)&&(d=t.util.now(),a=e.apply(l,r),u||o||(r=l=null))};return function(){if(r=arguments,s=t.util.now(),l=this,c=p&&(u||!f),h===!1)var i=f&&!u;else{o||f||(d=s);var y=h-(s-d),m=0>=y;m?(o&&(o=clearTimeout(o)),d=s,a=e.apply(l,r)):o||(o=setTimeout(v,y))}return m&&u?u=clearTimeout(u):u||n===h||(u=setTimeout(g,n)),i&&(m=!0,a=e.apply(l,r)),!m||u||o||(r=l=null),a}}},error:function(t){if(!console)throw t;if(console.error)console.error.apply(console,arguments);else{if(!console.log)throw t;console.log.apply(console,arguments)}},clone:function(t){var e={};for(var n in t)e[n]=t[n];return e},copy:function(e){return null==e?e:t.is.array(e)?e.slice():t.is.plainObject(e)?t.util.clone(e):e},makeBoundingBox:function(t){if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},mapEmpty:function(t){var e=!0;if(null!=t)for(var n in t){e=!1;break}return e},pushMap:function(e){var n=t.util.getMap(e);null==n?t.util.setMap($.extend({},e,{value:[e.value]})):n.push(e.value)},setMap:function(e){for(var n,i=e.map,r=e.keys,o=r.length,a=0;o>a;a++){var n=r[a];t.is.plainObject(n)&&t.util.error("Tried to set map with object key"),a<r.length-1?(null==i[n]&&(i[n]={}),i=i[n]):i[n]=e.value}},getMap:function(e){for(var n=e.map,i=e.keys,r=i.length,o=0;r>o;o++){var a=i[o];if(t.is.plainObject(a)&&t.util.error("Tried to get map with object key"),n=n[a],null==n)return n}return n},deleteMap:function(e){for(var n=e.map,i=e.keys,r=i.length,o=e.keepChildren,a=0;r>a;a++){var s=i[a];t.is.plainObject(s)&&t.util.error("Tried to delete map with object key");var l=a===e.keys.length-1;if(l)if(o)for(var u in n)o[u]||(n[u]=void 0);else n[s]=void 0;else n=n[s]}},capitalize:function(e){return t.is.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},trim:function(t){var e,n;for(e=0;e<t.length&&" "===t[e];e++);for(n=t.length-1;n>e&&" "===t[n];n--);return t.substring(e,n+1)},hex2tuple:function(t){if((4===t.length||7===t.length)&&"#"===t[0]){var e,n,i,r=4===t.length,o=16;return r?(e=parseInt(t[1]+t[1],o),n=parseInt(t[2]+t[2],o),i=parseInt(t[3]+t[3],o)):(e=parseInt(t[1]+t[2],o),n=parseInt(t[3]+t[4],o),i=parseInt(t[5]+t[6],o)),[e,n,i]}},hsl2tuple:function(e){function n(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var i,r,o,a,s,l,u,c,d=new RegExp("^"+t.util.regex.hsla+"$").exec(e);if(d){if(r=parseInt(d[1]),0>r?r=(360- -1*r%360)%360:r>360&&(r%=360),r/=360,o=parseFloat(d[2]),0>o||o>100)return;if(o/=100,a=parseFloat(d[3]),0>a||a>100)return;if(a/=100,s=d[4],void 0!==s&&(s=parseFloat(s),0>s||s>1))return;if(0===o)l=u=c=Math.round(255*a);else{var h=.5>a?a*(1+o):a+o-a*o,p=2*a-h;l=Math.round(255*n(p,h,r+1/3)),u=Math.round(255*n(p,h,r)),c=Math.round(255*n(p,h,r-1/3))}i=[l,u,c,s]}return i},rgb2tuple:function(e){var n,i=new RegExp("^"+t.util.regex.rgba+"$").exec(e);if(i){n=[];for(var r=[],o=1;3>=o;o++){var a=i[o];if("%"===a[a.length-1]&&(r[o]=!0),a=parseFloat(a),r[o]&&(a=a/100*255),0>a||a>255)return;n.push(Math.floor(a))}var s=r[1]||r[2]||r[3],l=r[1]&&r[2]&&r[3];if(s&&!l)return;var u=i[4];if(void 0!==u){if(u=parseFloat(u),0>u||u>1)return;n.push(u)}}return n},colorname2tuple:function(e){return t.util.colors[e.toLowerCase()]},color2tuple:function(e){return(t.is.array(e)?e:null)||t.util.colorname2tuple(e)||t.util.hex2tuple(e)||t.util.rgb2tuple(e)||t.util.hsl2tuple(e)},tuple2hex:function(t){function e(t){var e=t.toString(16);return 1===e.length&&(e="0"+e),e}var n=t[0],i=t[1],r=t[2];return"#"+e(n)+e(i)+e(r)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},memoize:function(t,e){var n=this,i={};return e||(e=function(){if(1===arguments.length)return arguments[0];for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")}),function(){var r,o=arguments,a=e.apply(n,o);return(r=i[a])||(r=i[a]=t.apply(n,o)),r}}},t.util.camel2dash=t.util.memoize(function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=i.toLowerCase(),o=i!==r;o?(e.push("-"),e.push(r)):e.push(i)}var a=e.length===t.length;return a?t:e.join("")}),t.util.dash2camel=t.util.memoize(function(t){for(var e=[],n=!1,i=0;i<t.length;i++){var r=t[i],o="-"===r;o?n=!0:(e.push(n?r.toUpperCase():r),n=!1)}return e.join("")}),t.util.regex={},t.util.regex.number="(?:[-]?\\d*\\.\\d+|[-]?\\d+|[-]?\\d*\\.\\d+[eE]\\d+)",t.util.regex.rgba="rgb[a]?\\(("+t.util.regex.number+"[%]?)\\s*,\\s*("+t.util.regex.number+"[%]?)\\s*,\\s*("+t.util.regex.number+"[%]?)(?:\\s*,\\s*("+t.util.regex.number+"))?\\)",
t.util.regex.rgbaNoBackRefs="rgb[a]?\\((?:"+t.util.regex.number+"[%]?)\\s*,\\s*(?:"+t.util.regex.number+"[%]?)\\s*,\\s*(?:"+t.util.regex.number+"[%]?)(?:\\s*,\\s*(?:"+t.util.regex.number+"))?\\)",t.util.regex.hsla="hsl[a]?\\(("+t.util.regex.number+")\\s*,\\s*("+t.util.regex.number+"[%])\\s*,\\s*("+t.util.regex.number+"[%])(?:\\s*,\\s*("+t.util.regex.number+"))?\\)",t.util.regex.hslaNoBackRefs="hsl[a]?\\((?:"+t.util.regex.number+")\\s*,\\s*(?:"+t.util.regex.number+"[%])\\s*,\\s*(?:"+t.util.regex.number+"[%])(?:\\s*,\\s*(?:"+t.util.regex.number+"))?\\)",t.util.regex.hex3="\\#[0-9a-fA-F]{3}",t.util.regex.hex6="\\#[0-9a-fA-F]{6}";var n=e?e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame:null;n=n||function(t){t&&setTimeout(t,1e3/60)},t.util.requestAnimationFrame=function(t){n(t)}}(cytoscape,"undefined"==typeof window?null:window),function(t){"use strict";t.math={},t.math.signum=function(t){return t>0?1:0>t?-1:0},t.math.distance=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},t.math.qbezierAt=function(t,e,n,i){return(1-i)*(1-i)*t+2*(1-i)*i*e+i*i*n},t.math.qbezierPtAt=function(e,n,i,r){return{x:t.math.qbezierAt(e.x,n.x,i.x,r),y:t.math.qbezierAt(e.y,n.y,i.y,r)}},t.math.boundingBoxesIntersect=function(t,e){return!(t.x1>e.x2)&&(!(e.x1>t.x2)&&(!(t.x2<e.x1)&&(!(e.x2<t.x1)&&(!(t.y2<e.y1)&&(!(e.y2<t.y1)&&(!(t.y1>e.y2)&&!(e.y1>t.y2)))))))},t.math.inBoundingBox=function(t,e,n){return t.x1<=e&&e<=t.x2&&t.y1<=n&&n<=t.y2},t.math.pointInBoundingBox=function(t,e){return this.inBoundingBox(t,e.x,e.y)},t.math.roundRectangleIntersectLine=function(t,e,n,i,r,o,a){var s,l=this.getRoundRectangleRadius(r,o),u=r/2,c=o/2,d=n-u+l-a,h=i-c-a,p=n+u-l+a,f=h;if(s=this.finiteLinesIntersect(t,e,n,i,d,h,p,f,!1),s.length>0)return s;var g=n+u+a,v=i-c+l-a,y=g,m=i+c-l+a;if(s=this.finiteLinesIntersect(t,e,n,i,g,v,y,m,!1),s.length>0)return s;var x=n-u+l-a,b=i+c+a,w=n+u-l+a,E=b;if(s=this.finiteLinesIntersect(t,e,n,i,x,b,w,E,!1),s.length>0)return s;var _=n-u-a,T=i-c+l-a,N=_,C=i+c-l+a;if(s=this.finiteLinesIntersect(t,e,n,i,_,T,N,C,!1),s.length>0)return s;var D,S=n-u+l,k=i-c+l;if(D=this.intersectLineCircle(t,e,n,i,S,k,l+a),D.length>0&&D[0]<=S&&D[1]<=k)return[D[0],D[1]];var L=n+u-l,M=i-c+l;if(D=this.intersectLineCircle(t,e,n,i,L,M,l+a),D.length>0&&D[0]>=L&&D[1]<=M)return[D[0],D[1]];var P=n+u-l,A=i+c-l;if(D=this.intersectLineCircle(t,e,n,i,P,A,l+a),D.length>0&&D[0]>=P&&D[1]>=A)return[D[0],D[1]];var I=n-u+l,O=i+c-l;return D=this.intersectLineCircle(t,e,n,i,I,O,l+a),D.length>0&&D[0]<=I&&D[1]>=O?[D[0],D[1]]:[]},t.math.roundRectangleIntersectBox=function(t,e,n,i,r,o,a,s,l){var u=this.getRoundRectangleRadius(r,o),c=a-r/2-l,d=s-o/2+u-l,h=a+r/2+l,p=s+o/2-u+l,f=a-r/2+u-l,g=s-o/2-l,v=a+r/2-u+l,y=s+o/2+l,m=Math.min(t,n),x=Math.max(t,n),b=Math.min(e,i),w=Math.max(e,i);return!(c>x)&&(!(m>h)&&(!(g>w)&&(!(b>y)&&(c>=m&&x>=c&&d>=b&&w>=d||(h>=m&&x>=h&&d>=b&&w>=d||(h>=m&&x>=h&&p>=b&&w>=p||(c>=m&&x>=c&&p>=b&&w>=p||(m>=c&&h>=m&&b>=d&&p>=b||(x>=c&&h>=x&&b>=d&&p>=b||(x>=c&&h>=x&&w>=d&&p>=w||(m>=c&&h>=m&&w>=d&&p>=w||(f>=m&&x>=f&&g>=b&&w>=g||(v>=m&&x>=v&&g>=b&&w>=g||(v>=m&&x>=v&&y>=b&&w>=y||(f>=m&&x>=f&&y>=b&&w>=y||(m>=f&&v>=m&&b>=g&&y>=b||(x>=f&&v>=x&&b>=g&&y>=b||(x>=f&&v>=x&&w>=g&&y>=w||(m>=f&&v>=m&&w>=g&&y>=w||(!!this.boxIntersectEllipse(m,b,x,w,l,2*u,2*u,f+l,d+l)||(!!this.boxIntersectEllipse(m,b,x,w,l,2*u,2*u,v-l,d+l)||(!!this.boxIntersectEllipse(m,b,x,w,l,2*u,2*u,v-l,p-l)||!!this.boxIntersectEllipse(m,b,x,w,l,2*u,2*u,f+l,p-l)))))))))))))))))))))))},t.math.checkInBoundingCircle=function(t,e,n,i,r,o,a,s){return t=(t-a)/(r+i),e=(e-s)/(o+i),n>=t*t+e*e},t.math.boxInBezierVicinity=function(t,e,n,i,r,o,a,s,l,u,c){var d=.25*r+.5*a+.25*l,h=.25*o+.5*s+.25*u,p=Math.min(t,n)-c,f=Math.min(e,i)-c,g=Math.max(t,n)+c,v=Math.max(e,i)+c;if(r>=p&&g>=r&&o>=f&&v>=o)return 1;if(l>=p&&g>=l&&u>=f&&v>=u)return 1;if(d>=p&&g>=d&&h>=f&&v>=h)return 1;if(a>=p&&g>=a&&s>=f&&v>=s)return 1;var y=Math.min(r,d,l),m=Math.min(o,h,u),x=Math.max(r,d,l),b=Math.max(o,h,u);return y>g||p>x||m>v||f>b?0:1},t.math.checkBezierInBox=function(e,n,i,r,o,a,s,l,u,c,d){function h(d){var h=t.math.qbezierAt(o,s,u,d),p=t.math.qbezierAt(a,l,c,d);return h>=e&&i>=h&&p>=n&&r>=p}for(var p=0;1>=p;p+=.25)if(!h(p))return!1;return!0},t.math.checkStraightEdgeInBox=function(t,e,n,i,r,o,a,s,l){return r>=t&&n>=r&&a>=t&&n>=a&&o>=e&&i>=o&&s>=e&&i>=s},t.math.checkStraightEdgeCrossesBox=function(t,e,n,i,r,o,a,s,l){var u,c,d=Math.min(t,n)-l,h=Math.min(e,i)-l,p=Math.max(t,n)+l,f=Math.max(e,i)+l,g=a-r,v=r,y=s-o,m=o;if(Math.abs(g)<1e-4)return r>=d&&p>=r&&Math.min(o,s)<=h&&Math.max(o,s)>=f;var x=(d-v)/g;if(x>0&&1>=x&&(u=y*x+m,u>=h&&f>=u))return!0;var b=(p-v)/g;if(b>0&&1>=b&&(u=y*b+m,u>=h&&f>=u))return!0;var w=(h-m)/y;if(w>0&&1>=w&&(c=g*w+v,c>=d&&p>=c))return!0;var E=(f-m)/y;return E>0&&1>=E&&(c=g*E+v,c>=d&&p>=c)},t.math.checkBezierCrossesBox=function(t,e,n,i,r,o,a,s,l,u,c){var d=Math.min(t,n)-c,h=Math.min(e,i)-c,p=Math.max(t,n)+c,f=Math.max(e,i)+c;if(r>=d&&p>=r&&o>=h&&f>=o)return!0;if(l>=d&&p>=l&&u>=h&&f>=u)return!0;var g=r-2*a+l,v=-2*r+2*a,y=r,m=[];if(Math.abs(g)<1e-4){var x=(d-r)/v,b=(p-r)/v;m.push(x,b)}else{var w,E,_=v*v-4*g*(y-d);if(_>0){var T=Math.sqrt(_);w=(-v+T)/(2*g),E=(-v-T)/(2*g),m.push(w,E)}var N,C,D=v*v-4*g*(y-p);if(D>0){var T=Math.sqrt(D);N=(-v+T)/(2*g),C=(-v-T)/(2*g),m.push(N,C)}}m.sort(function(t,e){return t-e});var S=o-2*s+u,k=-2*o+2*s,L=o,M=[];if(Math.abs(S)<1e-4){var P=(h-o)/k,A=(f-o)/k;M.push(P,A)}else{var I,O,R=k*k-4*S*(L-h);if(R>0){var T=Math.sqrt(R);I=(-k+T)/(2*S),O=(-k-T)/(2*S),M.push(I,O)}var B,F,j=k*k-4*S*(L-f);if(j>0){var T=Math.sqrt(j);B=(-k+T)/(2*S),F=(-k-T)/(2*S),M.push(B,F)}}M.sort(function(t,e){return t-e});for(var z=0;z<m.length;z+=2)for(var q=1;q<M.length;q+=2)if(m[z]<M[q]&&M[q]>=0&&m[z]<=1&&m[z+1]>M[q-1]&&M[q-1]<=1&&m[z+1]>=0)return!0;return!1},t.math.inLineVicinity=function(t,e,n,i,r,o,a){var s=a,l=Math.min(n,r),u=Math.max(n,r),c=Math.min(i,o),d=Math.max(i,o);return t>=l-s&&u+s>=t&&e>=c-s&&d+s>=e},t.math.inBezierVicinity=function(t,e,n,i,r,o,a,s,l){var u={x1:Math.min(n,a,r),x2:Math.max(n,a,r),y1:Math.min(i,s,o),y2:Math.max(i,s,o)};return!(t<u.x1||t>u.x2||e<u.y1||e>u.y2)},t.math.solveCubic=function(t,e,n,i,r){e/=t,n/=t,i/=t;var o,a,s,l,u,c,d,h;return a=(3*n-e*e)/9,s=-(27*i)+e*(9*n-2*e*e),s/=54,o=a*a*a+s*s,r[1]=0,d=e/3,o>0?(u=s+Math.sqrt(o),u=0>u?-Math.pow(-u,1/3):Math.pow(u,1/3),c=s-Math.sqrt(o),c=0>c?-Math.pow(-c,1/3):Math.pow(c,1/3),r[0]=-d+u+c,d+=(u+c)/2,r[4]=r[2]=-d,d=Math.sqrt(3)*(-c+u)/2,r[3]=d,void(r[5]=-d)):(r[5]=r[3]=0,0===o?(h=0>s?-Math.pow(-s,1/3):Math.pow(s,1/3),r[0]=-d+2*h,void(r[4]=r[2]=-(h+d))):(a=-a,l=a*a*a,l=Math.acos(s/Math.sqrt(l)),h=2*Math.sqrt(a),r[0]=-d+h*Math.cos(l/3),r[2]=-d+h*Math.cos((l+2*Math.PI)/3),void(r[4]=-d+h*Math.cos((l+4*Math.PI)/3))))},t.math.sqDistanceToQuadraticBezier=function(t,e,n,i,r,o,a,s){var l=1*n*n-4*n*r+2*n*a+4*r*r-4*r*a+a*a+i*i-4*i*o+2*i*s+4*o*o-4*o*s+s*s,u=9*n*r-3*n*n-3*n*a-6*r*r+3*r*a+9*i*o-3*i*i-3*i*s-6*o*o+3*o*s,c=3*n*n-6*n*r+n*a-n*t+2*r*r+2*r*t-a*t+3*i*i-6*i*o+i*s-i*e+2*o*o+2*o*e-s*e,d=1*n*r-n*n+n*t-r*t+i*o-i*i+i*e-o*e,h=[];this.solveCubic(l,u,c,d,h);for(var p=1e-7,f=[],g=0;6>g;g+=2)Math.abs(h[g+1])<p&&h[g]>=0&&h[g]<=1&&f.push(h[g]);f.push(1),f.push(0);for(var v,y,m,x,b=-1,w=0;w<f.length;w++)y=Math.pow(1-f[w],2)*n+2*(1-f[w])*f[w]*r+f[w]*f[w]*a,m=Math.pow(1-f[w],2)*i+2*(1-f[w])*f[w]*o+f[w]*f[w]*s,x=Math.pow(y-t,2)+Math.pow(m-e,2),b>=0?b>x&&(b=x,v=f[w]):(b=x,v=f[w]);return b},t.math.sqDistanceToFiniteLine=function(t,e,n,i,r,o){var a=[t-n,e-i],s=[r-n,o-i],l=s[0]*s[0]+s[1]*s[1],u=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],d=c*c/l;return 0>c?u:d>l?(t-r)*(t-r)+(e-o)*(e-o):u-d},t.math.pointInsidePolygon=function(t,e,n,i,r,o,a,s,l){var u=new Array(n.length),c=Math.asin(s[1]/Math.sqrt(s[0]*s[0]+s[1]*s[1]));s[0]<0?c+=Math.PI/2:c=-c-Math.PI/2;for(var d=Math.cos(-c),h=Math.sin(-c),p=0;p<u.length/2;p++)u[2*p]=o/2*(n[2*p]*d-n[2*p+1]*h),u[2*p+1]=a/2*(n[2*p+1]*d+n[2*p]*h),u[2*p]+=i,u[2*p+1]+=r;var f;if(l>0){var g=this.expandPolygon(u,-l);f=this.joinLines(g)}else f=u;for(var v,y,m,x,b,w=0,E=0,p=0;p<f.length/2;p++)if(v=f[2*p],y=f[2*p+1],p+1<f.length/2?(m=f[2*(p+1)],x=f[2*(p+1)+1]):(m=f[2*(p+1-f.length/2)],x=f[2*(p+1-f.length/2)+1]),v==t&&m==t);else{if(!(v>=t&&t>=m||t>=v&&m>=t))continue;b=(t-v)/(m-v)*(x-y)+y,b>e&&w++,e>b&&E++}return w%2!==0},t.math.joinLines=function(t){for(var e,n,i,r,o,a,s,l,u=new Array(t.length/2),c=0;c<t.length/4;c++){e=t[4*c],n=t[4*c+1],i=t[4*c+2],r=t[4*c+3],c<t.length/4-1?(o=t[4*(c+1)],a=t[4*(c+1)+1],s=t[4*(c+1)+2],l=t[4*(c+1)+3]):(o=t[0],a=t[1],s=t[2],l=t[3]);var d=this.finiteLinesIntersect(e,n,i,r,o,a,s,l,!0);u[2*c]=d[0],u[2*c+1]=d[1]}return u},t.math.expandPolygon=function(t,e){for(var n,i,r,o,a=new Array(2*t.length),s=0;s<t.length/2;s++){n=t[2*s],i=t[2*s+1],s<t.length/2-1?(r=t[2*(s+1)],o=t[2*(s+1)+1]):(r=t[0],o=t[1]);var l=o-i,u=-(r-n),c=Math.sqrt(l*l+u*u),d=l/c,h=u/c;a[4*s]=n+d*e,a[4*s+1]=i+h*e,a[4*s+2]=r+d*e,a[4*s+3]=o+h*e}return a},t.math.intersectLineEllipse=function(t,e,n,i,r,o){var a=n-t,s=i-e;a/=r,s/=o;var l=Math.sqrt(a*a+s*s),u=l-1;if(0>u)return[];var c=u/l;return[(n-t)*c+t,(i-e)*c+e]},t.math.dotProduct=function(t,e){if(2!=t.length||2!=e.length)throw"dot product: arguments are not vectors";return t[0]*e[0]+t[1]*e[1]},t.math.intersectLineCircle=function(t,e,n,i,r,o,a){var s=[n-t,i-e],l=[r,o],u=[t-r,e-o],c=s[0]*s[0]+s[1]*s[1],d=2*(u[0]*s[0]+u[1]*s[1]),l=u[0]*u[0]+u[1]*u[1]-a*a,h=d*d-4*c*l;if(0>h)return[];var p=(-d+Math.sqrt(h))/(2*c),f=(-d-Math.sqrt(h))/(2*c),g=Math.min(p,f),v=Math.max(p,f),y=[];if(g>=0&&1>=g&&y.push(g),v>=0&&1>=v&&y.push(v),0===y.length)return[];var m=y[0]*s[0]+t,x=y[0]*s[1]+e;if(y.length>1){if(y[0]==y[1])return[m,x];var b=y[1]*s[0]+t,w=y[1]*s[1]+e;return[m,x,b,w]}return[m,x]},t.math.findCircleNearPoint=function(t,e,n,i,r){var o=i-t,a=r-e,s=Math.sqrt(o*o+a*a),l=o/s,u=a/s;return[t+l*n,e+u*n]},t.math.findMaxSqDistanceToOrigin=function(t){for(var e,n=1e-6,i=0;i<t.length/2;i++)e=t[2*i]*t[2*i]+t[2*i+1]*t[2*i+1],e>n&&(n=e);return n},t.math.finiteLinesIntersect=function(t,e,n,i,r,o,a,s,l){var u=(a-r)*(e-o)-(s-o)*(t-r),c=(n-t)*(e-o)-(i-e)*(t-r),d=(s-o)*(n-t)-(a-r)*(i-e);if(0!==d){var h=u/d,p=c/d;return h>=0&&1>=h&&p>=0&&1>=p?[t+h*(n-t),e+h*(i-e)]:l?[t+h*(n-t),e+h*(i-e)]:[]}return 0===u||0===c?[t,n,a].sort()[1]===a?[a,s]:[t,n,r].sort()[1]===r?[r,o]:[r,a,n].sort()[1]===n?[n,i]:[]:[]},t.math.boxIntersectEllipse=function(t,e,n,i,r,o,a,s,l){if(t>n){var u=t;t=n,n=u}if(e>i){var c=e;e=i,i=c}var d=[s-o/2-r,l],h=[s+o/2+r,l],p=[s,l-a/2-r],f=[s,l+a/2+r];return!(n<d[0])&&(!(t>h[0])&&(!(e>f[1])&&(!(i<p[1])&&(t<=h[0]&&h[0]<=n&&e<=h[1]&&h[1]<=i||(t<=d[0]&&d[0]<=n&&e<=d[1]&&d[1]<=i||(t<=p[0]&&p[0]<=n&&e<=p[1]&&p[1]<=i||(t<=f[0]&&f[0]<=n&&e<=f[1]&&f[1]<=i||(t=(t-s)/(o/2+r),n=(n-s)/(o/2+r),e=(e-l)/(a/2+r),i=(i-l)/(a/2+r),1>=t*t+e*e||(1>=n*n+e*e||(1>=n*n+i*i||1>=t*t+i*i))))))))))},t.math.boxIntersectPolygon=function(e,n,i,r,o,a,s,l,u,c,d){if(e>i){var h=e;e=i,i=h}if(n>r){var p=n;n=r,r=p}var f=new Array(o.length),g=Math.asin(c[1]/Math.sqrt(c[0]*c[0]+c[1]*c[1]));c[0]<0?g+=Math.PI/2:g=-g-Math.PI/2;for(var v=Math.cos(-g),y=Math.sin(-g),m=0;m<f.length/2;m++)f[2*m]=a/2*(o[2*m]*v-o[2*m+1]*y),f[2*m+1]=s/2*(o[2*m+1]*v+o[2*m]*y),f[2*m]+=l,f[2*m+1]+=u;for(var x=f[0],b=f[0],w=f[1],E=f[1],m=1;m<f.length/2;m++)f[2*m]>b&&(b=f[2*m]),f[2*m]<x&&(x=f[2*m]),f[2*m+1]>E&&(E=f[2*m+1]),f[2*m+1]<w&&(w=f[2*m+1]);if(x-d>i)return!1;if(e>b+d)return!1;if(w-d>r)return!1;if(n>E+d)return!1;var _;if(d>0){var T=t.math.expandPolygon(f,-d);_=t.math.joinLines(T)}else _=f;for(var m=0;m<f.length/2;m++)if(e<=f[2*m]&&f[2*m]<=i&&n<=f[2*m+1]&&f[2*m+1]<=r)return!0;for(var m=0;m<_.length/2;m++){var N,C,D=_[2*m],S=_[2*m+1];if(m<_.length/2-1?(N=_[2*(m+1)],C=_[2*(m+1)+1]):(N=_[0],C=_[1]),t.math.finiteLinesIntersect(D,S,N,C,e,n,i,n,!1).length>0)return!0;if(t.math.finiteLinesIntersect(D,S,N,C,e,r,i,r,!1).length>0)return!0;if(t.math.finiteLinesIntersect(D,S,N,C,e,n,e,r,!1).length>0)return!0;if(t.math.finiteLinesIntersect(D,S,N,C,i,n,i,r,!1).length>0)return!0}return!1},t.math.polygonIntersectLine=function(e,n,i,r,o,a,s,l){for(var u,c=[],d=new Array(i.length),h=0;h<d.length/2;h++)d[2*h]=i[2*h]*a+r,d[2*h+1]=i[2*h+1]*s+o;var p;if(l>0){var f=t.math.expandPolygon(d,-l);p=t.math.joinLines(f)}else p=d;for(var g,v,y,m,h=0;h<p.length/2;h++)g=p[2*h],v=p[2*h+1],h<p.length/2-1?(y=p[2*(h+1)],m=p[2*(h+1)+1]):(y=p[0],m=p[1]),u=this.finiteLinesIntersect(e,n,r,o,g,v,y,m),0!==u.length&&c.push(u[0],u[1]);return c},t.math.shortenIntersection=function(t,e,n){var i=[t[0]-e[0],t[1]-e[1]],r=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(r-n)/r;return 0>o&&(o=1e-5),[e[0]+o*i[0],e[1]+o*i[1]]},t.math.generateUnitNgonPointsFitToSquare=function(e,n){var i=t.math.generateUnitNgonPoints(e,n);return i=t.math.fitPolygonToSquare(i)},t.math.fitPolygonToSquare=function(t){for(var e,n,i=t.length/2,r=1/0,o=1/0,a=-(1/0),s=-(1/0),l=0;i>l;l++)e=t[2*l],n=t[2*l+1],r=Math.min(r,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);for(var u=2/(a-r),c=2/(s-o),l=0;i>l;l++)e=t[2*l]=t[2*l]*u,n=t[2*l+1]=t[2*l+1]*c,r=Math.min(r,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);if(-1>o)for(var l=0;i>l;l++)n=t[2*l+1]=t[2*l+1]+(-1-o);return t},t.math.generateUnitNgonPoints=function(t,e){var n=1/t*2*Math.PI,i=t%2===0?Math.PI/2+n/2:Math.PI/2;i+=e;for(var r,o,a,s=new Array(2*t),l=0;t>l;l++)r=l*n+i,o=s[2*l]=Math.cos(r),a=s[2*l+1]=Math.sin(-r);return s},t.math.getRoundRectangleRadius=function(t,e){return Math.min(t/4,e/4,8)}}(cytoscape),function(t){"use strict";function e(e,n,i){var r={};switch(r[n]=i,e){case"core":case"collection":t.fn[e](r)}if("layout"===e){for(var a=i.prototype,s=[],l=0;l<s.length;l++){var u=s[l];a[u]=a[u]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this}),a.stop||(a.stop=function(){var t=this.options;return t&&t.animate&&t.eles.stop(),this}),a.on=t.define.on({layout:!0}),a.one=t.define.on({layout:!0,unbindSelfOnTrigger:!0}),a.once=t.define.on({layout:!0,unbindAllBindersOnTrigger:!0}),a.off=t.define.off({layout:!0}),a.trigger=t.define.trigger({layout:!0}),t.define.eventAliasesOn(a)}return t.util.setMap({map:o,keys:[e,n],value:i})}function n(e,n){return t.util.getMap({map:o,keys:[e,n]})}function i(e,n,i,r,o){return t.util.setMap({map:a,keys:[e,n,i,r],value:o})}function r(e,n,i,r){return t.util.getMap({map:a,keys:[e,n,i,r]})}var o={};t.extensions=o;var a={};t.modules=a,t.extension=function(){return 2==arguments.length?n.apply(this,arguments):3==arguments.length?e.apply(this,arguments):4==arguments.length?r.apply(this,arguments):5==arguments.length?i.apply(this,arguments):void t.util.error("Invalid extension access syntax")}}(cytoscape),function(t,e){"use strict";var n=function(t){var e=t[0]._cyreg=t[0]._cyreg||{};return e};e.registerJquery=function(t){t&&(t.fn.cytoscape||(t.fn.cytoscape=function(i){var r=t(this);if("get"===i)return n(r).cy;if(e.is.fn(i)){var o=i,a=n(r).cy;if(a&&a.isReady())a.trigger("ready",[],o);else{var s=n(r),l=s.readies=s.readies||[];l.push(o)}}else if(e.is.plainObject(i))return r.each(function(){var e=t.extend({},i,{container:t(this)[0]});cytoscape(e)})},t.cytoscape=cytoscape,null==t.fn.cy&&null==t.cy&&(t.fn.cy=t.fn.cytoscape,t.cy=t.cytoscape)))},e.registerJquery(t),e.util.require("jquery",function(t){e.registerJquery(t)})}("undefined"!=typeof jQuery?jQuery:null,cytoscape),function(t){"use strict";function e(){return!1}function n(){return!0}t.Event=function(i,r){return this instanceof t.Event?(i&&i.type?(this.originalEvent=i,this.type=i.type,this.isDefaultPrevented=i.defaultPrevented?n:e):this.type=i,r&&(this.type=void 0!==r.type?r.type:this.type,this.cy=r.cy,this.cyTarget=r.cyTarget,this.cyPosition=r.cyPosition,this.cyRenderedPosition=r.cyRenderedPosition,this.namespace=r.namespace,this.layout=r.layout,this.data=r.data,this.message=r.message),void(this.timeStamp=i&&i.timeStamp||+new Date)):new t.Event(i,r)},t.Event.prototype={preventDefault:function(){this.isDefaultPrevented=n;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=n;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n,this.stopPropagation()},isDefaultPrevented:e,isPropagationStopped:e,isImmediatePropagationStopped:e}}(cytoscape),function(t){"use strict";t.define={data:function(e){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(t){},canSet:function(t){return!0}};return e=t.util.extend({},n,e),function(n,i){var r=e,o=this,a=void 0!==o.length,s=a?o:[o],l=a?o[0]:o;if(t.is.string(n)){if(r.allowGetting&&void 0===i){var u;return l&&(u=l._private[r.field][n]),u}if(r.allowSetting&&void 0!==i){var c=!r.immutableKeys[n];if(c){for(var d=0,h=s.length;h>d;d++)r.canSet(s[d])&&(s[d]._private[r.field][n]=i);r.updateStyle&&o.updateStyle(),r.onSet(o),r.settingTriggersEvent&&o[r.triggerFnName](r.settingEvent)}}}else if(r.allowSetting&&t.is.plainObject(n)){var p,f,g=n;for(p in g){f=g[p];var c=!r.immutableKeys[p];if(c)for(var d=0,h=s.length;h>d;d++)r.canSet(s[d])&&(s[d]._private[r.field][p]=f)}r.updateStyle&&o.updateStyle(),r.onSet(o),r.settingTriggersEvent&&o[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&t.is.fn(n)){var v=n;o.bind(r.bindingEvent,v)}else if(r.allowGetting&&void 0===n){var u;return l&&(u=l._private[r.field]),u}return o}},removeData:function(e){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=t.util.extend({},n,e),function(n){var i=e,r=this,o=void 0!==r.length,a=o?r:[r];if(t.is.string(n)){for(var s=n.split(/\s+/),l=s.length,u=0;l>u;u++){var c=s[u];if(!t.is.emptyString(c)){var d=!i.immutableKeys[c];if(d)for(var h=0,p=a.length;p>h;h++)a[h]._private[i.field][c]=void 0}}i.triggerEvent&&r[i.triggerFnName](i.event)}else if(void 0===n){for(var h=0,p=a.length;p>h;h++){var f=a[h]._private[i.field];for(var c in f){var g=!i.immutableKeys[c];g&&(f[c]=void 0)}}i.triggerEvent&&r[i.triggerFnName](i.event)}return r}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(e){var n={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return e=t.util.extend({},n,e),function(n,i,r,o){var a=this,s=void 0!==a.length,l=s?a:[a],u=t.is.string(n),c=e;if(t.is.plainObject(i)?(o=r,r=i,i=void 0):(t.is.fn(i)||i===!1)&&(o=i,r=void 0,i=void 0),(t.is.fn(r)||r===!1)&&(o=r,r=void 0),!t.is.fn(o)&&o!==!1&&u)return a;if(u){var d={};d[n]=o,n=d}for(var h in n)if(o=n[h],o===!1&&(o=t.define.event.falseCallback),t.is.fn(o)){h=h.split(/\s+/);for(var p=0;p<h.length;p++){var f=h[p];if(!t.is.emptyString(f)){var g=f.match(t.define.event.regex);if(g)for(var v=g[1],y=g[2]?g[2]:void 0,m={callback:o,data:r,delegated:!!i,selector:i,selObj:new t.Selector(i),type:v,namespace:y,unbindSelfOnTrigger:c.unbindSelfOnTrigger,unbindAllBindersOnTrigger:c.unbindAllBindersOnTrigger,binders:l},x=0;x<l.length;x++){var b=l[x]._private;b.listeners=b.listeners||[],b.listeners.push(m)}}}}return a}},eventAliasesOn:function(e){var n=e;n.addListener=n.listen=n.bind=n.on,n.removeListener=n.unlisten=n.unbind=n.off,n.emit=n.trigger,n.pon=n.promiseOn=function(e,n){var i=this,r=Array.prototype.slice.call(arguments,0);return new t.Promise(function(t,e){var n=function(e){i.off.apply(i,a),t(e)},o=r.concat([n]),a=o.concat([]);i.on.apply(i,o)})}},off:function(e){var n={};return e=t.util.extend({},n,e),function(e,n,i){var r=this,o=void 0!==r.length,a=o?r:[r],s=t.is.string(e);if(0===arguments.length){for(var l=0;l<a.length;l++)a[l]._private.listeners=[];return r}if((t.is.fn(n)||n===!1)&&(i=n,n=void 0),s){var u={};u[e]=i,e=u}for(var c in e){i=e[c],i===!1&&(i=t.define.event.falseCallback),c=c.split(/\s+/);for(var d=0;d<c.length;d++){var h=c[d];if(!t.is.emptyString(h)){var p=h.match(t.define.event.optionalTypeRegex);if(p)for(var f=p[1]?p[1]:void 0,g=p[2]?p[2]:void 0,l=0;l<a.length;l++)for(var v=a[l]._private.listeners=a[l]._private.listeners||[],y=0;y<v.length;y++){var m=v[y],x=!g||g===m.namespace,b=!f||m.type===f,w=!i||i===m.callback,E=x&&b&&w;E&&(v.splice(y,1),y--)}}}}return r}},trigger:function(e){var n={};return e=t.util.extend({},n,e),function(n,i,r){var o=this,a=void 0!==o.length,s=a?o:[o],l=t.is.string(n),u=t.is.plainObject(n),c=t.is.event(n),d=this._private.cy||(t.is.core(this)?this:null),h=!!d&&d.hasCompoundNodes();if(l){var p=n.split(/\s+/);n=[];for(var f=0;f<p.length;f++){var g=p[f];if(!t.is.emptyString(g)){var v=g.match(t.define.event.regex),y=v[1],m=v[2]?v[2]:void 0;n.push({type:y,namespace:m})}}}else if(u){var x=n;n=[x]}i?t.is.array(i)||(i=[i]):i=[];for(var f=0;f<n.length;f++)for(var b=n[f],w=0;w<s.length;w++){var g,E=s[w],_=E._private.listeners=E._private.listeners||[],T=t.is.element(E),N=T||e.layout;if(c?(g=b,g.cyTarget=g.cyTarget||E,g.cy=g.cy||d):g=new t.Event(b,{cyTarget:E,cy:d,namespace:b.namespace}),b.layout&&(g.layout=b.layout),e.layout&&(g.layout=E),g.cyPosition){var C=g.cyPosition,D=d.zoom(),S=d.pan();g.cyRenderedPosition={x:C.x*D+S.x,y:C.y*D+S.y}}r&&(_=[{namespace:g.namespace,type:g.type,callback:r}]);for(var k=0;k<_.length;k++){var L=_[k],M=!L.namespace||L.namespace===g.namespace,P=L.type===g.type,A=!L.delegated||E!==g.cyTarget&&t.is.element(g.cyTarget)&&L.selObj.matches(g.cyTarget),I=M&&P&&A;if(I){var O=[g];if(O=O.concat(i),g.data=L.data?L.data:void 0,(L.unbindSelfOnTrigger||L.unbindAllBindersOnTrigger)&&(_.splice(k,1),k--),L.unbindAllBindersOnTrigger)for(var R=L.binders,B=0;B<R.length;B++){var F=R[B];if(F&&F!==E)for(var j=F._private.listeners,z=0;z<j.length;z++){var q=j[z];q===L&&(j.splice(z,1),z--)}}var X=L.delegated?g.cyTarget:E,Y=L.callback.apply(X,O);(Y===!1||g.isPropagationStopped())&&(N=!1,Y===!1&&(g.stopPropagation(),g.preventDefault()))}}if(N){var V=h?E._private.parent:null,H=null!=V&&0!==V.length;H?(V=V[0],V.trigger(g)):d.trigger(g)}}return o}},animated:function(e){var n={};return e=t.util.extend({},n,e),function(){var t=this,e=void 0!==t.length,n=e?t:[t],i=this._private.cy||this;if(!i.styleEnabled())return!1;var r=n[0];return r?r._private.animation.current.length>0:void 0}},clearQueue:function(e){var n={};return e=t.util.extend({},n,e),function(){var t=this,e=void 0!==t.length,n=e?t:[t],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var r=0;r<n.length;r++){var o=n[r];o._private.animation.queue=[]}return this}},delay:function(e){var n={};return e=t.util.extend({},n,e),function(t,e){var n=this._private.cy||this;return n.styleEnabled()?(this.animate({delay:t},{duration:t,complete:e}),this):this}},animate:function(e){var n={};return e=t.util.extend({},n,e),function(t,e){var n=this,i=void 0!==n.length,r=i?n:[n],o=this._private.cy||this,a=!i,s=!a;if(!o.styleEnabled())return this;var l,u=+new Date,c=o.style();switch(void 0===e&&(e={}),void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}var d=!0;if(t)for(var h in t){d=!1;break}if(d)return this;if(s&&(t.style=c.getPropsList(t.style||t.css),t.css=void 0),t.renderedPosition&&s){var p=t.renderedPosition,f=o.pan(),g=o.zoom();t.position={x:(p.x-f.x)/g,y:(p.y-f.y)/g}}if(t.panBy&&a){var v=t.panBy,y=o.pan();t.pan={x:y.x+v.x,y:y.y+v.y}}var m=t.center||t.centre;if(m&&a){var x=o.getCenterPan(m.eles,t.zoom);x&&(t.pan=x)}if(t.fit&&a){var b=t.fit,w=o.getFitViewport(b.eles||b.boundingBox,b.padding);w&&(t.pan=w.pan,t.zoom=w.zoom)}for(var h=0;h<r.length;h++){var E=r[h];l=E.animated()&&(void 0===e.queue||e.queue)?E._private.animation.queue:E._private.animation.current,l.push({properties:t,duration:e.duration,params:e,callTime:u})}return s&&o.addToAnimationPool(this),this}},stop:function(e){var n={};return e=t.util.extend({},n,e),function(t,e){var n=this,i=void 0!==n.length,r=i?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var a=0;a<r.length;a++){for(var s=r[a],l=s._private.animation.current,u=0;u<l.length;u++){var c=l[u];e&&(c.duration=0)}t&&(s._private.animation.queue=[]),e||(s._private.animation.current=[])}return o.notify({collection:this,type:"draw"}),this}}}}(cytoscape),function(t){"use strict";t.fn.selector=function(e,n){for(var i in e){var r=e[i];t.Selector.prototype[i]=r}},t.Selector=function(e,n){if(!(this instanceof t.Selector))return new t.Selector(e,n);void 0===n&&void 0!==e&&(n=e,e=void 0);var i=this;if(i._private={selectorText:null,invalid:!0},!n||t.is.string(n)&&n.match(/^\s*$/))null==e?i.length=0:(i[0]=a(),i[0].group=e,i.length=1);else if(t.is.element(n)){var r=new t.Collection(i.cy(),[n]);i[0]=a(),i[0].collection=r,i.length=1}else if(t.is.collection(n))i[0]=a(),i[0].collection=n,i.length=1;else if(t.is.fn(n))i[0]=a(),i[0].filter=n,i.length=1;else{if(!t.is.string(n))return void t.util.error("A selector must be created from a string; found "+n);var o=null,a=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}},s={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",number:t.util.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};s.variable="(?:[\\w-]|(?:\\\\"+s.metaChar+"))+",s.value=s.string+"|"+s.number,s.className=s.variable,s.id=s.variable;for(var l=function(t){return t.replace(new RegExp("\\\\("+s.metaChar+")","g"),function(t,e,n,i){return e})},u=s.comparatorOp.split("|"),c=0;c<u.length;c++){var d=u[c];s.comparatorOp+="|@"+d}for(var u=s.comparatorOp.split("|"),c=0;c<u.length;c++){var d=u[c];d.indexOf("!")>=0||"="!==d&&(s.comparatorOp+="|\\!"+d)}var h={group:{query:!0,regex:"(node|edge|\\*)",populate:function(t){this.group="*"==t?t:t+"s"}},state:{query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(t){this.colonSelectors.push(t)}},id:{query:!0,regex:"\\#("+s.id+")",populate:function(t){this.ids.push(l(t))}},className:{query:!0,regex:"\\.("+s.className+")",populate:function(t){this.classes.push(l(t))}},dataExists:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*\\]",populate:function(t){this.data.push({field:l(t)})}},dataCompare:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*("+s.comparatorOp+")\\s*("+s.value+")\\s*\\]",populate:function(t,e,n){var i=null!=new RegExp("^"+s.string+"$").exec(n);n=i?n.substring(1,n.length-1):parseFloat(n),this.data.push({field:l(t),operator:e,value:n})}},dataBool:{query:!0,regex:"\\[\\s*("+s.boolOp+")\\s*("+s.variable+")\\s*\\]",populate:function(t,e){this.data.push({field:l(e),operator:t})}},metaCompare:{query:!0,regex:"\\[\\[\\s*("+s.meta+")\\s*("+s.comparatorOp+")\\s*("+s.number+")\\s*\\]\\]",populate:function(t,e,n){this.meta.push({field:l(t),operator:e,value:parseFloat(n)})}},nextQuery:{separator:!0,regex:s.separator,populate:function(){i[++c]=a(),o=null}},child:{separator:!0,regex:s.child,populate:function(){var t=a();t.parent=this,t.subject=o,i[c]=t}},descendant:{separator:!0,regex:s.descendant,populate:function(){var t=a();t.ancestor=this,t.subject=o,i[c]=t}},subject:{modifier:!0,regex:s.subject,populate:function(){return null!=o&&this.subject!=this?(t.util.error("Redefinition of subject in selector `"+n+"`"),!1):(o=this,void(this.subject=this))}}},p=0;for(var f in h)h[p]=h[f],h[p].name=f,p++;h.length=p,i._private.selectorText=n;var g=n,c=0,v=function(e){for(var n,i,r,o=0;o<h.length;o++){var a=h[o],s=a.name;if(!t.is.fn(e)||e(s,a)){var l=g.match(new RegExp("^"+a.regex));if(null!=l){i=l,n=a,r=s;var u=l[0];g=g.substring(u.length);break}}}return{expr:n,match:i,name:r}},y=function(){var t=g.match(/^\s+/);if(t){var e=t[0];g=g.substring(e.length)}};for(i[0]=a(),y();;){var m=v();if(null==m.expr)return void t.util.error("The selector `"+n+"`is invalid");for(var x=[],p=1;p<m.match.length;p++)x.push(m.match[p]);var b=m.expr.populate.apply(i[c],x);if(b===!1)return;if(g.match(/^\s*$/))break}for(i.length=c+1,p=0;p<i.length;p++){var w=i[p];if(null!=w.subject){for(;w.subject!=w;)if(null!=w.parent){var E=w.parent,_=w;_.parent=null,E.child=_,w=E}else{if(null==w.ancestor){t.util.error("When adjusting references for the selector `"+w+"`, neither parent nor ancestor was found");break}var T=w.ancestor,N=w;N.ancestor=null,T.descendant=N,w=T}i[p]=w.subject}}if(null!=e)for(var p=0;p<i.length;p++){if(null!=i[p].group&&i[p].group!=e)return void t.util.error("Group `"+i[p].group+"` conflicts with implicit group `"+e+"` in selector `"+n+"`");i[p].group=e}}i._private.invalid=!1},t.selfn=t.Selector.prototype,t.selfn.size=function(){return this.length},t.selfn.eq=function(t){return this[t]},t.selfn.find=function(){};var e=function(n,i){if(null!=n.group&&"*"!=n.group&&n.group!=i._private.group)return!1;for(var r=i.cy(),o=!0,a=0;a<n.colonSelectors.length;a++){var s=n.colonSelectors[a];switch(s){case":selected":o=i.selected();break;case":unselected":o=!i.selected();break;case":selectable":o=i.selectable();break;case":unselectable":o=!i.selectable();break;case":locked":o=i.locked();break;case":unlocked":o=!i.locked();break;case":visible":o=i.visible();break;case":hidden":o=!i.visible();break;case":transparent":o=i.transparent();break;case":grabbed":o=i.grabbed();break;case":free":o=!i.grabbed();break;case":removed":o=i.removed();break;case":inside":o=!i.removed();break;case":grabbable":o=i.grabbable();break;case":ungrabbable":o=!i.grabbable();break;case":animated":o=i.animated();break;case":unanimated":o=!i.animated();break;case":parent":o=i.isNode()&&i.children().nonempty();break;case":child":case":nonorphan":o=i.isNode()&&i.parent().nonempty();break;case":orphan":o=i.isNode()&&i.parent().empty();break;case":loop":o=i.isEdge()&&i.data("source")===i.data("target");break;case":simple":o=i.isEdge()&&i.data("source")!==i.data("target");break;case":active":o=i.active();break;case":inactive":o=!i.active();break;case":touch":o=t.is.touch();break;case":backgrounding":o=i.backgrounding();break;case":nonbackgrounding":o=!i.backgrounding()}if(!o)break}if(!o)return!1;for(var l=!0,a=0;a<n.ids.length;a++){var u=n.ids[a],c=i._private.data.id;if(l=l&&u==c,!l)break}if(!l)return!1;for(var d=!0,a=0;a<n.classes.length;a++){var h=n.classes[a];if(d=d&&i.hasClass(h),!d)break}if(!d)return!1;var p=function(e){for(var i=!0,r=0;r<n[e.name].length;r++){var o,a=n[e.name][r],s=a.operator,l=a.value,u=a.field;if(null!=s&&null!=l){var c=e.fieldValue(u),d=t.is.string(c)||t.is.number(c)?""+c:"",h=""+l,p=!1;s.indexOf("@")>=0&&(d=d.toLowerCase(),h=h.toLowerCase(),s=s.replace("@",""),p=!0);var f=!1,g=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),f=!0),p&&(l=h.toLowerCase(),c=d.toLowerCase()),s){case"*=":o=d.search(h)>=0;break;case"$=":o=null!=new RegExp(h+"$").exec(d);break;case"^=":o=null!=new RegExp("^"+h).exec(d);break;case"=":o=c===l;break;case"!=":o=c!==l;break;case">":o=f?l>=c:c>l,g=!0;break;case">=":o=f?l>c:c>=l,g=!0;break;case"<":o=f?c>=l:l>c,g=!0;break;case"<=":o=f?c>l:l>=c,g=!0;break;default:o=!1}}else if(null!=s)switch(s){case"?":o=e.fieldTruthy(u);break;case"!":o=!e.fieldTruthy(u);break;case"^":o=e.fieldUndefined(u)}else o=!e.fieldUndefined(u);if(f&&!g&&(o=!o,g=!0),!o){i=!1;break}}return i},f=p({name:"data",fieldValue:function(t){return i._private.data[t]},fieldRef:function(t){return"element._private.data."+t},fieldUndefined:function(t){return void 0===i._private.data[t]},fieldTruthy:function(t){return!!i._private.data[t]}});if(!f)return!1;var g=p({name:"meta",fieldValue:function(t){return i[t]()},fieldRef:function(t){return"element."+t+"()"},fieldUndefined:function(t){return null==i[t]()},fieldTruthy:function(t){return!!i[t]()}});if(!g)return!1;if(null!=n.collection){var v=null!=n.collection._private.ids[i.id()];if(!v)return!1;
}if(null!=n.filter&&0===i.collection().filter(n.filter).size())return!1;var y=function(t,n){if(null!=t){var i=!1;if(!r.hasCompoundNodes())return!1;n=n();for(var o=0;o<n.length;o++)if(e(t,n[o])){i=!0;break}return i}return!0};return!!(y(n.parent,function(){return i.parent()})&&y(n.ancestor,function(){return i.parents()})&&y(n.child,function(){return i.children()})&&y(n.descendant,function(){return i.descendants()}))};t.selfn.filter=function(n){var i=this,r=n.cy();if(i._private.invalid)return new t.Collection(r);var o=function(t,n){for(var r=0;r<i.length;r++){var o=i[r];if(e(o,n))return!0}return!1};null==i._private.selectorText&&(o=function(){return!0});var a=n.filter(o);return a},t.selfn.matches=function(t){var n=this;if(n._private.invalid)return!1;for(var i=0;i<n.length;i++){var r=n[i];if(e(r,t))return!0}return!1},t.selfn.toString=t.selfn.selector=function(){for(var e="",n=function(e,n){return t.is.string(e)?n?'"'+e+'"':e:""},i=function(t){var e="";t.subject===t&&(e+="$");var o=n(t.group);e+=o.substring(0,o.length-1);for(var a=0;a<t.data.length;a++){var s=t.data[a];e+=s.value?"["+s.field+n(s.operator)+n(s.value,!0)+"]":"["+n(s.operator)+s.field+"]"}for(var a=0;a<t.meta.length;a++){var l=t.meta[a];e+="[["+l.field+n(l.operator)+n(l.value,!0)+"]]"}for(var a=0;a<t.colonSelectors.length;a++){var u=t.colonSelectors[r];e+=u}for(var a=0;a<t.ids.length;a++){var u="#"+t.ids[r];e+=u}for(var a=0;a<t.classes.length;a++){var u="."+t.classes[r];e+=u}return null!=t.parent&&(e=i(t.parent)+" > "+e),null!=t.ancestor&&(e=i(t.ancestor)+" "+e),null!=t.child&&(e+=" > "+i(t.child)),null!=t.descendant&&(e+=" "+i(t.descendant)),e},r=0;r<this.length;r++){var o=this[r];e+=i(o),this.length>1&&r<this.length-1&&(e+=", ")}return e}}(cytoscape),function(t){"use strict";t.Style=function(e){return this instanceof t.Style?t.is.core(e)?(this._private={cy:e,coreStyle:{},newStyle:!0},this.length=0,void this.addDefaultStylesheet()):void t.util.error("A style must have a core reference"):new t.Style(e)},t.style=t.Style,t.styfn=t.Style.prototype,t.fn.style=function(e,n){for(var i in e){var r=e[i];t.Style.prototype=r}},function(){var e=t.util.regex.number,n=t.util.regex.rgbaNoBackRefs,i=t.util.regex.hslaNoBackRefs,r=t.util.regex.hex3,o=t.util.regex.hex6,a=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(t){return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+e+"|\\w+|"+n+"|"+i+"|"+r+"|"+o+")\\s*\\,\\s*("+e+"|\\w+|"+n+"|"+i+"|"+r+"|"+o+")\\)$"};t.style.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},autoSize:{number:!0,min:0,enums:["auto"]},number:{number:!0},size:{number:!0,min:0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad"},textRotation:{enums:["none","autorotate"]}};var l=t.style.types,u=t.style.properties=[{name:"text-valign",type:l.valign},{name:"text-halign",type:l.halign},{name:"color",type:l.color},{name:"content",type:l.text},{name:"text-outline-color",type:l.color},{name:"text-outline-width",type:l.size},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size},{name:"text-border-style",type:l.borderStyle},{name:"text-background-shape",type:l.textBackgroundShape},{name:"text-transform",type:l.textTransform},{name:"text-wrap",type:l.textWrap},{name:"text-max-width",type:l.size},{name:"font-family",type:l.fontFamily},{name:"font-style",type:l.fontStyle},{name:"font-weight",type:l.fontWeight},{name:"font-size",type:l.size},{name:"min-zoomed-font-size",type:l.size},{name:"edge-text-rotation",type:l.textRotation},{name:"display",type:l.display},{name:"visibility",type:l.visibility},{name:"opacity",type:l.zeroOneNumber},{name:"z-index",type:l.nonNegativeInt},{name:"overlay-padding",type:l.size},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber},{name:"shadow-blur",type:l.size},{name:"shadow-color",type:l.color},{name:"shadow-opacity",type:l.zeroOneNumber},{name:"shadow-offset-x",type:l.number},{name:"shadow-offset-y",type:l.number},{name:"text-shadow-blur",type:l.size},{name:"text-shadow-color",type:l.color},{name:"text-shadow-opacity",type:l.zeroOneNumber},{name:"text-shadow-offset-x",type:l.number},{name:"text-shadow-offset-y",type:l.number},{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"height",type:l.autoSize},{name:"width",type:l.autoSize},{name:"shape",type:l.nodeShape},{name:"background-color",type:l.color},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size},{name:"border-style",type:l.borderStyle},{name:"background-image",type:l.url},{name:"background-image-opacity",type:l.zeroOneNumber},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"padding-left",type:l.size},{name:"padding-right",type:l.size},{name:"padding-top",type:l.size},{name:"padding-bottom",type:l.size},{name:"position",type:l.position},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels},{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"control-point-step-size",type:l.size},{name:"control-point-distance",type:l.number},{name:"control-point-weight",type:l.zeroOneNumber},{name:"curve-style",type:l.curveStyle},{name:"haystack-radius",type:l.zeroOneNumber},{name:"source-arrow-shape",type:l.arrowShape},{name:"target-arrow-shape",type:l.arrowShape},{name:"mid-source-arrow-shape",type:l.arrowShape},{name:"mid-target-arrow-shape",type:l.arrowShape},{name:"source-arrow-color",type:l.color},{name:"target-arrow-color",type:l.color},{name:"mid-source-arrow-color",type:l.color},{name:"mid-target-arrow-color",type:l.color},{name:"source-arrow-fill",type:l.arrowFill},{name:"target-arrow-fill",type:l.arrowFill},{name:"mid-source-arrow-fill",type:l.arrowFill},{name:"mid-target-arrow-fill",type:l.arrowFill},{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}];t.style.pieBackgroundN=16,u.push({name:"pie-size",type:l.bgSize});for(var c=1;c<=t.style.pieBackgroundN;c++)u.push({name:"pie-"+c+"-background-color",type:l.color}),u.push({name:"pie-"+c+"-background-size",type:l.percent}),u.push({name:"pie-"+c+"-background-opacity",type:l.zeroOneNumber});for(var c=0;c<u.length;c++){var d=u[c];u[d.name]=d}}(),t.styfn.addDefaultStylesheet=function(){var t="Helvetica",e="normal",n="normal",i="#000",r="none",o=16,a=9999;this.selector("node, edge").css({"text-valign":"top","text-halign":"center",color:i,"text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":r,"text-wrap":"none","text-max-width":a,"text-background-color":"#000","text-background-opacity":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":t,"font-style":e,"font-weight":n,"font-size":o,"min-zoomed-font-size":0,"edge-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,content:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"background-blacken":0,"background-color":"#888","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include","pie-size":"100%","pie-1-background-color":"black","pie-2-background-color":"black","pie-3-background-color":"black","pie-4-background-color":"black","pie-5-background-color":"black","pie-6-background-color":"black","pie-7-background-color":"black","pie-8-background-color":"black","pie-9-background-color":"black","pie-10-background-color":"black","pie-11-background-color":"black","pie-12-background-color":"black","pie-13-background-color":"black","pie-14-background-color":"black","pie-15-background-color":"black","pie-16-background-color":"black","pie-1-background-size":"0%","pie-2-background-size":"0%","pie-3-background-size":"0%","pie-4-background-size":"0%","pie-5-background-size":"0%","pie-6-background-size":"0%","pie-7-background-size":"0%","pie-8-background-size":"0%","pie-9-background-size":"0%","pie-10-background-size":"0%","pie-11-background-size":"0%","pie-12-background-size":"0%","pie-13-background-size":"0%","pie-14-background-size":"0%","pie-15-background-size":"0%","pie-16-background-size":"0%","pie-1-background-opacity":1,"pie-2-background-opacity":1,"pie-3-background-opacity":1,"pie-4-background-opacity":1,"pie-5-background-opacity":1,"pie-6-background-opacity":1,"pie-7-background-opacity":1,"pie-8-background-opacity":1,"pie-9-background-opacity":1,"pie-10-background-opacity":1,"pie-11-background-opacity":1,"pie-12-background-opacity":1,"pie-13-background-opacity":1,"pie-14-background-opacity":1,"pie-15-background-opacity":1,"pie-16-background-opacity":1,"source-arrow-shape":"none","mid-source-arrow-shape":"none","target-arrow-shape":"none","mid-target-arrow-shape":"none","source-arrow-color":"#ddd","mid-source-arrow-color":"#ddd","target-arrow-color":"#ddd","mid-target-arrow-color":"#ddd","source-arrow-fill":"filled","mid-source-arrow-fill":"filled","target-arrow-fill":"filled","mid-target-arrow-fill":"filled","line-style":"solid","line-color":"#ddd","control-point-step-size":40,"control-point-weight":.5,"curve-style":"bezier","haystack-radius":.8}).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","background-opacity":.5,"padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},t.styfn.clear=function(){for(var t=0;t<this.length;t++)this[t]=void 0;return this.length=0,this._private.newStyle=!0,this},t.styfn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},t.styfn.core=function(){return this._private.coreStyle},t.styfn.parse=function(e,n,i,r){var o,a=[e,n,i,r].join("$"),s=this.propCache=this.propCache||{};return(o=s[a])||(o=s[a]=this.parseImpl(e,n,i,r)),t.util.copy(o)},t.styfn.parseImpl=function(e,n,i,r){e=t.util.camel2dash(e);var o=t.style.properties[e],a=n,s=t.style.types;if(!o)return null;if(void 0===n||null===n)return null;var l=t.is.string(n);l&&(n=t.util.trim(n));var u=o.type;if(!u)return null;if(i&&(""===n||null===n))return{name:e,value:n,bypass:!0,deleteBypass:!0};var c=e.match(/pie-(\d+)-background-size/);if(t.is.fn(n))return{name:e,value:n,strValue:"fn",mapped:s.fn,bypass:i,hasPie:c};var d,h,p,f,g,v;if(!l||r);else{if((d=new RegExp(s.data.regex).exec(n))||(p=new RegExp(s.layoutData.regex).exec(n))||(g=new RegExp(s.scratch.regex).exec(n))){if(i)return!1;var y;return y=d?s.data:p?s.layoutData:s.scratch,d=d||p||g,{name:e,value:d,strValue:""+n,mapped:y,field:d[1],bypass:i,hasPie:c}}if((h=new RegExp(s.mapData.regex).exec(n))||(f=new RegExp(s.mapLayoutData.regex).exec(n))||(v=new RegExp(s.mapScratch.regex).exec(n))){if(i)return!1;var y;if(y=h?s.mapData:f?s.mapLayoutData:s.mapScratch,h=h||f||v,!u.color&&!u.number)return!1;var m=this.parse(e,h[4]);if(!m||m.mapped)return!1;var x=this.parse(e,h[5]);if(!x||x.mapped)return!1;if(m.value===x.value)return!1;if(u.color){var b=m.value,w=x.value,E=!(b[0]!==w[0]||b[1]!==w[1]||b[2]!==w[2]||b[3]!==w[3]&&(null!=b[3]&&1!==b[3]||null!=w[3]&&1!==w[3]));if(E)return!1}return{name:e,value:h,strValue:""+n,mapped:y,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:m.value,valueMax:x.value,bypass:i,hasPie:c}}}if(u.number){var _,T="px";if(u.units&&(_=u.units),u.implicitUnits&&(T=u.implicitUnits),!u.unitless)if(l){var N="px|em"+(u.allowPercent?"|\\%":"");_&&(N=_);var C=n.match("^("+t.util.regex.number+")("+N+")?$");C&&(n=C[1],_=C[2]||T)}else(!_||u.implicitUnits)&&(_=T);if(n=parseFloat(n),isNaN(n)&&void 0===u.enums)return null;if(isNaN(n)&&void 0!==u.enums){n=a;for(var D=0;D<u.enums.length;D++){var S=u.enums[D];if(S===n)return{name:e,value:n,strValue:""+n,bypass:i}}return null}if(u.integer&&!t.is.integer(n))return null;if(void 0!==u.min&&n<u.min||void 0!==u.max&&n>u.max)return null;var k={name:e,value:n,strValue:""+n+(_?_:""),units:_,bypass:i,hasPie:c&&null!=n&&0!==n&&""!==n};return u.unitless||"px"!==_&&"em"!==_||(k.pxValue="px"!==_&&_?this.getEmSizeInPixels()*n:n),("ms"===_||"s"===_)&&(k.msValue="ms"===_?n:1e3*n),k}if(u.propList){var L=[],M=""+n;if("none"===M);else{for(var P=M.split(","),D=0;D<P.length;D++){var A=t.util.trim(P[D]);t.style.properties[A]&&L.push(A)}if(0===L.length)return null}return{name:e,value:L,strValue:0===L.length?"none":L.join(", "),bypass:i}}if(u.color){var I=t.util.color2tuple(n);return I?{name:e,value:I,strValue:""+n,bypass:i}:null}if(u.enums){for(var D=0;D<u.enums.length;D++){var S=u.enums[D];if(S===n)return{name:e,value:n,strValue:""+n,bypass:i}}return null}if(u.regex){var O=new RegExp(u.regex),R=O.exec(n);return R?{name:e,value:R,strValue:""+n,bypass:i}:null}return u.string?{name:e,value:n,strValue:""+n,bypass:i}:null},t.styfn.selector=function(e){var n="core"===e?null:new t.Selector(e),i=this.length++;return this[i]={selector:n,properties:[],mappedProperties:[],index:i},this},t.styfn.css=function(){var e=arguments;switch(e.length){case 1:for(var n=e[0],i=0;i<t.style.properties.length;i++){var r=t.style.properties[i],o=n[r.name];void 0===o&&(o=n[t.util.dash2camel(r.name)]),void 0!==o&&this.cssRule(r.name,o)}break;case 2:this.cssRule(e[0],e[1])}return this},t.styfn.style=t.styfn.css,t.styfn.cssRule=function(t,e){var n=this.parse(t,e);if(n){var i=this.length-1;this[i].properties.push(n),this[i].properties[n.name]=n,n.hasPie&&(this._private.hasPie=!0),n.mapped&&this[i].mappedProperties.push(n);var r=!this[i].selector;r&&(this._private.coreStyle[n.name]=n)}return this}}(cytoscape),function(t){"use strict";t.styfn.apply=function(t){var e=this;e._private.newStyle&&(this._private.contextStyles={},this._private.propDiffs={});for(var n=0;n<t.length;n++){var i=t[n],r=e.getContextMeta(i),o=e.getContextStyle(r),a=e.applyContextStyle(r,o,i);e.updateTransitions(i,a.diffProps),e.updateStyleHints(i)}e._private.newStyle=!1},t.styfn.getPropertiesDiff=function(t,e){var n=this,i=n._private.propDiffs=n._private.propDiffs||{},r=t+"-"+e,o=i[r];if(o)return o;for(var a=[],s={},l=0;l<n.length;l++){var u=n[l],c="t"===t[l],d="t"===e[l],h=c!==d,p=u.mappedProperties.length>0;if(h||p){var f;h&&p?f=u.properties:h?f=u.properties:p&&(f=u.mappedProperties);for(var g=0;g<f.length;g++){for(var v=f[g],y=v.name,m=!1,x=l+1;x<n.length;x++){var b=n[x],w="t"===e[x];if(w&&(m=null!=b.properties[v.name]))break}s[y]||m||(s[y]=!0,a.push(y))}}}return i[r]=a,a},t.styfn.getContextMeta=function(t){var e,n=this,i="",r=t._private.styleCxtKey||"";n._private.newStyle&&(r="");for(var o=0;o<n.length;o++){var a=n[o],s=a.selector&&a.selector.matches(t);i+=s?"t":"f"}return e=n.getPropertiesDiff(r,i),t._private.styleCxtKey=i,{key:i,diffPropNames:e}},t.styfn.getContextStyle=function(t){var e=t.key,n=this,i=this._private.contextStyles=this._private.contextStyles||{};if(i[e])return i[e];for(var r={_private:{key:e}},o=0;o<n.length;o++){var a=n[o],s="t"===e[o];if(s)for(var l=0;l<a.properties.length;l++){var u=a.properties[l],c=r[u.name]=u;c.context=a}}return i[e]=r,r},t.styfn.applyContextStyle=function(t,e,n){for(var i=this,r=t.diffPropNames,o={},a=0;a<r.length;a++){var s=r[a],l=e[s],u=n._private.style[s];if(l&&u!==l){var c=o[s]={prev:u};i.applyParsedProperty(n,l),c.next=n._private.style[s],c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:o}},t.styfn.updateStyleHints=function(e){var n=e._private,i=this,r=n.style,o=!1;if("nodes"===n.group&&i._private.hasPie)for(var a=1;a<=t.style.pieBackgroundN;a++){var s=n.style["pie-"+a+"-background-size"].value;if(s>0){o=!0;break}}n.hasPie=o;var l=r["text-transform"].strValue,u=r.content.strValue,c=r["font-style"].strValue,s=r["font-size"].pxValue+"px",d=r["font-family"].strValue,h=r["font-weight"].strValue,p=r["text-valign"].strValue,f=r["text-valign"].strValue,g=r["text-outline-width"].pxValue,v=r["text-wrap"].strValue,y=r["text-max-width"].pxValue;n.labelKey=c+"$"+s+"$"+d+"$"+h+"$"+u+"$"+l+"$"+p+"$"+f+"$"+g+"$"+v+"$"+y,n.fontKey=c+"$"+h+"$"+s+"$"+d;var m=r.width.pxValue,x=r.height.pxValue,b=r["border-width"].pxValue;if(n.boundingBoxKey=m+"$"+x+"$"+b,"edges"===e._private.group){var w=r["control-point-step-size"].pxValue,E=r["control-point-distance"]?r["control-point-distance"].pxValue:void 0,_=r["control-point-weight"].value,T=r["curve-style"].strValue;n.boundingBoxKey+="$"+w+"$"+E+"$"+_+"$"+T}n.styleKey=Date.now()},t.styfn.applyParsedProperty=function(e,n){var i,r,o=n,a=e._private.style,s=t.style.types,l=t.style.properties[o.name].type,u=o.bypass,c=a[o.name],d=c&&c.bypass,h=e._private;if(("height"===n.name||"width"===n.name)&&e.isNode()){if("auto"===n.value&&!e.isParent())return!1;"auto"!==n.value&&e.isParent()&&(o=n=this.parse(n.name,"auto",u))}if(u&&o.deleteBypass){var p=a[o.name];return!p||!(!p.bypass||!p.bypassed)&&(a[o.name]=p.bypassed,!0)}var f=function(){t.util.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+e.id()+"` for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case s.mapData:case s.mapLayoutData:case s.mapScratch:var i,g=o.mapped===s.mapLayoutData,v=o.mapped===s.mapScratch,y=o.field.split(".");i=v||g?h.scratch:h.data;for(var m=0;m<y.length&&i;m++){var x=y[m];i=i[x]}var b;if(b=t.is.number(i)?(i-o.fieldMin)/(o.fieldMax-o.fieldMin):0,0>b?b=0:b>1&&(b=1),l.color){var w=o.valueMin[0],E=o.valueMax[0],_=o.valueMin[1],T=o.valueMax[1],N=o.valueMin[2],C=o.valueMax[2],D=null==o.valueMin[3]?1:o.valueMin[3],S=null==o.valueMax[3]?1:o.valueMax[3],k=[Math.round(w+(E-w)*b),Math.round(_+(T-_)*b),Math.round(N+(C-N)*b),Math.round(D+(S-D)*b)];r={bypass:o.bypass,name:o.name,value:k,strValue:"rgb("+k[0]+", "+k[1]+", "+k[2]+")"}}else{if(!l.number)return!1;var L=o.valueMin+(o.valueMax-o.valueMin)*b;r=this.parse(o.name,L,o.bypass,!0)}r||(r=this.parse(o.name,c.strValue,o.bypass,!0)),r||f(),r.mapping=o,o=r;break;case s.data:case s.layoutData:case s.scratch:var i,g=o.mapped===s.layoutData,v=o.mapped===s.scratch,y=o.field.split(".");if(i=v||g?h.scratch:h.data)for(var m=0;m<y.length;m++){var x=y[m];i=i[x]}if(r=this.parse(o.name,i,o.bypass,!0),!r){var M=c?c.strValue:"";r=this.parse(o.name,M,o.bypass,!0)}r||f(),r.mapping=o,o=r;break;case s.fn:var P=o.value,A=P(e);r=this.parse(o.name,A,o.bypass,!0),r.mapping=o,o=r;break;case void 0:break;default:return!1}return u?(o.bypassed=d?c.bypassed:c,a[o.name]=o):d?c.bypassed=o:a[o.name]=o,!0},t.styfn.update=function(){var t=this._private.cy,e=t.elements();e.updateStyle()},t.styfn.updateMappers=function(e){for(var n=0;n<e.length;n++){for(var i=e[n],r=i._private.style,o=0;o<t.style.properties.length;o++){var a=t.style.properties[o],s=r[a.name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(i,l)}}this.updateStyleHints(i)}},t.styfn.updateTransitions=function(e,n,i){var r=this,o=e._private.style,a=o["transition-property"].value,s=o["transition-duration"].msValue,l=o["transition-delay"].msValue,u={};if(a.length>0&&s>0){for(var c=!1,d=0;d<a.length;d++){var h=a[d],p=o[h],f=n[h];if(f){var g,v=f.prev,y=v,m=null!=f.next?f.next:p,x=!1,b=1e-6;y&&(t.is.number(y.pxValue)&&t.is.number(m.pxValue)?(x=m.pxValue-y.pxValue,g=y.pxValue+b*x):t.is.number(y.value)&&t.is.number(m.value)?(x=m.value-y.value,g=y.value+b*x):t.is.array(y.value)&&t.is.array(m.value)&&(x=y.value[0]!==m.value[0]||y.value[1]!==m.value[1]||y.value[2]!==m.value[2],g=y.strValue),x&&(u[h]=m.strValue,this.applyBypass(e,h,g),c=!0))}}if(!c)return;e._private.transitioning=!0,e.stop(),l>0&&e.delay(l),e.animate({css:u},{duration:s,queue:!1,complete:function(){i||r.removeBypasses(e,a),e._private.transitioning=!1}})}else e._private.transitioning&&(e.stop(),this.removeBypasses(e,a),e._private.transitioning=!1)}}(cytoscape),function(t){"use strict";t.styfn.applyBypass=function(e,n,i,r){var o=[],a=!0;if("*"===n||"**"===n){if(void 0!==i)for(var s=0;s<t.style.properties.length;s++){var l=t.style.properties[s],n=l.name,u=this.parse(n,i,!0);u&&o.push(u)}}else if(t.is.string(n)){var u=this.parse(n,i,!0);u&&o.push(u)}else{if(!t.is.plainObject(n))return!1;var c=n;r=i;for(var s=0;s<t.style.properties.length;s++){var l=t.style.properties[s],n=l.name,i=c[n];if(void 0===i&&(i=c[t.util.dash2camel(n)]),void 0!==i){var u=this.parse(n,i,!0);u&&o.push(u)}}}if(0===o.length)return!1;for(var d=!1,s=0;s<e.length;s++){for(var h,p=e[s],f=p._private.style,g={},v=0;v<o.length;v++){var l=o[v];if(r){var y=f[l.name];h=g[l.name]={prev:y}}d=this.applyParsedProperty(p,l)||d,r&&(h.next=f[l.name])}r&&this.updateTransitions(p,g,a)}return d},t.styfn.overrideBypass=function(e,n,i){for(var r=0;r<e.length;r++){var o=e[r],a=o._private.style[t.util.camel2dash(n)];a.bypass?(a.value=i,a.pxValue=i):this.applyBypass(o,n,i)}},t.styfn.removeAllBypasses=function(e,n){for(var i=!0,r=0;r<e.length;r++){for(var o=e[r],a={},s=o._private.style,l=0;l<t.style.properties.length;l++){var u=t.style.properties[l],c=u.name,d="",h=this.parse(c,d,!0),p=s[u.name],f=a[u.name]={prev:p};this.applyParsedProperty(o,h),f.next=s[u.name]}n&&this.updateTransitions(o,a,i)}},t.styfn.removeBypasses=function(e,n,i){for(var r=!0,o=0;o<e.length;o++){for(var a=e[o],s={},l=a._private.style,u=0;u<n.length;u++){var c=n[u],d=t.style.properties[c],h="",p=this.parse(c,h,!0),f=l[d.name],g=s[d.name]={prev:f};this.applyParsedProperty(a,p),g.next=l[d.name]}i&&this.updateTransitions(a,s,r)}}}(cytoscape),function(t,e){"use strict";t.styfn.getEmSizeInPixels=function(){var t=this._private.cy,n=t.container();if(e&&n&&e.getComputedStyle){var i=e.getComputedStyle(n).getPropertyValue("font-size"),r=parseFloat(i);return r}return 1},t.styfn.containerCss=function(t){var n=this._private.cy,i=n.container();return e&&i&&e.getComputedStyle?e.getComputedStyle(i).getPropertyValue(t):void 0},t.styfn.containerProperty=function(t){var e=this.containerCss(t),n=this.parse(t,e);return n},t.styfn.containerPropertyAsString=function(t){var e=this.containerProperty(t);return e?e.strValue:void 0}}(cytoscape,"undefined"==typeof window?null:window),function(t){"use strict";t.styfn.getRenderedStyle=function(e){var e=e[0];if(e){for(var n={},i=e._private.style,r=this._private.cy,o=r.zoom(),a=0;a<t.style.properties.length;a++){var s=t.style.properties[a],l=i[s.name];if(l){var u=l.unitless?l.strValue:l.pxValue*o+"px";n[s.name]=u,n[t.util.dash2camel(s.name)]=u}}return n}},t.styfn.getRawStyle=function(e){var e=e[0];if(e){for(var n={},i=e._private.style,r=0;r<t.style.properties.length;r++){var o=t.style.properties[r],a=i[o.name];a&&(n[o.name]=a.strValue,n[t.util.dash2camel(o.name)]=a.strValue)}return n}},t.styfn.getValueStyle=function(e){var n,i={},r=t.is.element(e);if(n=r?e._private.style:e)for(var o=0;o<t.style.properties.length;o++){var a=t.style.properties[o],s=n[a.name]||n[t.util.dash2camel(a.name)];void 0!==s&&(s=t.is.plainObject(s)?this.parse(a.name,s.strValue):this.parse(a.name,s)),s&&(i[a.name]=s,i[t.util.dash2camel(a.name)]=s)}return i},t.styfn.getPropsList=function(e){var n=[],i=e,r=t.style.properties;if(i)for(var o in i){var a=i[o],s=r[o]||r[t.util.camel2dash(o)],l=this.parse(s.name,a);n.push(l)}return n}}(cytoscape),function(t){"use strict";t.style.applyFromJson=function(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.selector,o=i.style||i.css;t.selector(r);for(var a in o){var s=o[a];t.css(a,s)}}return t},t.style.fromJson=function(e,n){var i=new t.Style(e);return t.style.applyFromJson(i,n),i},t.styfn.fromJson=function(e){var n=this;return n.resetToDefault(),t.style.applyFromJson(n,e),n},t.styfn.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],i=n.selector,r=n.properties,o={},a=0;a<r.length;a++){var s=r[a];o[s.name]=s.strValue}t.push({selector:i?i.toString():"core",style:o})}return t}}(cytoscape),function(t){"use strict";t.style.applyFromString=function(e,n){function i(){l=l.length>o.length?l.substr(o.length):""}function r(){a=a.length>s.length?a.substr(s.length):""}var o,a,s,l=""+n;for(l=l.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){var u=l.match(/^\s*$/);if(u)break;var c=l.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){t.util.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+l);break}o=c[0];var d=c[1];if("core"!==d){var h=new t.Selector(d);if(h._private.invalid){t.util.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),i();continue}}var p=c[2],f=!1;a=p;for(var g=[];;){var u=a.match(/^\s*$/);if(u)break;var v=a.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!v){t.util.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),f=!0;break}s=v[0];var y=v[1],m=v[2],x=t.style.properties[y];if(x){var b=e.parse(y,m);b?(g.push({name:y,val:m}),r()):(t.util.error("Skipping property: Invalid property definition in: "+s),r())}else t.util.error("Skipping property: Invalid property name in: "+s),r()}if(f){i();break}e.selector(d);for(var w=0;w<g.length;w++){var x=g[w];e.css(x.name,x.val)}i()}return e},t.style.fromString=function(e,n){var i=new t.Style(e);return t.style.applyFromString(i,n),i},t.styfn.fromString=function(e){var n=this;return n.resetToDefault(),t.style.applyFromString(n,e),n}}(cytoscape),function(t){"use strict";t.stylesheet=t.Stylesheet=function(){return this instanceof t.Stylesheet?void(this.length=0):new t.Stylesheet},t.sheetfn=t.Stylesheet.prototype,t.sheetfn.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this},t.sheetfn.css=function(e,n){var i=this.length-1;if(t.is.string(e))this[i].properties.push({name:e,value:n});else if(t.is.plainObject(e))for(var r=e,o=0;o<t.style.properties.length;o++){var a=t.style.properties[o],s=r[a.name];if(void 0===s&&(s=r[t.util.dash2camel(a.name)]),void 0!==s){var e=a.name,n=s;this[i].properties.push({name:e,value:n})}}return this},t.sheetfn.style=t.sheetfn.css,t.sheetfn.generateStyle=function(e){for(var n=new t.Style(e),i=0;i<this.length;i++){var r=this[i],o=r.selector,a=r.properties;n.selector(o);for(var s=0;s<a.length;s++){var l=a[s];n.css(l.name,l.value)}}return n}}(cytoscape),function(t,e){"use strict";t.Thread=function(e){return this instanceof t.Thread?(this._private={requires:[],files:[],queue:null,pass:[]},void(e&&this.run(e))):new t.Thread(e)},t.thread=t.Thread,t.thdfn=t.Thread.prototype,t.fn.thread=function(e,n){for(var i in e){var r=e[i];t.Thread.prototype[i]=r}};var n=function(e){var n=t.is.fn(e)?e.toString():'JSON.parse("'+JSON.stringify(e)+'")';return n},i=function(e){var r,a;t.is.object(e)&&e.fn?(r=o(e.fn,e.name),a=e.name,e=e.fn):t.is.fn(e)?(r=e.toString(),a=e.name):t.is.string(e)?r=e:t.is.object(e)&&(r=e.proto?"":e.name+" = {};",a=e.name,e=e.obj),r+="\n";var s=function(t,e){if(t.prototype){var n=!1;for(var o in t.prototype){n=!0;break}n&&(r+=i({name:e,obj:t,proto:!0},t))}};if(e.prototype&&null!=a)for(var l in e.prototype){var u="",c=e.prototype[l],d=n(c),h=a+".prototype."+l;u+=h+" = "+d+";\n",u&&(r+=u),s(c,h)}if(!t.is.string(e))for(var l in e){var p="";if(e.hasOwnProperty(l)){var c=e[l],d=n(c),h=a+'["'+l+'"]';p+=h+" = "+d+";\n"}p&&(r+=p),s(c,h)}return r},r=function(e){return t.is.string(e)&&e.match(/\.js$/)};t.fn.thread({require:function(e,n){return r(e)?(this._private.files.push(e),this):(n&&(t.is.fn(e)?(n=n||e.name,e={name:n,fn:e}):e={name:n,obj:e}),this._private.requires.push(e),this)},pass:function(t){return this._private.pass.push(t),this},run:function(n,r){var o=this,a=this._private;if(r=r||a.pass.shift(),a.stopped)return void t.util.error("Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.");if(a.running)return a.queue=a.queue.then(function(){return o.run(n,r)});var s=null!=e,l="undefined"!=typeof module;o.trigger("run");var u=new t.Promise(function(u,c){a.running=!0;var d=a.ran,h=t.is.string(n)?n:n.toString(),p="\n"+a.requires.map(function(t){return i(t)}).concat(a.files.map(function(t){if(s){var n=function(t){return t.match(/^\.\//)||t.match(/^\.\./)?e.location.origin+e.location.pathname+t:t.match(/^\//)?e.location.origin+"/"+t:t;
};return'importScripts("'+n(t)+'");'}return l?'eval( require("fs").readFileSync("'+t+'", { encoding: "utf8" }) );':void 0})).concat(["( function(){","var ret = ("+h+")("+JSON.stringify(r)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(a.requires=[],a.files=[],s){var f,g;if(!d){var v=p+"";p=["function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),p+=v,f=new Blob([p],{type:"application/javascript"}),g=e.URL.createObjectURL(f)}var y=a.webworker=a.webworker||new Worker(g);d&&y.postMessage({$$eval:p});var m;y.addEventListener("message",m=function(e){var n=t.is.object(e)&&t.is.object(e.data);n&&"$$resolve"in e.data?(y.removeEventListener("message",m),u(e.data.$$resolve)):n&&"$$reject"in e.data?(y.removeEventListener("message",m),c(e.data.$$reject)):o.trigger(new t.Event(e,{type:"message",message:e.data}))},!1),d||y.postMessage("$$start")}else if(l){var m,x=require("path"),b=require("child_process"),w=a.child=a.child||b.fork(x.join(__dirname,"thread-node-fork"));w.on("message",m=function(e){t.is.object(e)&&"$$resolve"in e?(w.removeListener("message",m),u(e.$$resolve)):t.is.object(e)&&"$$reject"in e?(w.removeListener("message",m),c(e.$$reject)):o.trigger(new t.Event({},{type:"message",message:e}))}),w.send({$$eval:p})}else t.error("Tried to create thread but no underlying tech found!")}).then(function(t){return a.running=!1,a.ran=!0,o.trigger("ran"),t});return null==a.queue&&(a.queue=u),u},message:function(t){var e=this._private;return e.webworker&&e.webworker.postMessage(t),e.child&&e.child.send(t),this},stop:function(){var t=this._private;return t.webworker&&t.webworker.terminate(),t.child&&t.child.kill(),t.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var o=function(t,e){var n=t.toString();return n=n.replace(/function.*\(/,"function "+e+"(")},a=function(t){return t=t||{},function(e,n){var i=o(e,"_$_$_"+t.name);return this.require(i),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+t.name+"( _$_$_"+t.name+(arguments.length>1?", "+JSON.stringify(n):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};t.fn.thread({reduce:a({name:"reduce"}),reduceRight:a({name:"reduceRight"}),map:a({name:"map"})});var s=t.thdfn;s.promise=s.run,s.terminate=s.halt=s.stop,s.include=s.require,t.worker=t.Worker=t.Thread,t.fn.thread({on:t.define.on(),one:t.define.on({unbindSelfOnTrigger:!0}),off:t.define.off(),trigger:t.define.trigger()}),t.define.eventAliasesOn(t.thdfn)}(cytoscape,"undefined"==typeof window?null:window),function(t,e){"use strict";t.Fabric=function(e){if(!(this instanceof t.Fabric))return new t.Fabric(e);this._private={pass:[]};var n=4;t.is.number(e),e="undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency?navigator.hardwareConcurrency:"undefined"!=typeof module?require("os").cpus().length:n;for(var i=0;e>i;i++)this[i]=t.Thread();this.length=e},t.fabric=t.Fabric,t.fabfn=t.Fabric.prototype,t.fn.fabric=function(e,n){for(var i in e){var r=e[i];t.Fabric.prototype[i]=r}},t.fn.fabric({require:function(t,e){for(var n=0;n<this.length;n++){var i=this[n];i.require(t,e)}return this},random:function(){var t=Math.round((this.length-1)*Math.random()),e=this[t];return e},run:function(t){var e=this._private.pass.shift();return this.random().pass(e).run(t)},message:function(t){return this.random().message(t)},broadcast:function(t){for(var e=0;e<this.length;e++){var n=this[e];n.message(t)}return this},stop:function(){for(var t=0;t<this.length;t++){var e=this[t];e.stop()}return this},pass:function(e){var n=this._private.pass;return t.is.array(e)?n.push(e):t.util.error("Only arrays or collections may be used with fabric.pass()"),this},spreadSize:function(){var t=Math.ceil(this._private.pass[0].length/this.length);return t=Math.max(1,t)},spread:function(e){for(var n=this,i=n._private,r=n.spreadSize(),o=i.pass.shift().concat([]),a=[],s=0;s<this.length;s++){var l=this[s],u=o.splice(0,r),c=l.pass(u).run(e);a.push(c);var d=0===o.length;if(d)break}return t.Promise.all(a).then(function(t){for(var e=[],n=0,i=0;i<t.length;i++)for(var r=t[i],o=0;o<r.length;o++){var a=r[o];e[n++]=a}return e})},map:function(t){var e=this;return e.require(t,"_$_$_fabmap"),e.spread(function(t){var e=[],n=resolve;resolve=function(t){e.push(t)};for(var i=0;i<t.length;i++){var r=e.length,o=_$_$_fabmap(t[i]),a=r===e.length;a&&e.push(o)}return resolve=n,e})},filter:function(t){var e=this._private,n=e.pass[0];return this.map(t).then(function(t){for(var e=[],i=0;i<n.length;i++){var r=n[i],o=t[i];o&&e.push(r)}return e})},sort:function(t){var e=this,n=this._private.pass[0].length,i=this.spreadSize();return t=t||function(t,e){return e>t?-1:t>e?1:0},e.require(t,"_$_$_cmp"),e.spread(function(t){var e=t.sort(_$_$_cmp);resolve(e)}).then(function(e){for(var r=function(i,r,o){r=Math.min(r,n),o=Math.min(o,n);for(var a=i,s=r,l=[],u=a;o>u;u++){var c=e[i],d=e[r];s>i&&(r>=o||t(c,d)<=0)?(l.push(c),i++):(l.push(d),r++)}for(var u=0;u<l.length;u++){var h=a+u;e[h]=l[u]}},o=i;n>o;o*=2)for(var a=0;n>a;a+=2*o)r(a,a+o,a+2*o);return e})}});var n=function(t){return t=t||{},function(e,n){var i=this._private.pass.shift();return this.random().pass(i)[t.threadFn](e,n)}};t.fn.fabric({randomMap:n({threadFn:"map"}),reduce:n({threadFn:"reduce"}),reduceRight:n({threadFn:"reduceRight"})});var i=t.fabfn;i.promise=i.run,i.terminate=i.halt=i.stop,i.include=i.require,t.fn.fabric({on:t.define.on(),one:t.define.on({unbindSelfOnTrigger:!0}),off:t.define.off(),trigger:t.define.trigger()}),t.define.eventAliasesOn(t.fabfn)}(cytoscape,"undefined"==typeof window?null:window),function(t,e){"use strict";var n={},i=t.util.copy(n);t.defaults=function(e){n=t.util.extend({},i,e)},t.fn.core=function(e,n){for(var i in e){var r=e[i];t.Core.prototype[i]=r}},t.Core=function(i){if(!(this instanceof t.Core))return new t.Core(i);var r=this;i=t.util.extend({},n,i);var o=i.container,a=o?o._cyreg:null;if(a=a||{},a&&a.cy){if(o)for(;o.firstChild;)o.removeChild(o.firstChild);a.cy.notify({type:"destroy"}),a={}}var s=a.readies=a.readies||[];o&&(o._cyreg=a),a.cy=r;var l=void 0!==e&&void 0!==o&&!i.headless,u=i;u.layout=t.util.extend({name:l?"grid":"null"},u.layout),u.renderer=t.util.extend({name:l?"canvas":"null"},u.renderer);var c=function(t,e,n){return void 0!==e?e:void 0!==n?n:t},d=this._private={container:u.container,ready:!1,initrender:!1,options:u,elements:[],id2index:{},listeners:[],onRenders:[],aniEles:t.Collection(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:c(!0,u.zoomingEnabled),userZoomingEnabled:c(!0,u.userZoomingEnabled),panningEnabled:c(!0,u.panningEnabled),userPanningEnabled:c(!0,u.userPanningEnabled),boxSelectionEnabled:c(!1,u.boxSelectionEnabled),autolock:c(!1,u.autolock,u.autolockNodes),autoungrabify:c(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:c(!1,u.autounselectify),styleEnabled:void 0===u.styleEnabled?l:u.styleEnabled,zoom:t.is.number(u.zoom)?u.zoom:1,pan:{x:t.is.plainObject(u.pan)&&t.is.number(u.pan.x)?u.pan.x:0,y:t.is.plainObject(u.pan)&&t.is.number(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,deferredExecQueue:[]},h=u.selectionType;d.selectionType=void 0===h||"additive"!==h&&"single"!==h?"single":h,t.is.number(u.minZoom)&&t.is.number(u.maxZoom)&&u.minZoom<u.maxZoom?(d.minZoom=u.minZoom,d.maxZoom=u.maxZoom):t.is.number(u.minZoom)&&void 0===u.maxZoom?d.minZoom=u.minZoom:t.is.number(u.maxZoom)&&void 0===u.minZoom&&(d.maxZoom=u.maxZoom);var p=function(e){for(var n=!1,i=0;i<f.length;i++){var r=f[i];if(t.is.promise(r)){n=!0;break}}return n?t.Promise.all(f).then(e):void e(f)},f=[u.style,u.elements];p(function(e){var n=e[0],i=e[1];d.styleEnabled&&r.setStyle(n),r.initRenderer(t.util.extend({hideEdgesOnViewport:u.hideEdgesOnViewport,hideLabelsOnViewport:u.hideLabelsOnViewport,textureOnViewport:u.textureOnViewport,wheelSensitivity:t.is.number(u.wheelSensitivity)&&u.wheelSensitivity>0?u.wheelSensitivity:1,motionBlur:void 0===u.motionBlur||u.motionBlur,motionBlurOpacity:void 0===u.motionBlurOpacity?.05:u.motionBlurOpacity,pixelRatio:t.is.number(u.pixelRatio)&&u.pixelRatio>0?u.pixelRatio:"auto"===u.pixelRatio?void 0:1,desktopTapThreshold:void 0===u.desktopTapThreshold?4:u.desktopTapThreshold,touchTapThreshold:void 0===u.touchTapThreshold?8:u.touchTapThreshold},u.renderer)),u.initrender&&(r.on("initrender",u.initrender),r.on("initrender",function(){r._private.initrender=!0})),r.load(i,function(){r.startAnimationLoop(),r._private.ready=!0,t.is.fn(u.ready)&&r.on("ready",u.ready);for(var e=0;e<s.length;e++){var n=s[e];r.on("ready",n)}a&&(a.readies=[]),r.trigger("ready")},u.done)})},t.corefn=t.Core.prototype,t.fn.core({isReady:function(){return this._private.ready},ready:function(t){this.isReady()?this.trigger("ready",[],t):this.on("ready",t)},initrender:function(){return this._private.initrender},destroy:function(){this.notify({type:"destroy"});var t=this.container(),e=t.parentNode;if(e)try{e.removeChild(t)}catch(n){}return this},getElementById:function(e){var n=this._private.id2index[e];return void 0!==n?this._private.elements[n]:new t.Collection(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){for(var e=this._private.elements,n=this._private.id2index,i=0;i<t.length;i++){var r=t[i],o=r._private.data.id,a=n[o],s=void 0!==a;s||(a=e.length,e.push(r),n[o]=a,r._private.index=a)}return this},removeFromPool:function(t){for(var e=this._private.elements,n=this._private.id2index,i=0;i<t.length;i++){var r=t[i],o=r._private.data.id,a=n[o],s=void 0!==a;if(s){this._private.id2index[o]=void 0,e.splice(a,1);for(var l=a;l<e.length;l++){var u=e[l]._private.data.id;n[u]--,e[l]._private.index--}}}},container:function(){return this._private.container},options:function(){return t.util.copy(this._private.options)},json:function(t){var e={},n=this;return e.elements={},n.elements().each(function(t,n){var i=n.group();e.elements[i]||(e.elements[i]=[]),e.elements[i].push(n.json())}),this._private.styleEnabled&&(e.style=n.style().json()),e.zoomingEnabled=n._private.zoomingEnabled,e.userZoomingEnabled=n._private.userZoomingEnabled,e.zoom=n._private.zoom,e.minZoom=n._private.minZoom,e.maxZoom=n._private.maxZoom,e.panningEnabled=n._private.panningEnabled,e.userPanningEnabled=n._private.userPanningEnabled,e.pan=n._private.pan,e.boxSelectionEnabled=n._private.boxSelectionEnabled,e.layout=n._private.options.layout,e.renderer=n._private.options.renderer,e.hideEdgesOnViewport=n._private.options.hideEdgesOnViewport,e.hideLabelsOnViewport=n._private.options.hideLabelsOnViewport,e.textureOnViewport=n._private.options.textureOnViewport,e.wheelSensitivity=n._private.options.wheelSensitivity,e.motionBlur=n._private.options.motionBlur,e},defer:function(t){var e=this,n=e._private,i=n.deferredExecQueue;i.push(t),n.deferredTimeout||(n.deferredTimeout=setTimeout(function(){for(;i.length>0;)i.shift()();n.deferredTimeout=null},0))}})}(cytoscape,"undefined"==typeof window?null:window),function(t,e){"use strict";function n(t){var e=!document||"interactive"!==document.readyState&&"complete"!==document.readyState?n:t;setTimeout(e,9,t)}t.fn.core({add:function(e){var n,i=this;if(t.is.elementOrCollection(e)){var r=e;if(r._private.cy===i)n=r.restore();else{for(var o=[],a=0;a<r.length;a++){var s=r[a];o.push(s.json())}n=new t.Collection(i,o)}}else if(t.is.array(e)){var o=e;n=new t.Collection(i,o)}else if(t.is.plainObject(e)&&(t.is.array(e.nodes)||t.is.array(e.edges))){for(var l=e,o=[],u=["nodes","edges"],a=0,c=u.length;c>a;a++){var d=u[a],h=l[d];if(t.is.array(h))for(var p=0,f=h.length;f>p;p++){var g=h[p];g.group=d,o.push(g)}}n=new t.Collection(i,o)}else{var g=e;n=new t.Element(i,g).collection()}return n},remove:function(e){if(t.is.elementOrCollection(e))e=e;else if(t.is.string(e)){var n=e;e=this.$(n)}return e.remove()},load:function(i,r,o){function a(){s.one("layoutready",function(t){s.notifications(!0),s.trigger(t),s.notify({type:"load",collection:s.elements()}),s.one("load",r),s.trigger("load")}).one("layoutstop",function(){s.one("done",o),s.trigger("done")});var e=t.util.extend({},s._private.options.layout);e.eles=s.$(),s.layout(e)}var s=this;s.notifications(!1);var l=s.elements();return l.length>0&&l.remove(),null!=i&&(t.is.plainObject(i)||t.is.array(i))&&s.add(i),e?n(a):a(),this}})}(cytoscape,"undefined"==typeof window?null:window),function(t,e){"use strict";t.fn.core({animated:t.define.animated(),clearQueue:t.define.clearQueue(),delay:t.define.delay(),animate:t.define.animate(),stop:t.define.stop(),addToAnimationPool:function(t){var e=this;e.styleEnabled()&&e._private.aniEles.merge(t)},startAnimationLoop:function(){function n(){t.util.requestAnimationFrame(function(t){i(t),n()})}function i(e){function n(n,i){var l=n._private.animation.current,u=n._private.animation.queue,c=!1;if(0===l.length){var d=u.length>0?u.shift():null;d&&(d.callTime=e,l.push(d))}for(var h=[],p=l.length-1;p>=0;p--){var f=l[p];f.started||(r(n,f),s=!0),o(n,f,e,i),f.done&&(h.push(f),l.splice(p,1)),c=!0}for(var p=0;p<h.length;p++){var f=h[p],g=f.params.complete;t.is.fn(g)&&g.apply(n,[e])}return i||0!==l.length||0!==u.length||a.push(n),c}e=+new Date;for(var i=l._private.aniEles,a=[],s=!1,u=0;u<i.length;u++){var c=i[u];n(c)}var d=n(l,!0);if(i.length>0||d){var h;if(i.length>0){var p=i.updateCompoundBounds();h=p.length>0?i.add(p):i}l.notify({type:s?"style":"draw",collection:h})}i.unmerge(a)}function r(e,n){var i=t.is.core(e),r=!i,o=e,a=l._private.style;if(r)var s=o._private.position,u={x:s.x,y:s.y},c=a.getValueStyle(o);if(i)var d=l._private.pan,h={x:d.x,y:d.y},p=l._private.zoom;n.started=!0,n.startTime=Date.now(),n.startPosition=u,n.startStyle=c,n.startPan=h,n.startZoom=p}function o(e,n,i,r){var o,u=l._private.style,c=n.properties,d=n.params,h=n.startTime,p=!r;if(o=0===n.duration?1:Math.min(1,(i-h)/n.duration),0>o?o=0:o>1&&(o=1),null==c.delay){var f=n.startPosition,g=c.position,v=e._private.position;g&&p&&(a(f.x,g.x)&&(v.x=s(f.x,g.x,o)),a(f.y,g.y)&&(v.y=s(f.y,g.y,o)));var y=n.startPan,m=c.pan,x=e._private.pan,b=null!=m&&r;b&&(a(y.x,m.x)&&(x.x=s(y.x,m.x,o)),a(y.y,m.y)&&(x.y=s(y.y,m.y,o)),e.trigger("pan"));var w=n.startZoom,E=c.zoom,_=null!=E&&r;_&&(a(w,E)&&(e._private.zoom=s(w,E,o)),e.trigger("zoom")),(b||_)&&e.trigger("viewport");var T=c.style||c.css;if(T&&p)for(var N=0;N<T.length;N++){var C=T[N].name,D=T[N],S=D,k=n.startStyle[C],L=s(k,S,o);u.overrideBypass(e,C,L)}}return t.is.fn(d.step)&&d.step.apply(e,[i]),o>=1&&(n.done=!0),o}function a(e,n){return null!=e&&null!=n&&(!(!t.is.number(e)||!t.is.number(n))||!(!e||!n))}function s(e,n,i){0>i?i=0:i>1&&(i=1);var r,o;if(r=null!=e.pxValue||null!=e.value?null!=e.pxValue?e.pxValue:e.value:e,o=null!=n.pxValue||null!=n.value?null!=n.pxValue?n.pxValue:n.value:n,t.is.number(r)&&t.is.number(o))return r+(o-r)*i;if(t.is.number(r[0])&&t.is.number(o[0])){var a=r,s=o,l=function(t,e){var n=e-t,r=t;return Math.round(i*n+r)},u=l(a[0],s[0]),c=l(a[1],s[1]),d=l(a[2],s[2]);return[u,c,d]}}var l=this;l.styleEnabled()&&e&&n()}})}(cytoscape,"undefined"==typeof window?null:window),function(t){"use strict";t.fn.core({data:t.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:t.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:t.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:t.define.removeData({field:"scratch",triggerEvent:!1})})}(cytoscape),function(t){"use strict";t.fn.core({on:t.define.on(),one:t.define.on({unbindSelfOnTrigger:!0}),once:t.define.on({unbindAllBindersOnTrigger:!0}),off:t.define.off(),trigger:t.define.trigger()}),t.define.eventAliasesOn(t.corefn)}(cytoscape),function(t){"use strict";t.fn.core({png:function(t){var e=this._private.renderer;return t=t||{},e.png(t)},jpg:function(t){var e=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",e.jpg(t)}}),t.corefn.jpeg=t.corefn.jpg}(cytoscape),function(t){"use strict";t.fn.core({layout:function(e){var n;return null==e&&(e=t.util.extend({},this._private.options.layout),e.eles=this.$()),n=this.initLayout(e),n.run(),this},makeLayout:function(t){return this.initLayout(t)},initLayout:function(e){if(null==e)return void t.util.error("Layout options must be specified to make a layout");if(null==e.name)return void t.util.error("A `name` must be specified to make a layout");var n=e.name,i=t.extension("layout",n);if(null==i)return void t.util.error("Can not apply layout: No such layout `"+n+"` found; did you include its JS file?");e.eles=null!=e.eles?e.eles:this.$(),t.is.string(e.eles)&&(e.eles=this.$(e.eles));var r=new i(t.util.extend({},e,{cy:this}));return t.is.plainObject(r._private)||(r._private={}),r._private.cy=this,r._private.listeners=[],r}}),t.corefn.createLayout=t.corefn.makeLayout}(cytoscape),function(t){"use strict";t.fn.core({notify:function(t){if(this._private.batchingNotify){var e=this._private.batchNotifyEles,n=this._private.batchNotifyTypes;if(t.collection)for(var i=0;i<t.collection.length;i++){var r=t.collection[i];e.ids[r._private.id]||e.push(r)}return void(n.ids[t.type]||n.push(t.type))}if(this._private.notificationsEnabled){var o=this.renderer();o.notify(t)}},notifications:function(t){var e=this._private;return void 0===t?e.notificationsEnabled:void(e.notificationsEnabled=!!t)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},startBatch:function(){var t=this._private;return t.batchingStyle=t.batchingNotify=!0,t.batchStyleEles=[],t.batchNotifyEles=[],t.batchNotifyTypes=[],t.batchStyleEles.ids={},t.batchNotifyEles.ids={},t.batchNotifyTypes.ids={},this},endBatch:function(){var e=this._private;return e.batchingStyle=!1,new t.Collection(this,e.batchStyleEles).updateStyle(),e.batchingNotify=!1,this.notify({type:e.batchNotifyTypes,collection:e.batchNotifyEles}),this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch(function(){for(var n in t){var i=t[n],r=e.getElementById(n);r.data(i)}})}})}(cytoscape),function(t){"use strict";t.fn.core({renderTo:function(t,e,n,i){var r=this._private.renderer;return r.renderTo(t,e,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.notify({type:"resize"}),this.trigger("resize"),this},initRenderer:function(e){var n=this,i=t.extension("renderer",e.name);return null==i?void t.util.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",e.name):void(this._private.renderer=new i(t.util.extend({},e,{cy:n,style:n._private.style})))},triggerOnRender:function(){for(var t=this._private.onRenders,e=0;e<t.length;e++){var n=t[e];n()}return this},onRender:function(t){return this._private.onRenders.push(t),this},offRender:function(t){var e=this._private.onRenders;if(null==t)return this._private.onRenders=[],this;for(var n=0;n<e.length;n++){var i=e[n];if(t===i){e.splice(n,1);break}}return this}})}(cytoscape),function(t){"use strict";t.fn.core({collection:function(e){return t.is.string(e)?this.$(e):t.is.elementOrCollection(e)?e.collection():t.is.array(e)?new t.Collection(this,e):new t.Collection(this)},nodes:function(t){var e=this.$(function(){return this.isNode()});return t?e.filter(t):e},edges:function(t){var e=this.$(function(){return this.isEdge()});return t?e.filter(t):e},$:function(e){var n=new t.Collection(this,this._private.elements);return e?n.filter(e):n}}),t.corefn.elements=t.corefn.filter=t.corefn.$}(cytoscape),function(t){"use strict";t.fn.core({style:function(t){if(t){var e=this.setStyle(t);e.update()}return this._private.style},setStyle:function(e){var n=this._private;return n.style=t.is.stylesheet(e)?e.generateStyle(this):t.is.array(e)?t.style.fromJson(this,e):t.is.string(e)?t.style.fromString(this,e):new t.Style(this),n.style}})}(cytoscape),function(t){"use strict";t.fn.core({autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var e,n,i,r,o,a=arguments,s=this._private.pan;switch(a.length){case 0:return s;case 1:if(t.is.string(a[0]))return e=a[0],s[e];if(t.is.plainObject(a[0])){if(!this._private.panningEnabled)return this;i=a[0],r=i.x,o=i.y,t.is.number(r)&&(s.x=r),t.is.number(o)&&(s.y=o),this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=a[0],n=a[1],"x"!==e&&"y"!==e||!t.is.number(n)||(s[e]=n),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(e){var n,i,r,o,a,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:t.is.plainObject(s[0])&&(r=s[0],o=r.x,a=r.y,t.is.number(o)&&(l.x+=o),t.is.number(a)&&(l.y+=a),this.trigger("pan viewport"));break;case 2:n=s[0],i=s[1],"x"!==n&&"y"!==n||!t.is.number(i)||(l[n]+=i),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(t,e){var n=this.getFitViewport(t,e);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.trigger("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(e,n){if(t.is.number(e)&&void 0===n&&(n=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var i;if(t.is.string(e)){var r=e;e=this.$(r)}else if(t.is.boundingBox(e)){var o=e;i={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},i.w=i.x2-i.x1,i.h=i.y2-i.y1}else t.is.elementOrCollection(e)||(e=this.elements());i=i||e.boundingBox();var a,s=this.width(),l=this.height();if(n=t.is.number(n)?n:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(i.w)&&!isNaN(i.h)&&i.w>0&&i.h>0){a=Math.min((s-2*n)/i.w,(l-2*n)/i.h),a=a>this._private.maxZoom?this._private.maxZoom:a,a=a<this._private.minZoom?this._private.minZoom:a;var u={x:(s-a*(i.x1+i.x2))/2,y:(l-a*(i.y1+i.y2))/2};return{zoom:a,pan:u}}}},minZoom:function(e){return void 0===e?this._private.minZoom:(t.is.number(e)&&(this._private.minZoom=e),this)},maxZoom:function(e){return void 0===e?this._private.maxZoom:(t.is.number(e)&&(this._private.maxZoom=e),this)},zoom:function(e){var n,i;if(void 0===e)return this._private.zoom;if(t.is.number(e))i=e;else if(t.is.plainObject(e)){if(i=e.level,e.position){var r=e.position,o=this._private.pan,a=this._private.zoom;n={x:r.x*a+o.x,y:r.y*a+o.y}}else e.renderedPosition&&(n=e.renderedPosition);if(n&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!t.is.number(i)||n&&(!t.is.number(n.x)||!t.is.number(n.y)))return this;if(i=i>this._private.maxZoom?this._private.maxZoom:i,i=i<this._private.minZoom?this._private.minZoom:i,n){var s=this._private.pan,l=this._private.zoom,u=i,c={x:-u/l*(n.x-s.x)+n.x,y:-u/l*(n.y-s.y)+n.y};this._private.zoom=i,this._private.pan=c;var d=s.x!==c.x||s.y!==c.y;this.trigger(" zoom "+(d?" pan ":"")+" viewport ")}else this._private.zoom=i,this.trigger("zoom viewport");return this.notify({type:"viewport"}),this},viewport:function(e){var n=this._private,i=!0,r=!0,o=[],a=!1,s=!1;if(!e)return this;if(t.is.number(e.zoom)||(i=!1),t.is.plainObject(e.pan)||(r=!1),!i&&!r)return this;if(i){var l=e.zoom;l<n.minZoom||l>n.maxZoom||!n.zoomingEnabled?a=!0:(n.zoom=l,o.push("zoom"))}if(r&&(!a||!e.cancelOnFailedZoom)&&n.panningEnabled){var u=e.pan;t.is.number(u.x)&&(n.pan.x=u.x,s=!1),t.is.number(u.y)&&(n.pan.y=u.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.trigger(o.join(" ")),this.notify({type:"viewport"})),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.trigger("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(e,n){if(this._private.panningEnabled){if(t.is.string(e)){var i=e;e=this.elements(i)}else t.is.elementOrCollection(e)||(e=this.elements());var r=e.boundingBox(),o=this.width(),a=this.height();n=void 0===n?this._private.zoom:n;var s={x:(o-n*(r.x1+r.x2))/2,y:(a-n*(r.y1+r.y2))/2};return s}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},width:function(){var t=this._private.container;return t?t.clientWidth:1},height:function(){var t=this._private.container;return t?t.clientHeight:1},extent:function(){var t=this._private.pan,e=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-t.x)/e,x2:(n.x2-t.x)/e,y1:(n.y1-t.y)/e,y2:(n.y2-t.y)/e};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}}}),t.corefn.centre=t.corefn.center,t.corefn.autolockNodes=t.corefn.autolock,t.corefn.autoungrabifyNodes=t.corefn.autoungrabify}(cytoscape),function(t){"use strict";t.fn.collection=t.fn.eles=function(e,n){for(var i in e){var r=e[i];t.Collection.prototype[i]=r}};var e={prefix:{nodes:"n",edges:"e"},id:{nodes:0,edges:0},generate:function(e,n,i){var r=t.is.element(n)?n._private:n,o=r.group,a=null!=i?i:this.prefix[o]+this.id[o];if(e.getElementById(a).empty())this.id[o]++;else for(;!e.getElementById(a).empty();)a=this.prefix[o]+ ++this.id[o];return a}};t.Element=function(e,n,i){if(!(this instanceof t.Element))return new t.Element(e,n,i);var r=this;if(i=!(void 0!==i&&!i),void 0===e||void 0===n||!t.is.core(e))return void t.util.error("An element must have a core reference and parameters set");if("nodes"!==n.group&&"edges"!==n.group)return void t.util.error("An element must be of type `nodes` or `edges`; you specified `"+n.group+"`");if(this.length=1,this[0]=this,this._private={cy:e,single:!0,data:n.data||{},position:n.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:n.group,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!n.selected,selectable:void 0===n.selectable||!!n.selectable,locked:!!n.locked,grabbed:!1,grabbable:void 0===n.grabbable||!!n.grabbable,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:n.scratch||{},edges:[],children:[]},n.renderedPosition){var o=n.renderedPosition,a=e.pan(),s=e.zoom();this._private.position={x:(o.x-a.x)/s,y:(o.y-a.y)/s}}if(t.is.string(n.classes))for(var l=n.classes.split(/\s+/),u=0,c=l.length;c>u;u++){var d=l[u];d&&""!==d&&(r._private.classes[d]=!0)}n.css&&e.style().applyBypass(this,n.css),(void 0===i||i)&&this.restore()},t.Collection=function(n,i,r){if(!(this instanceof t.Collection))return new t.Collection(n,i);if(void 0===n||!t.is.core(n))return void t.util.error("A collection must have a reference to the core");var o={},a={},s=!1;if(i){if(i.length>0&&t.is.plainObject(i[0])&&!t.is.element(i[0])){s=!0;for(var l=[],u={},c=0,d=i.length;d>c;c++){var h=i[c];null==h.data&&(h.data={});var p=h.data;if(null==p.id)p.id=e.generate(n,h);else if(0!==n.getElementById(p.id).length||u[p.id])continue;var f=new t.Element(n,h,(!1));l.push(f),u[p.id]=!0}i=l}}else i=[];this.length=0;for(var c=0,d=i.length;d>c;c++){var g=i[c];if(g){var v=g._private.data.id;(!r||r.unique&&!o[v])&&(o[v]=g,a[v]=this.length,this[this.length]=g,this.length++)}}this._private={cy:n,ids:o,indexes:a},s&&this.restore()},t.elefn=t.elesfn=t.Element.prototype=t.Collection.prototype,t.elesfn.cy=function(){return this._private.cy},t.elesfn.element=function(){return this[0]},t.elesfn.collection=function(){return t.is.collection(this)?this:new t.Collection(this._private.cy,[this])},t.elesfn.unique=function(){return new t.Collection(this._private.cy,this,{unique:!0})},t.elesfn.getElementById=function(e){var n=this._private.cy,i=this._private.ids[e];return i?i:t.Collection(n)},t.elesfn.json=function(){var e=this.element();if(null!=e){var n=e._private,i=t.util.copy({data:n.data,position:n.position,group:n.group,bypass:n.bypass,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbed:n.grabbed,grabbable:n.grabbable,classes:""}),r=[];for(var o in n.classes)n.classes[o]&&r.push(o);for(var a=0;a<r.length;a++){var o=r[a];i.classes+=o+(a<r.length-1?" ":"")}return i}},t.elesfn.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e],i=n.json();t.push(i)}return t},t.elesfn.clone=function(){for(var e=this.cy(),n=[],i=0;i<this.length;i++){var r=this[i],o=r.json(),a=new t.Element(e,o,(!1));n.push(a)}return new t.Collection(e,n)},t.elesfn.copy=t.elesfn.clone,t.elesfn.restore=function(n){var i=this,r=[],o=i.cy();void 0===n&&(n=!0);for(var a=[],s=[],l=[],u=0,c=0,d=0,h=i.length;h>d;d++){var p=i[d];p.isNode()?(s.push(p),u++):(l.push(p),c++)}a=s.concat(l);for(var d=0,h=a.length;h>d;d++){var p=a[d];if(p.removed()){var f=p._private,g=f.data;if(void 0===g.id)g.id=e.generate(o,p);else if(t.is.number(g.id))g.id=""+g.id;else{if(t.is.emptyString(g.id)||!t.is.string(g.id)){t.util.error("Can not create element with invalid string ID `"+g.id+"`");continue}if(0!==o.getElementById(g.id).length){t.util.error("Can not create second element with ID `"+g.id+"`");continue}}var v=g.id;if(p.isEdge()){for(var y=p,m=["source","target"],x=m.length,b=!1,w=0;x>w;w++){var E=m[w],_=g[E];t.is.number(_)&&(_=g[E]=""+g[E]),null==_||""===_?(t.util.error("Can not create edge `"+v+"` with unspecified "+E),b=!0):o.getElementById(_).empty()&&(t.util.error("Can not create edge `"+v+"` with nonexistant "+E+" `"+_+"`"),b=!0)}if(b)continue;var T=o.getElementById(g.source),N=o.getElementById(g.target);T._private.edges.push(y),N._private.edges.push(y),y._private.source=T,y._private.target=N}f.ids={},f.ids[v]=p,f.removed=!1,o.addToPool(p),r.push(p)}}for(var d=0;u>d;d++){var C=a[d],g=C._private.data;t.is.number(g.parent)&&(g.parent=""+g.parent);var D=g.parent,S=null!=D;if(S){var k=o.getElementById(D);if(k.empty())g.parent=void 0;else{for(var L=!1,M=k;!M.empty();){if(C.same(M)){L=!0,g.parent=void 0;break}M=M.parent()}L||(k[0]._private.children.push(C),C._private.parent=k[0],o._private.hasCompoundNodes=!0)}}}if(r=new t.Collection(o,r),r.length>0){var P=r.add(r.connectedNodes()).add(r.parent());P.updateStyle(n),n?r.rtrigger("add"):r.trigger("add")}return i},t.elesfn.removed=function(){var t=this[0];return t&&t._private.removed},t.elesfn.inside=function(){var t=this[0];return t&&!t._private.removed},t.elesfn.remove=function(e){function n(t){for(var e=t._private.edges,n=0;n<e.length;n++)r(e[n])}function i(t){for(var e=t._private.children,n=0;n<e.length;n++)r(e[n])}function r(t){var e=c[t.id()];e||(c[t.id()]=!0,t.isNode()?(u.push(t),n(t),i(t)):u.unshift(t))}function o(t,e){for(var n=t._private.edges,i=0;i<n.length;i++){var r=n[i];if(e===r){n.splice(i,1);break}}}function a(t,e){e=e[0],t=t[0];for(var n=t._private.children,i=0;i<n.length;i++)if(n[i][0]===e[0]){
n.splice(i,1);break}}var s=this,l=[],u=[],c={},d=s._private.cy;void 0===e&&(e=!0);for(var h=0,p=s.length;p>h;h++){var f=s[h];r(f)}for(var h=0;h<u.length;h++){var f=u[h];if(f._private.removed=!0,d.removeFromPool(f),l.push(f),f.isEdge()){var g=f.source()[0],v=f.target()[0];o(g,f),o(v,f)}else{var y=f.parent();0!==y.length&&a(y,f)}}var m=d._private.elements;d._private.hasCompoundNodes=!1;for(var h=0;h<m.length;h++){var f=m[h];if(f.isParent()){d._private.hasCompoundNodes=!0;break}}var x=new t.Collection(this.cy(),l);x.size()>0&&(e&&this.cy().notify({type:"remove",collection:x}),x.trigger("remove"));for(var b={},h=0;h<u.length;h++){var f=u[h],w="nodes"===f._private.group,E=f._private.data.parent;if(w&&void 0!==E&&!b[E]){b[E]=!0;var y=d.getElementById(E);y&&0!==y.length&&!y._private.removed&&0===y.children().length&&y.updateStyle()}}return this},t.elesfn.move=function(t){var e=this._private.cy;if(void 0!==t.source||void 0!==t.target){var n=t.source,i=t.target,r=e.getElementById(n).length>0,o=e.getElementById(i).length>0;if(r||o){var a=this.jsons();this.remove();for(var s=0;s<a.length;s++){var l=a[s];"edges"===l.group&&(r&&(l.data.source=n),o&&(l.data.target=i))}return e.add(a)}}else if(void 0!==t.parent){var u=t.parent,c=null===u||e.getElementById(u).length>0;if(c){var a=this.jsons(),d=this.descendants(),h=d.merge(d.add(this).connectedEdges());this.remove();for(var s=0;s<this.length;s++){var l=a[s];"nodes"===l.group&&(l.data.parent=null===u?void 0:u)}}return e.add(a).merge(h.restore())}return this}}(cytoscape),function(t){"use strict";t.fn.eles({stdBreadthFirstSearch:function(e){return e=t.util.extend({},e,{std:!0}),this.breadthFirstSearch(e)},breadthFirstSearch:function(e,n,i){var r,o,a;t.is.plainObject(e)&&!t.is.elementOrCollection(e)&&(r=e,e=r.roots,n=r.visit,i=r.directed,o=r.std,a=r.thisArg),i=2!==arguments.length||t.is.fn(n)?i:n,n=t.is.fn(n)?n:function(){};for(var s,l=this._private.cy,u=t.is.string(e)?this.filter(e):e,c=[],d=[],h={},p={},f={},g=0,v=this.nodes(),y=this.edges(),m=0;m<u.length;m++)u[m].isNode()&&(c.unshift(u[m]),f[u[m].id()]=!0,d.push(u[m]),p[u[m].id()]=0);for(;0!==c.length;){var x,u=c.shift(),b=p[u.id()],w=h[u.id()],E=null==w?void 0:w.connectedNodes().not(u)[0];if(x=o?n.call(a,u,w,E,g++,b):n.call(u,g++,b,u,w,E),x===!0){s=u;break}if(x===!1)break;for(var _=u.connectedEdges(i?function(){return this.data("source")===u.id()}:void 0).intersect(y),m=0;m<_.length;m++){var T=_[m],N=T.connectedNodes(function(){return this.id()!==u.id()}).intersect(v);0===N.length||f[N.id()]||(N=N[0],c.push(N),f[N.id()]=!0,p[N.id()]=p[u.id()]+1,d.push(N),h[N.id()]=T)}}for(var C=[],m=0;m<d.length;m++){var D=d[m],S=h[D.id()];S&&C.push(S),C.push(D)}return{path:new t.Collection(l,C,{unique:!0}),found:new t.Collection(l,s,{unique:!0})}},stdDepthFirstSearch:function(e){return e=t.util.extend({},e,{std:!0}),this.depthFirstSearch(e)},depthFirstSearch:function(e,n,i){var r,o,a;t.is.plainObject(e)&&!t.is.elementOrCollection(e)&&(r=e,e=r.roots,n=r.visit,i=r.directed,o=r.std,a=r.thisArg),i=2!==arguments.length||t.is.fn(n)?i:n,n=t.is.fn(n)?n:function(){};for(var s,l=this._private.cy,u=t.is.string(e)?this.filter(e):e,c=[],d=[],h={},p={},f={},g=0,v=this.edges(),y=this.nodes(),m=0;m<u.length;m++)u[m].isNode()&&(c.push(u[m]),d.push(u[m]),p[u[m].id()]=0);for(;0!==c.length;){var u=c.pop();if(!f[u.id()]){f[u.id()]=!0;var x,b=p[u.id()],w=h[u.id()],E=null==w?void 0:w.connectedNodes().not(u)[0];if(x=o?n.call(a,u,w,E,g++,b):n.call(u,g++,b,u,w,E),x===!0){s=u;break}if(x===!1)break;for(var _=u.connectedEdges(i?function(){return this.data("source")===u.id()}:void 0).intersect(v),m=0;m<_.length;m++){var T=_[m],N=T.connectedNodes(function(){return this.id()!==u.id()}).intersect(y);0===N.length||f[N.id()]||(N=N[0],c.push(N),p[N.id()]=p[u.id()]+1,d.push(N),h[N.id()]=T)}}}for(var C=[],m=0;m<d.length;m++){var D=d[m],S=h[D.id()];S&&C.push(S),C.push(D)}return{path:new t.Collection(l,C,{unique:!0}),found:new t.Collection(l,s,{unique:!0})}},kruskal:function(e){function n(t){for(var e=0;e<r.length;e++){var n=r[e];if(n.anySame(t))return{eles:n,index:e}}}e=t.is.fn(e)?e:function(){return 1};for(var i=new t.Collection(this._private.cy,[]),r=[],o=this.nodes(),a=0;a<o.length;a++)r.push(o[a].collection());for(var s=this.edges(),l=s.toArray().sort(function(t,n){var i=e.call(t,t),r=e.call(n,n);return i-r}),a=0;a<l.length;a++){var u=l[a],c=u.source()[0],d=u.target()[0],h=n(c),p=n(d);h.index!==p.index&&(i=i.add(u),r[h.index]=h.eles.add(p.eles),r.splice(p.index,1))}return o.add(i)},dijkstra:function(e,n,i){var r;t.is.plainObject(e)&&!t.is.elementOrCollection(e)&&(r=e,e=r.root,n=r.weight,i=r.directed);var o=this._private.cy;n=t.is.fn(n)?n:function(){return 1};for(var a=t.is.string(e)?this.filter(e)[0]:e[0],s={},l={},u={},c=this.edges().filter(function(){return!this.isLoop()}),d=this.nodes(),h=[],p=0;p<d.length;p++)s[d[p].id()]=d[p].same(a)?0:1/0,h.push(d[p]);var f=function(t){return s[t.id()]};h=new t.Collection(o,h);for(var g=t.Minheap(o,h,f),v=function(t,e){for(var r,o=(i?t.edgesTo(e):t.edgesWith(e)).intersect(c),a=1/0,s=0;s<o.length;s++){var l=o[s],u=n.apply(l,[l]);(a>u||!r)&&(a=u,r=l)}return{edge:r,dist:a}};g.size()>0;){var y=g.pop(),m=y.value,x=y.id,b=o.getElementById(x);if(u[x]=m,m===Math.Infinite)break;for(var w=b.neighborhood().intersect(d),p=0;p<w.length;p++){var E=w[p],_=E.id(),T=v(b,E),N=m+T.dist;N<g.getValueById(_)&&(g.edit(_,N),l[_]={node:b,edge:T.edge})}}return{distanceTo:function(e){var n=t.is.string(e)?d.filter(e)[0]:e[0];return u[n.id()]},pathTo:function(e){var n=t.is.string(e)?d.filter(e)[0]:e[0],i=[],r=n;if(n.length>0)for(i.unshift(n);l[r.id()];){var a=l[r.id()];i.unshift(a.edge),i.unshift(a.node),r=a.node}return new t.Collection(o,i)}}}}),t.elesfn.bfs=t.elesfn.breadthFirstSearch,t.elesfn.dfs=t.elesfn.depthFirstSearch,t.elesfn.stdBfs=t.elesfn.stdBreadthFirstSearch,t.elesfn.stdDfs=t.elesfn.stdDepthFirstSearch}(cytoscape),function(t){"use strict";t.fn.eles({aStar:function(e){e=e||{};var n=function(t,e,i,o){if(t==e)return o.push(r.getElementById(e)),o;if(e in i){var a=i[e],s=p[e];return o.push(r.getElementById(e)),o.push(r.getElementById(s)),n(t,a,i,o)}},i=function(t,e){if(0!==t.length){for(var n=0,i=e[t[0]],r=1;r<t.length;r++){var o=e[t[r]];i>o&&(i=o,n=r)}return n}},r=this._private.cy;if(null!=e&&null!=e.root){var o=t.is.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.goal){var a=t.is.string(e.goal)?this.filter(e.goal)[0]:e.goal[0];if(null!=e.heuristic&&t.is.fn(e.heuristic))var s=e.heuristic;else var s=function(){return 0};if(null!=e.weight&&t.is.fn(e.weight))var l=e.weight;else var l=function(t){return 1};if(null!=e.directed)var u=e.directed;else var u=!1;var c=[],d=[o.id()],h={},p={},f={},g={};f[o.id()]=0,g[o.id()]=s(o);for(var v=this.edges().stdFilter(function(t){return!t.isLoop()}),y=this.nodes(),m=0;d.length>0;){var x=i(d,g),b=r.getElementById(d[x]);if(m++,b.id()==a.id()){var w=n(o.id(),a.id(),h,[]);return w.reverse(),{found:!0,distance:f[b.id()],path:new t.Collection(r,w),steps:m}}c.push(b.id()),d.splice(x,1);var E=b.connectedEdges();u&&(E=E.stdFilter(function(t){return t.data("source")===b.id()})),E=E.intersect(v);for(var _=0;_<E.length;_++){var T=E[_],N=T.connectedNodes().stdFilter(function(t){return t.id()!==b.id()}).intersect(y);if(-1==c.indexOf(N.id())){var C=f[b.id()]+l.apply(T,[T]);-1!=d.indexOf(N.id())?C<f[N.id()]&&(f[N.id()]=C,g[N.id()]=C+s(N),h[N.id()]=b.id()):(f[N.id()]=C,g[N.id()]=C+s(N),d.push(N.id()),h[N.id()]=b.id(),p[N.id()]=T.id())}}}return{found:!1,distance:void 0,path:void 0,steps:m}}}},floydWarshall:function(e){e=e||{};var n=this._private.cy;if(null!=e.weight&&t.is.fn(e.weight))var i=e.weight;else var i=function(t){return 1};if(null!=e.directed)var r=e.directed;else var r=!1;for(var o=this.edges().stdFilter(function(t){return!t.isLoop()}),a=this.nodes(),s=a.length,l={},u=0;s>u;u++)l[a[u].id()]=u;for(var c=[],u=0;s>u;u++){for(var d=new Array(s),h=0;s>h;h++)d[h]=u==h?0:1/0;c.push(d)}var p=[],f=[],g=function(t){for(var e=0;s>e;e++){for(var n=new Array(s),i=0;s>i;i++)n[i]=void 0;t.push(n)}};g(p),g(f);for(var u=0;u<o.length;u++){var v=l[o[u].source().id()],y=l[o[u].target().id()],m=i.apply(o[u],[o[u]]);c[v][y]>m&&(c[v][y]=m,p[v][y]=y,f[v][y]=o[u])}if(!r)for(var u=0;u<o.length;u++){var v=l[o[u].target().id()],y=l[o[u].source().id()],m=i.apply(o[u],[o[u]]);c[v][y]>m&&(c[v][y]=m,p[v][y]=y,f[v][y]=o[u])}for(var x=0;s>x;x++)for(var u=0;s>u;u++)for(var h=0;s>h;h++)c[u][x]+c[x][h]<c[u][h]&&(c[u][h]=c[u][x]+c[x][h],p[u][h]=p[u][x]);for(var b=[],u=0;s>u;u++)b.push(a[u].id());var w={distance:function(e,i){if(t.is.string(e))var r=n.filter(e)[0].id();else var r=e.id();if(t.is.string(i))var o=n.filter(i)[0].id();else var o=i.id();return c[l[r]][l[o]]},path:function(e,i){var r=function(t,e,i,r,o){if(t===e)return n.getElementById(r[t]);if(void 0!==i[t][e]){for(var a=[n.getElementById(r[t])],s=t;t!==e;){s=t,t=i[t][e];var l=o[s][t];a.push(l),a.push(n.getElementById(r[t]))}return a}};if(t.is.string(e))var o=n.filter(e)[0].id();else var o=e.id();if(t.is.string(i))var a=n.filter(i)[0].id();else var a=i.id();var s=r(l[o],l[a],p,b,f);return new t.Collection(n,s)}};return w},bellmanFord:function(e){if(e=e||{},null!=e.weight&&t.is.fn(e.weight))var n=e.weight;else var n=function(t){return 1};if(null!=e.directed)var i=e.directed;else var i=!1;if(null==e.root)return void t.util.error("options.root required");if(t.is.string(e.root))var r=this.filter(e.root)[0];else var r=e.root[0];for(var o=this._private.cy,a=this.edges().stdFilter(function(t){return!t.isLoop()}),s=this.nodes(),l=s.length,u={},c=0;l>c;c++)u[s[c].id()]=c;for(var d=[],h=[],p=[],c=0;l>c;c++)d[c]=s[c].id()===r.id()?0:1/0,h[c]=void 0;for(var f=!1,c=1;l>c;c++){f=!1;for(var g=0;g<a.length;g++){var v=u[a[g].source().id()],y=u[a[g].target().id()],m=n.apply(a[g],[a[g]]),x=d[v]+m;if(x<d[y]&&(d[y]=x,h[y]=v,p[y]=a[g],f=!0),!i){var x=d[y]+m;x<d[v]&&(d[v]=x,h[v]=y,p[v]=a[g],f=!0)}}if(!f)break}if(f)for(var g=0;g<a.length;g++){var v=u[a[g].source().id()],y=u[a[g].target().id()],m=n.apply(a[g],[a[g]]);if(d[v]+m<d[y])return t.util.error("Error: graph contains a negative weigth cycle!"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}for(var b=[],c=0;l>c;c++)b.push(s[c].id());var w={distanceTo:function(e){if(t.is.string(e))var n=o.filter(e)[0].id();else var n=e.id();return d[u[n]]},pathTo:function(e){var n=function(t,e,n,i,r,a){for(;;){if(r.push(o.getElementById(i[n])),r.push(a[n]),e===n)return r;var s=t[n];if("undefined"==typeof s)return;n=s}};if(t.is.string(e))var i=o.filter(e)[0].id();else var i=e.id();var a=[],s=n(h,u[r.id()],u[i],b,a,p);return null!=s&&s.reverse(),new t.Collection(o,s)},hasNegativeWeightCycle:!1};return w},kargerStein:function(e){e=e||{};var n=function(t,e,n){for(var i=n[t],r=i[1],o=i[2],a=e[r],s=e[o],l=n.filter(function(t){return(e[t[1]]!==a||e[t[2]]!==s)&&(e[t[1]]!==s||e[t[2]]!==a)}),u=0;u<l.length;u++){var c=l[u];c[1]===s?(l[u]=c.slice(0),l[u][1]=a):c[2]===s&&(l[u]=c.slice(0),l[u][2]=a)}for(var u=0;u<e.length;u++)e[u]===s&&(e[u]=a);return l},i=function(t,e,r,o){if(o>=r)return e;var a=Math.floor(Math.random()*e.length),s=n(a,t,e);return i(t,s,r-1,o)},r=this._private.cy,o=this.edges().stdFilter(function(t){return!t.isLoop()}),a=this.nodes(),s=a.length,l=o.length,u=Math.ceil(Math.pow(Math.log(s)/Math.LN2,2)),c=Math.floor(s/Math.sqrt(2));if(2>s)return void t.util.error("At least 2 nodes are required for KargerSteing algorithm!");for(var d={},h=0;s>h;h++)d[a[h].id()]=h;for(var p=[],h=0;l>h;h++){var f=o[h];p.push([h,d[f.source().id()],d[f.target().id()]])}for(var g,v=1/0,y=[],h=0;s>h;h++)y.push(h);for(var m=0;u>=m;m++){var x=y.slice(0),b=i(x,p,s,c),w=x.slice(0),E=i(x,b,c,2),_=i(w,b,c,2);E.length<=_.length&&E.length<v?(v=E.length,g=[E,x]):_.length<=E.length&&_.length<v&&(v=_.length,g=[_,w])}for(var T=g[0].map(function(t){return o[t[0]]}),N=[],C=[],D=g[1][0],h=0;h<g[1].length;h++){var S=g[1][h];S===D?N.push(a[h]):C.push(a[h])}var k={cut:new t.Collection(r,T),partition1:new t.Collection(r,N),partition2:new t.Collection(r,C)};return k},pageRank:function(e){e=e||{};var n=function(t){for(var e=t.length,n=0,i=0;e>i;i++)n+=t[i];for(var i=0;e>i;i++)t[i]=t[i]/n};if(null!=e&&null!=e.dampingfactor)var i=e.dampingFactor;else var i=.8;if(null!=e&&null!=e.precision)var r=e.precision;else var r=1e-6;if(null!=e&&null!=e.iterations)var o=e.iterations;else var o=200;if(null!=e&&null!=e.weight&&t.is.fn(e.weight))var a=e.weight;else var a=function(t){return 1};for(var s=this._private.cy,l=this.edges().stdFilter(function(t){return!t.isLoop()}),u=this.nodes(),c=u.length,d=l.length,h={},p=0;c>p;p++)h[u[p].id()]=p;for(var f=[],g=[],v=(1-i)/c,p=0;c>p;p++){for(var y=[],m=0;c>m;m++)y.push(0);f.push(y),g.push(0)}for(var p=0;d>p;p++){var x=l[p],b=h[x.source().id()],w=h[x.target().id()],E=a.apply(x,[x]);f[w][b]+=E,g[b]+=E}for(var _=1/c+v,m=0;c>m;m++)if(0===g[m])for(var p=0;c>p;p++)f[p][m]=_;else for(var p=0;c>p;p++)f[p][m]=f[p][m]/g[m]+v;for(var T,N=[],C=[],p=0;c>p;p++)N.push(1),C.push(0);for(var D=0;o>D;D++){for(var S=C.slice(0),p=0;c>p;p++)for(var m=0;c>m;m++)S[p]+=f[p][m]*N[m];n(S),T=N,N=S;for(var k=0,p=0;c>p;p++)k+=Math.pow(T[p]-N[p],2);if(r>k)break}var L={rank:function(e){if(t.is.string(e))var n=s.filter(e)[0].id();else var n=e.id();return N[h[n]]}};return L},degreeCentralityNormalized:function(e){if(e=e||{},null!=e.directed)var n=e.directed;else var n=!1;var i=this.nodes(),r=i.length;if(n){for(var o={},a={},s=0,l=0,u=0;r>u;u++){var c=i[u],d=this.degreeCentrality(t.util.extend({},e,{root:c}));s<d.indegree&&(s=d.indegree),l<d.outdegree&&(l=d.outdegree),o[c.id()]=d.indegree,a[c.id()]=d.outdegree}return{indegree:function(e){if(t.is.string(e))var e=cy.filter(e)[0].id();else var e=e.id();return o[e]/s},outdegree:function(e){if(t.is.string(e))var e=cy.filter(e)[0].id();else var e=e.id();return a[e]/l}}}for(var h={},p=0,u=0;r>u;u++){var c=i[u],d=this.degreeCentrality(t.util.extend({},e,{root:c}));p<d.degree&&(p=d.degree),h[c.id()]=d.degree}return{degree:function(e){if(t.is.string(e))var e=cy.filter(e)[0].id();else var e=e.id();return h[e]/p}}},degreeCentrality:function(e){e=e||{};var n=this;if(null!=e&&null!=e.root){var i=t.is.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.weight&&t.is.fn(e.weight))var r=e.weight;else var r=function(t){return 1};if(null!=e.directed)var o=e.directed;else var o=!1;if(null!=e.alpha&&t.is.number(e.alpha))var a=e.alpha;else a=0;if(o){for(var s=i.connectedEdges('edge[target = "'+i.id()+'"]').intersection(n),l=i.connectedEdges('edge[source = "'+i.id()+'"]').intersection(n),u=s.length,c=l.length,d=0,h=0,p=0;p<s.length;p++){var f=s[p];d+=r.apply(f,[f])}for(var p=0;p<l.length;p++){var f=l[p];h+=r.apply(f,[f])}return{indegree:Math.pow(u,1-a)*Math.pow(d,a),outdegree:Math.pow(c,1-a)*Math.pow(h,a)}}for(var g=i.connectedEdges().intersection(n),v=g.length,y=0,p=0;p<g.length;p++){var f=g[p];y+=r.apply(f,[f])}return{degree:Math.pow(v,1-a)*Math.pow(y,a)}}},closenessCentralityNormalized:function(e){e=e||{};var n=e.harmonic;void 0===n&&(n=!0);for(var i={},r=0,o=this.nodes(),a=this.floydWarshall({weight:e.weight,directed:e.directed}),s=0;s<o.length;s++){for(var l=0,u=0;u<o.length;u++)if(s!=u){var c=a.distance(o[s],o[u]);l+=n?1/c:c}n||(l=1/l),l>r&&(r=l),i[o[s].id()]=l}return{closeness:function(e){if(t.is.string(e))var e=cy.filter(e)[0].id();else var e=e.id();return i[e]/r}}},closenessCentrality:function(e){if(e=e||{},null==e.root)return void t.util.error("options.root required");if(t.is.string(e.root))var n=this.filter(e.root)[0];else var n=e.root[0];if(null!=e.weight&&t.is.fn(e.weight))var i=e.weight;else var i=function(){return 1};if(null!=e.directed&&t.is.bool(e.directed))var r=e.directed;else var r=!1;var o=e.harmonic;void 0===o&&(o=!0);for(var a=this.dijkstra({root:n,weight:i,directed:r}),s=0,l=this.nodes(),u=0;u<l.length;u++)if(l[u].id()!=n.id()){var c=a.distanceTo(l[u]);s+=o?1/c:c}return o?s:1/s},betweennessCentrality:function(e){if(e=e||{},null!=e.weight&&t.is.fn(e.weight))var n=e.weight,i=!0;else var i=!1;if(null!=e.directed&&t.is.bool(e.directed))var r=e.directed;else var r=!1;for(var o=function(t,e){t.unshift(e);for(var n=0;g[t[n]]<g[t[n+1]]&&n<t.length-1;n++){var i=t[n];t[n]=t[n+1],t[n+1]=i}},a=this._private.cy,s=this.nodes(),l={},u={},c=0;c<s.length;c++)l[s[c].id()]=r?s[c].outgoers("node"):s[c].openNeighborhood("node");for(var c=0;c<s.length;c++)u[s[c].id()]=0;for(var d=0;d<s.length;d++){for(var h=[],p={},f={},g={},v=[],c=0;c<s.length;c++)p[s[c].id()]=[],f[s[c].id()]=0,g[s[c].id()]=Number.POSITIVE_INFINITY;for(f[s[d].id()]=1,g[s[d].id()]=0,v.unshift(s[d].id());v.length>0;){var y=v.pop();h.push(y),l[y].forEach(i?function(t){if(a.$("#"+y).edgesTo(t).length>0)var e=a.$("#"+y).edgesTo(t)[0];else var e=t.edgesTo("#"+y)[0];var i=n.apply(e,[e]);g[t.id()]>g[y]+i&&(g[t.id()]=g[y]+i,v.indexOf(t.id())<0?o(v,t.id()):(v.splice(v.indexOf(t.id()),1),o(v,t.id())),f[t.id()]=0,p[t.id()]=[]),g[t.id()]==g[y]+i&&(f[t.id()]=f[t.id()]+f[y],p[t.id()].push(y))}:function(t){g[t.id()]==Number.POSITIVE_INFINITY&&(v.unshift(t.id()),g[t.id()]=g[y]+1),g[t.id()]==g[y]+1&&(f[t.id()]=f[t.id()]+f[y],p[t.id()].push(y))})}for(var m={},c=0;c<s.length;c++)m[s[c].id()]=0;for(;h.length>0;){var x=h.pop();p[x].forEach(function(t){m[t]=m[t]+f[t]/f[x]*(1+m[x]),x!=s[d].id()&&(u[x]=u[x]+m[x])})}}var b=0;for(var w in u)b<u[w]&&(b=u[w]);var E={betweenness:function(e){if(t.is.string(e))var e=a.filter(e)[0].id();else var e=e.id();return u[e]},betweennessNormalized:function(e){if(t.is.string(e))var e=a.filter(e)[0].id();else var e=e.id();return u[e]/b}};return E.betweennessNormalised=E.betweennessNormalized,E}}),t.elesfn.dc=t.elesfn.degreeCentrality,t.elesfn.dcn=t.elesfn.degreeCentralityNormalised=t.elesfn.degreeCentralityNormalized,t.elesfn.cc=t.elesfn.closenessCentrality,t.elesfn.ccn=t.elesfn.closenessCentralityNormalised=t.elesfn.closenessCentralityNormalized,t.elesfn.bc=t.elesfn.betweennessCentrality}(cytoscape),function(t){"use strict";t.fn.eles({animated:t.define.animated(),clearQueue:t.define.clearQueue(),delay:t.define.delay(),animate:t.define.animate(),stop:t.define.stop()})}(cytoscape),function(t){"use strict";t.fn.eles({addClass:function(e){e=e.split(/\s+/);for(var n=this,i=[],r=0;r<e.length;r++){var o=e[r];if(!t.is.emptyString(o))for(var a=0;a<n.length;a++){var s=n[a],l=s._private.classes[o];s._private.classes[o]=!0,l||i.push(s)}}return i.length>0&&new t.Collection(this._private.cy,i).updateStyle().trigger("class"),n},hasClass:function(t){var e=this[0];return!(null==e||!e._private.classes[t])},toggleClass:function(e,n){for(var i=e.split(/\s+/),r=this,o=[],a=0,s=r.length;s>a;a++)for(var l=r[a],u=0;u<i.length;u++){var c=i[u];if(!t.is.emptyString(c)){var d=l._private.classes[c],h=n||void 0===n&&!d;h?(l._private.classes[c]=!0,d||o.push(l)):(l._private.classes[c]=!1,d&&o.push(l))}}return o.length>0&&new t.Collection(this._private.cy,o).updateStyle().trigger("class"),r},removeClass:function(e){e=e.split(/\s+/);for(var n=this,i=[],r=0;r<n.length;r++)for(var o=n[r],a=0;a<e.length;a++){var s=e[a];if(s&&""!==s){var l=o._private.classes[s];o._private.classes[s]=void 0,l&&i.push(o)}}return i.length>0&&new t.Collection(n._private.cy,i).updateStyle(),n.trigger("class"),n},flashClass:function(t,e){var n=this;if(null==e)e=250;else if(0===e)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},e),n}})}(cytoscape),function(t){"use strict";t.fn.eles({allAre:function(t){return this.filter(t).length===this.length},is:function(t){return this.filter(t).length>0},some:function(t,e){for(var n=0;n<this.length;n++){var i=e?t.apply(e,[this[n],n,this]):t(this[n],n,this);if(i)return!0}return!1},every:function(t,e){for(var n=0;n<this.length;n++){var i=e?t.apply(e,[this[n],n,this]):t(this[n],n,this);if(!i)return!1}return!0},same:function(t){return t=this.cy().collection(t),this.length===t.length&&this.intersect(t).length===this.length},anySame:function(t){return t=this.cy().collection(t),this.intersect(t).length>0},allAreNeighbors:function(t){return t=this.cy().collection(t),this.neighborhood().intersect(t).length===t.length}}),t.elesfn.allAreNeighbours=t.elesfn.allAreNeighbors}(cytoscape),function(t){"use strict";t.fn.eles({parent:function(e){for(var n=[],i=this._private.cy,r=0;r<this.length;r++){var o=this[r],a=i.getElementById(o._private.data.parent);a.size()>0&&n.push(a)}return new t.Collection(i,n,{unique:!0}).filter(e)},parents:function(e){for(var n=[],i=this.parent();i.nonempty();){for(var r=0;r<i.length;r++){var o=i[r];n.push(o)}i=i.parent()}return new t.Collection(this.cy(),n,{unique:!0}).filter(e)},commonAncestors:function(t){for(var e,n=0;n<this.length;n++){var i=this[n],r=i.parents();e=e||r,e=e.intersect(r)}return e.filter(t)},orphans:function(t){return this.stdFilter(function(t){return t.isNode()&&t.parent().empty()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(t){return t.isNode()&&t.parent().nonempty()}).filter(t)},children:function(e){for(var n=[],i=0;i<this.length;i++){var r=this[i];n=n.concat(r._private.children)}return new t.Collection(this.cy(),n,{unique:!0}).filter(e)},siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];return t?0!==t._private.children.length:void 0},isChild:function(){var t=this[0];return t?void 0!==t._private.data.parent&&0!==t.parent().length:void 0},descendants:function(e){function n(t){for(var e=0;e<t.length;e++){var r=t[e];i.push(r),r.children().nonempty()&&n(r.children())}}var i=[];return n(this.children()),new t.Collection(this.cy(),i,{unique:!0}).filter(e)}}),t.elesfn.ancestors=t.elesfn.parents}(cytoscape),function(t){"use strict";var e=1,n=0;t.fn.eles({data:t.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:t.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:t.define.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:t.define.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:t.define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:t.define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];return t?t._private.data.id:void 0},position:t.define.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(t){var e=t.updateCompoundBounds();e.rtrigger("position")},canSet:function(t){return!t.locked()}}),silentPosition:t.define.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(t){t.updateCompoundBounds()},canSet:function(t){return!t.locked()}}),positions:function(e,n){if(t.is.plainObject(e))this.position(e);else if(t.is.fn(e)){for(var i=e,r=0;r<this.length;r++){var o=this[r],e=i.apply(o,[r,o]);if(e&&!o.locked()){var a=o._private.position;a.x=e.x,a.y=e.y}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;n?l.trigger("position"):l.rtrigger("position")}return this},silentPositions:function(t){return this.positions(t,!0)},updateCompoundBounds:function(){function e(t){var e=t.children(),n=t._private.style,r="include"===n["compound-sizing-wrt-labels"].value,o=e.boundingBox({includeLabels:r,includeEdges:!0}),a={top:n["padding-top"].pxValue,bottom:n["padding-bottom"].pxValue,left:n["padding-left"].pxValue,right:n["padding-right"].pxValue},s=t._private.position,l=!1;"auto"===n.width.value&&(t._private.autoWidth=o.w+a.left+a.right,s.x=(o.x1+o.x2-a.left+a.right)/2,l=!0),"auto"===n.height.value&&(t._private.autoHeight=o.h+a.top+a.bottom,s.y=(o.y1+o.y2-a.top+a.bottom)/2,l=!0),l&&i.push(t)}var n=this.cy();if(!n.styleEnabled()||!n.hasCompoundNodes())return n.collection();for(var i=[],r=this.parent();r.nonempty();){for(var o=0;o<r.length;o++){var a=r[o];e(a)}r=r.parent()}return new t.Collection(n,i)},renderedPosition:function(e,n){var i=this[0],r=this.cy(),o=r.zoom(),a=r.pan(),s=t.is.plainObject(e)?e:void 0,l=void 0!==s||void 0!==n&&t.is.string(e);if(i&&i.isNode()){if(!l){var u=i._private.position;return s={x:u.x*o+a.x,y:u.y*o+a.y},void 0===e?s:s[e]}for(var c=0;c<this.length;c++){var i=this[c];void 0!==n?i._private.position[e]=(n-a[e])/o:void 0!==s&&(i._private.position={x:(s.x-a.x)/o,y:(s.y-a.y)/o})}this.rtrigger("position")}else if(!l)return;return this},relativePosition:function(e,n){var i=this[0],r=this.cy(),o=t.is.plainObject(e)?e:void 0,a=void 0!==o||void 0!==n&&t.is.string(e),s=r.hasCompoundNodes();if(i&&i.isNode()){if(!a){var l=i._private.position,u=s?i.parent():null,c=u&&u.length>0,d=c;c&&(u=u[0]);var h=d?u._private.position:{x:0,y:0};return o={x:l.x-h.x,y:l.y-h.y},void 0===e?o:o[e]}for(var p=0;p<this.length;p++){var i=this[p],u=s?i.parent():null,c=u&&u.length>0,d=c;c&&(u=u[0]);var h=d?u._private.position:{x:0,y:0};void 0!==n?i._private.position[e]=n+h[e]:void 0!==o&&(i._private.position={x:o.x+h.x,y:o.y+h.y})}this.rtrigger("position")}else if(!a)return;return this},width:function(){var t=this[0],e=t._private.cy,n=e._private.styleEnabled;if(t){if(n){var i=t._private.style.width;return"auto"===i.strValue?t._private.autoWidth:i.pxValue}return 1}},outerWidth:function(){var t=this[0],i=t._private.cy,r=i._private.styleEnabled;if(t){if(r){var o=t._private.style,a="auto"===o.width.strValue?t._private.autoWidth:o.width.pxValue,s=o["border-width"]?o["border-width"].pxValue*e+n:0;return a+s}return 1}},renderedWidth:function(){var t=this[0];if(t){var e=t.width();return e*this.cy().zoom()}},renderedOuterWidth:function(){var t=this[0];if(t){var e=t.outerWidth();return e*this.cy().zoom()}},height:function(){var t=this[0],e=t._private.cy,n=e._private.styleEnabled;if(t&&"nodes"===t._private.group){if(n){var i=t._private.style.height;return"auto"===i.strValue?t._private.autoHeight:i.pxValue}return 1}},outerHeight:function(){var t=this[0],i=t._private.cy,r=i._private.styleEnabled;if(t&&"nodes"===t._private.group){if(!r)return 1;var o=t._private.style,a="auto"===o.height.strValue?t._private.autoHeight:o.height.pxValue,s=o["border-width"]?o["border-width"].pxValue*e+n:0;return a+s}},renderedHeight:function(){var t=this[0];if(t&&"nodes"===t._private.group){var e=t.height();return e*this.cy().zoom()}},renderedOuterHeight:function(){var t=this[0];if(t&&"nodes"===t._private.group){var e=t.outerHeight();return e*this.cy().zoom()}},renderedBoundingBox:function(t){var e=this.boundingBox(t),n=this.cy(),i=n.zoom(),r=n.pan(),o=e.x1*i+r.x,a=e.x2*i+r.x,s=e.y1*i+r.y,l=e.y2*i+r.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},boundingBox:function(t){var e=this,n=e._private.cy,i=n._private,r=i.styleEnabled;t=t||{};var o=void 0===t.includeNodes||t.includeNodes,a=void 0===t.includeEdges||t.includeEdges,s=void 0===t.includeLabels||t.includeLabels;r&&i.renderer.recalculateRenderedStyle(this);for(var l=1/0,u=-(1/0),c=1/0,d=-(1/0),h=0;h<e.length;h++){var p,f,g,v,y,m,x=e[h],b=x._private,w=b.style,E=r?b.style.display.value:"element",_="nodes"===b.group,T=!1;if("none"!==E){if(_&&o){T=!0;var N=b.position;y=N.x,m=N.y;var C=x.outerWidth(),D=C/2,S=x.outerHeight(),k=S/2;p=y-D,f=y+D,g=m-k,v=m+k,l=l>p?p:l,u=f>u?f:u,c=c>g?g:c,d=v>d?v:d}else if(x.isEdge()&&a){T=!0;var L=b.source,M=L._private,P=M.position,A=b.target,I=A._private,O=I.position,R=b.rstyle||{},C=0,B=0;if(r&&(C=w.width.pxValue,B=C/2),p=P.x,f=O.x,g=P.y,v=O.y,p>f){var F=p;p=f,f=F}if(g>v){var F=g;g=v,v=F}if(p-=B,f+=B,g-=B,v+=B,l=l>p?p:l,u=f>u?f:u,c=c>g?g:c,d=v>d?v:d,r)for(var j=R.bezierPts||[],z=0;z<j.length;z++){var q=j[z];p=q.x-B,f=q.x+B,g=q.y-B,v=q.y+B,l=l>p?p:l,u=f>u?f:u,c=c>g?g:c,d=v>d?v:d}if(r&&"haystack"===w["curve-style"].strValue){var X=b.rscratch.haystackPts;if(p=X[0],g=X[1],f=X[2],v=X[3],p>f){var F=p;p=f,f=F}if(g>v){var F=g;g=v,v=F}l=l>p?p:l,u=f>u?f:u,c=c>g?g:c,d=v>d?v:d}}if(r){var w=x._private.style,R=x._private.rstyle,Y=w.content.strValue,V=w["font-size"],H=w["text-halign"],G=w["text-valign"],U=R.labelWidth,W=R.labelHeight,$=R.labelX,Z=R.labelY;if(T&&s&&Y&&V&&null!=W&&null!=U&&null!=$&&null!=Z&&H&&G){var K,Q,J,tt,et=W,nt=U;if(x.isEdge())K=$-nt/2,Q=$+nt/2,J=Z-et/2,tt=Z+et/2;else{switch(H.value){case"left":K=$-nt,Q=$;break;case"center":K=$-nt/2,Q=$+nt/2;break;case"right":K=$,Q=$+nt}switch(G.value){case"top":J=Z-et,tt=Z;break;case"center":J=Z-et/2,tt=Z+et/2;break;case"bottom":J=Z,tt=Z+et}}l=l>K?K:l,u=Q>u?Q:u,c=c>J?J:c,d=tt>d?tt:d}}}}var it=function(t){return t===1/0||t===-(1/0)?0:t};return l=it(l),u=it(u),c=it(c),d=it(d),{x1:l,x2:u,y1:c,y2:d,w:u-l,h:d-c}}});var i=t.elesfn;i.attr=i.data,i.removeAttr=i.removeData,i.modelPosition=i.point=i.position,i.modelPositions=i.points=i.positions,i.renderedPoint=i.renderedPosition,i.relativePoint=i.relativePosition,i.boundingbox=i.boundingBox,i.renderedBoundingbox=i.renderedBoundingBox}(cytoscape),function(t){"use strict";function e(t){return function(e){var n=this;if(void 0===e&&(e=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var i=0,r=n[0],o=r._private.edges,a=0;a<o.length;a++){var s=o[a];(e||!s.isLoop())&&(i+=t(r,s))}return i}}}function n(t,e){return function(n){for(var i,r=this.nodes(),o=0;o<r.length;o++){var a=r[o],s=a[t](n);void 0===s||void 0!==i&&!e(s,i)||(i=s)}return i}}t.fn.eles({degree:e(function(t,e){return e.source().same(e.target())?2:1}),indegree:e(function(t,e){return e.target().same(t)?1:0}),outdegree:e(function(t,e){return e.source().same(t)?1:0})}),t.fn.eles({minDegree:n("degree",function(t,e){return e>t}),maxDegree:n("degree",function(t,e){return t>e}),minIndegree:n("indegree",function(t,e){return e>t}),maxIndegree:n("indegree",function(t,e){return t>e}),minOutdegree:n("outdegree",function(t,e){return e>t}),maxOutdegree:n("outdegree",function(t,e){return t>e})}),t.fn.eles({totalDegree:function(t){for(var e=0,n=this.nodes(),i=0;i<n.length;i++)e+=n[i].degree(t);return e}})}(cytoscape),function(t){"use strict";t.fn.eles({on:t.define.on(),one:t.define.on({unbindSelfOnTrigger:!0}),once:t.define.on({unbindAllBindersOnTrigger:!0}),off:t.define.off(),trigger:t.define.trigger(),rtrigger:function(t,e){return 0!==this.length?(this.cy().notify({type:t,collection:this}),this.trigger(t,e),this):void 0}}),t.define.eventAliasesOn(t.elesfn)}(cytoscape),function(t){"use strict";t.fn.eles({nodes:function(t){return this.filter(function(t,e){return e.isNode()}).filter(t)},edges:function(t){return this.filter(function(t,e){return e.isEdge()}).filter(t)},filter:function(e){var n=this._private.cy;if(t.is.fn(e)){for(var i=[],r=0;r<this.length;r++){var o=this[r];e.apply(o,[r,o])&&i.push(o)}return new t.Collection(n,i)}return t.is.string(e)||t.is.elementOrCollection(e)?new t.Selector(e).filter(this):void 0===e?this:new t.Collection(n)},not:function(e){var n=this._private.cy;if(e){t.is.string(e)&&(e=this.filter(e));for(var i=[],r=0;r<this.length;r++){var o=this[r],a=e._private.ids[o.id()];a||i.push(o)}return new t.Collection(n,i)}return this},absoluteComplement:function(){var t=this._private.cy;return t.elements().not(this)},intersect:function(e){var n=this._private.cy;if(t.is.string(e)){var i=e;return this.filter(i)}for(var r=[],o=this,a=e,s=this.length<e.length,l=s?a._private.ids:o._private.ids,u=s?o:a,c=0;c<u.length;c++){var d=u[c]._private.data.id,h=l[d];h&&r.push(h)}return new t.Collection(n,r)},xor:function(e){var n=this._private.cy;t.is.string(e)&&(e=n.$(e));var i=[],r=this,o=e,a=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r._private.data.id,a=e._private.ids[o];a||i.push(r)}};return a(r,o),a(o,r),new t.Collection(n,i)},diff:function(e){var n=this._private.cy;t.is.string(e)&&(e=n.$(e));var i=[],r=[],o=[],a=this,s=e,l=function(t,e,n){for(var i=0;i<t.length;i++){
var r=t[i],a=r._private.data.id,s=e._private.ids[a];s?o.push(r):n.push(r)}};return l(a,s,i),l(s,a,r),{left:new t.Collection(n,i,{unique:!0}),right:new t.Collection(n,r,{unique:!0}),both:new t.Collection(n,o,{unique:!0})}},add:function(e){var n=this._private.cy;if(!e)return this;if(t.is.string(e)){var i=e;e=n.elements(i)}for(var r=[],o=0;o<this.length;o++)r.push(this[o]);for(var o=0;o<e.length;o++){var a=!this._private.ids[e[o].id()];a&&r.push(e[o])}return new t.Collection(n,r)},merge:function(e){var n=this._private,i=n.cy;if(!e)return this;if(t.is.string(e)){var r=e;e=i.elements(r)}for(var o=0;o<e.length;o++){var a=e[o],s=a.id(),l=!n.ids[s];if(l){var u=this.length++;this[u]=a,n.ids[s]=a,n.indexes[s]=u}}return this},unmergeOne:function(t){t=t[0];var e=this._private,n=t.id(),i=e.indexes[n];if(null==i)return this;this[i]=void 0,e.ids[n]=void 0,e.indexes[n]=void 0;var r=i===this.length-1;if(this.length>1&&!r){var o=this.length-1,a=this[o];this[o]=void 0,this[i]=a,e.indexes[a.id()]=i}return this.length--,this},unmerge:function(e){var n=this._private.cy;if(!e)return this;if(t.is.string(e)){var i=e;e=n.elements(i)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},map:function(t,e){for(var n=[],i=this,r=0;r<i.length;r++){var o=i[r],a=e?t.apply(e,[o,r,i]):t(o,r,i);n.push(a)}return n},stdFilter:function(e,n){for(var i=[],r=this,o=this._private.cy,a=0;a<r.length;a++){var s=r[a],l=n?e.apply(n,[s,a,r]):e(s,a,r);l&&i.push(s)}return new t.Collection(o,i)},max:function(t,e){for(var n,i=-(1/0),r=this,o=0;o<r.length;o++){var a=r[o],s=e?t.apply(e,[a,o,r]):t(a,o,r);s>i&&(i=s,n=a)}return{value:i,ele:n}},min:function(t,e){for(var n,i=1/0,r=this,o=0;o<r.length;o++){var a=r[o],s=e?t.apply(e,[a,o,r]):t(a,o,r);i>s&&(i=s,n=a)}return{value:i,ele:n}}});var e=t.elesfn;e.u=e["|"]=e["+"]=e.union=e.or=e.add,e["\\"]=e["!"]=e["-"]=e.difference=e.relativeComplement=e.not,e.n=e["&"]=e["."]=e.and=e.intersection=e.intersect,e["^"]=e["(+)"]=e["(-)"]=e.symmetricDifference=e.symdiff=e.xor,e.fnFilter=e.filterFn=e.stdFilter,e.complement=e.abscomp=e.absoluteComplement}(cytoscape),function(t){"use strict";t.fn.eles({isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var t=this[0];return t?t._private.group:void 0}})}(cytoscape),function(t){"use strict";t.fn.eles({each:function(e){if(t.is.fn(e))for(var n=0;n<this.length;n++){var i=this[n],r=e.apply(i,[n,i]);if(r===!1)break}return this},forEach:function(e,n){if(t.is.fn(e))for(var i=0;i<this.length;i++){var r=this[i],o=n?e.apply(n,[r,i,this]):e(r,i,this);if(o===!1)break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(e,n){var i=[],r=this.length;null==n&&(n=r),null==e&&(e=0),0>e&&(e=r+e),0>n&&(n=r+n);for(var o=e;o>=0&&n>o&&r>o;o++)i.push(this[o]);return new t.Collection(this.cy(),i)},size:function(){return this.length},eq:function(e){return this[e]||new t.Collection(this.cy())},first:function(){return this[0]||new t.Collection(this.cy())},last:function(){return this[this.length-1]||new t.Collection(this.cy())},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!t.is.fn(e))return this;var n=this.cy(),i=this.toArray().sort(e);return new t.Collection(n,i)},sortByZIndex:function(){return this.sort(t.Collection.zIndexSort)},zDepth:function(){var t=this[0];if(t){var e=t._private,n=e.group;if("nodes"===n){var i=e.data.parent?t.parents().size():0;return t.isParent()?i:Number.MAX_VALUE}var r=e.source,o=e.target,a=r.zDepth(),s=o.zDepth();return Math.max(a,s,0)}}}),t.Collection.zIndexSort=function(t,e){var n=t.cy(),i=t._private,r=e._private,o=i.style["z-index"].value-r.style["z-index"].value,a=0,s=0,l=n.hasCompoundNodes(),u="nodes"===i.group,c="edges"===i.group,d="nodes"===r.group,h="edges"===r.group;l&&(a=t.zDepth(),s=e.zDepth());var p=a-s,f=0===p;return f?u&&h?1:c&&d?-1:0===o?i.index-r.index:o:p}}(cytoscape),function(t){"use strict";t.fn.eles({layoutPositions:function(e,n,i){var r=this.nodes(),o=this.cy();if(e.trigger({type:"layoutstart",layout:e}),n.animate){for(var a=0;a<r.length;a++){var s=r[a],l=a===r.length-1,u=i.call(s,a,s),c=s.position();t.is.number(c.x)&&t.is.number(c.y)||s.silentPosition({x:0,y:0}),s.animate({position:u},{duration:n.animationDuration,step:l?function(){n.fit&&o.fit(n.eles,n.padding)}:void 0,complete:l?function(){null!=n.zoom&&o.zoom(n.zoom),n.pan&&o.pan(n.pan),n.fit&&o.fit(n.eles,n.padding),e.one("layoutstop",n.stop),e.trigger({type:"layoutstop",layout:e})}:void 0})}e.one("layoutready",n.ready),e.trigger({type:"layoutready",layout:e})}else r.positions(i),n.fit&&o.fit(n.eles,n.padding),null!=n.zoom&&o.zoom(n.zoom),n.pan&&o.pan(n.pan),e.one("layoutready",n.ready),e.trigger({type:"layoutready",layout:e}),e.one("layoutstop",n.stop),e.trigger({type:"layoutstop",layout:e});return this},layout:function(e){var n=this.cy();return n.layout(t.util.extend({},e,{eles:this})),this},makeLayout:function(e){var n=this.cy();return n.makeLayout(t.util.extend({},e,{eles:this}))}}),t.elesfn.createLayout=t.elesfn.makeLayout}(cytoscape),function(t){"use strict";t.fn.eles({updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e._private.batchingStyle){for(var n=e._private.batchStyleEles,i=0;i<this.length;i++){var r=this[i];n.ids[r._private.id]||n.push(r)}return this}var o=e.style();t=!(!t&&void 0!==t),o.apply(this);var a=this.updateCompoundBounds(),s=a.length>0?this.add(a):this;return t?s.rtrigger("style"):s.trigger("style"),this},updateMappers:function(t){var e=this._private.cy,n=e.style();if(t=!(!t&&void 0!==t),!e.styleEnabled())return this;n.updateMappers(this);var i=this.updateCompoundBounds(),r=i.length>0?this.add(i):this;return t?r.rtrigger("style"):r.trigger("style"),this},renderedCss:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=this[0];if(n){var i=n.cy().style().getRenderedStyle(n);return void 0===t?i:i[t]}},css:function(e,n){var i=this.cy();if(!i.styleEnabled())return this;var r=!1,o=i.style();if(t.is.plainObject(e)){var a=e;o.applyBypass(this,a,r);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(t.is.string(e)){if(void 0===n){var u=this[0];return u?u._private.style[e].strValue:void 0}o.applyBypass(this,e,n,r);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(void 0===e){var u=this[0];return u?o.getRawStyle(u):void 0}return this},removeCss:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=!1,i=e.style(),r=this;if(void 0===t)for(var o=0;o<r.length;o++){var a=r[o];i.removeAllBypasses(a,n)}else{t=t.split(/\s+/);for(var o=0;o<r.length;o++){var a=r[o];i.removeBypasses(a,t,n)}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;return l.rtrigger("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var t=this.cy();if(!t.styleEnabled())return!0;var e=this[0],n=t.hasCompoundNodes();if(e){var i=e._private.style;if("visible"!==i.visibility.value||"element"!==i.display.value)return!1;if("nodes"===e._private.group){if(!n)return!0;var r=e._private.data.parent?e.parents():null;if(r)for(var o=0;o<r.length;o++){var a=r[o],s=a._private.style,l=s.visibility.value,u=s.display.value;if("visible"!==l||"element"!==u)return!1}return!0}var c=e._private.source,d=e._private.target;return c.visible()&&d.visible()}},hidden:function(){var t=this[0];return t?!t.visible():void 0},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),n=this[0];if(n){var i=n._private,r=i.style.opacity.value;if(!e)return r;var o=i.data.parent?n.parents():null;if(o)for(var a=0;a<o.length;a++){var s=o[a],l=s._private.style.opacity.value;r=l*r}return r}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0],n=e.cy().hasCompoundNodes();return e?n?0===e.effectiveOpacity():0===e._private.style.opacity.value:void 0},isFullAutoParent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0];if(e){var n="auto"===e._private.style.width.value,i="auto"===e._private.style.height.value;return e.isParent()&&n&&i}},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0];return!!e._private.backgrounding}}),t.elesfn.bypass=t.elesfn.style=t.elesfn.css,t.elesfn.renderedStyle=t.elesfn.renderedCss,t.elesfn.removeBypass=t.elesfn.removeStyle=t.elesfn.removeCss}(cytoscape),function(t){"use strict";function e(e){return function(){var n=arguments,i=[];if(2===n.length){var r=n[0],o=n[1];this.bind(e.event,r,o)}else if(1===n.length){var o=n[0];this.bind(e.event,o)}else if(0===n.length){for(var a=0;a<this.length;a++){var s=this[a],l=!e.ableField||s._private[e.ableField],u=s._private[e.field]!=e.value;if(e.overrideAble){var c=e.overrideAble(s);if(void 0!==c&&(l=c,!c))return this}l&&(s._private[e.field]=e.value,u&&i.push(s))}var d=t.Collection(this.cy(),i);d.updateStyle(),d.trigger(e.event)}return this}}function n(n){t.elesfn[n.field]=function(){var t=this[0];if(t){if(n.overrideField){var e=n.overrideField(t);if(void 0!==e)return e}return t._private[n.field]}},t.elesfn[n.on]=e({event:n.on,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!0}),t.elesfn[n.off]=e({event:n.off,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!1})}n({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),n({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),n({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),n({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),t.elesfn.deselect=t.elesfn.unselect,t.elesfn.grabbed=function(){var t=this[0];return t?t._private.grabbed:void 0},n({field:"active",on:"activate",off:"unactivate"}),t.elesfn.inactive=function(){var t=this[0];return t?!t._private.active:void 0}}(cytoscape),function(t){"use strict";function e(e){return function(n){for(var i=[],r=this._private.cy,o=0;o<this.length;o++){var a=this[o],s=a._private[e.attr];s&&i.push(s)}return new t.Collection(r,i,{unique:!0}).filter(n)}}function n(e){return function(n){var i=[],r=this._private.cy,o=e||{};t.is.string(n)&&(n=r.$(n));for(var a=this._private.ids,s=n._private.ids,l=0;l<n.length;l++)for(var u=n[l]._private.edges,c=0;c<u.length;c++){var d=u[c],h=d._private.data,p=a[h.source]&&s[h.target],f=s[h.source]&&a[h.target],g=p||f;if(g){if(o.thisIs){if("source"===o.thisIs&&!p)continue;if("target"===o.thisIs&&!f)continue}i.push(d)}}return new t.Collection(r,i,{unique:!0})}}function i(e){var n={codirected:!1};return e=t.util.extend({},n,e),function(n){for(var i=this._private.cy,r=[],o=this.edges(),a=e,s=0;s<o.length;s++)for(var l=o[s],u=l.source()[0],c=u.id(),d=l.target()[0],h=d.id(),p=u._private.edges,f=0;f<p.length;f++){var g=p[f],v=g._private.data,y=v.target,m=v.source,x=y===h&&m===c,b=c===y&&h===m;(a.codirected&&x||!a.codirected&&(x||b))&&r.push(g)}return new t.Collection(i,r,{unique:!0}).filter(n)}}t.fn.eles({roots:function(e){for(var n=this,i=[],r=0;r<n.length;r++){var o=n[r];if(o.isNode()){var a=o.connectedEdges(function(){return this.data("target")===o.id()&&this.data("source")!==o.id()}).length>0;a||i.push(o)}}return new t.Collection(this._private.cy,i,{unique:!0}).filter(e)},leaves:function(e){for(var n=this,i=[],r=0;r<n.length;r++){var o=n[r];if(o.isNode()){var a=o.connectedEdges(function(){return this.data("source")===o.id()&&this.data("target")!==o.id()}).length>0;a||i.push(o)}}return new t.Collection(this._private.cy,i,{unique:!0}).filter(e)},outgoers:function(e){for(var n=this,i=[],r=0;r<n.length;r++){var o=n[r],a=o.id();if(o.isNode())for(var s=o._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data.source,d=u._private.data.target;c===a&&d!==a&&(i.push(u),i.push(u.target()[0]))}}return new t.Collection(this._private.cy,i,{unique:!0}).filter(e)},successors:function(e){for(var n=this,i=[],r={};;){var o=n.outgoers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();r[u]||(r[u]=!0,i.push(l),a=!0)}if(!a)break;n=o}return new t.Collection(this._private.cy,i,{unique:!0}).filter(e)},incomers:function(e){for(var n=this,i=[],r=0;r<n.length;r++){var o=n[r],a=o.id();if(o.isNode())for(var s=o._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data.source,d=u._private.data.target;d===a&&c!==a&&(i.push(u),i.push(u.source()[0]))}}return new t.Collection(this._private.cy,i,{unique:!0}).filter(e)},predecessors:function(e){for(var n=this,i=[],r={};;){var o=n.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();r[u]||(r[u]=!0,i.push(l),a=!0)}if(!a)break;n=o}return new t.Collection(this._private.cy,i,{unique:!0}).filter(e)}}),t.fn.eles({neighborhood:function(e){for(var n=[],i=this._private.cy,r=this.nodes(),o=0;o<r.length;o++)for(var a=r[o],s=a.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.connectedNodes().not(a);c.length>0&&n.push(c[0]),n.push(u[0])}return new t.Collection(i,n,{unique:!0}).filter(e)},closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),t.elesfn.neighbourhood=t.elesfn.neighborhood,t.elesfn.closedNeighbourhood=t.elesfn.closedNeighborhood,t.elesfn.openNeighbourhood=t.elesfn.openNeighborhood,t.fn.eles({source:function(t){var e,n=this[0];return n&&(e=n._private.source),e&&t?e.filter(t):e},target:function(t){var e,n=this[0];return n&&(e=n._private.target),e&&t?e.filter(t):e},sources:e({attr:"source"}),targets:e({attr:"target"})}),t.fn.eles({edgesWith:n(),edgesTo:n({thisIs:"source"})}),t.fn.eles({connectedEdges:function(e){for(var n=[],i=this._private.cy,r=this,o=0;o<r.length;o++){var a=r[o];if(a.isNode())for(var s=a._private.edges,l=0;l<s.length;l++){var u=s[l];n.push(u)}}return new t.Collection(i,n,{unique:!0}).filter(e)},connectedNodes:function(e){for(var n=[],i=this._private.cy,r=this,o=0;o<r.length;o++){var a=r[o];a.isEdge()&&(n.push(a.source()[0]),n.push(a.target()[0]))}return new t.Collection(i,n,{unique:!0}).filter(e)},parallelEdges:i(),codirectedEdges:i({codirected:!0})})}(cytoscape),function(t){"use strict";t.fn.eles({fit:function(){},center:function(){}})}(cytoscape),function(t){"use strict";t.Minheap=function(e,n,i){return new t.Heap(e,n,t.Heap.minHeapComparator,i)},t.Maxheap=function(e,n,i){return new t.Heap(e,n,t.Heap.maxHeapComparator,i)},t.Heap=function(e,n,i,r){if("undefined"!=typeof i&&"undefined"!=typeof n){"undefined"==typeof r&&(r=t.Heap.idFn);var o,a,s,l=[],u={},c=[],d=0;for(n=this.getArgumentAsCollection(n,e),s=n.length,d=0;s>d;d+=1){if(l.push(r.call(e,n[d],d,n)),o=n[d].id(),u.hasOwnProperty(o))throw"ERROR: Multiple items with the same id found: "+o;u[o]=d,c.push(o)}for(this._private={cy:e,heap:l,pointers:u,elements:c,comparator:i,extractor:r,length:s},d=Math.floor(s/2);d>=0;d-=1)a=this.heapify(d);return a}},t.Heap.idFn=function(t){return t.id()},t.Heap.minHeapComparator=function(t,e){return t>=e},t.Heap.maxHeapComparator=function(t,e){return e>=t},t.fn.heap=function(e,n){for(var i in e){var r=e[i];t.Heap.prototype[i]=r}},t.heapfn=t.Heap.prototype,t.heapfn.size=function(){return this._private.length},t.heapfn.getArgumentAsCollection=function(e,n){var i;if("undefined"==typeof n&&(n=this._private.cy),t.is.elementOrCollection(e))i=e;else{for(var r=[],o=[].concat.apply([],[e]),a=0;a<o.length;a++){var s=o[a],l=n.getElementById(s);l.length>0&&r.push(l)}i=new t.Collection(n,r)}return i},t.heapfn.isHeap=function(){var t,e,n,i,r,o=this._private.heap,a=o.length,s=this._private.comparator;for(t=0;a>t;t+=1)if(e=2*t+1,n=e+1,i=!(a>e)||s(o[e],o[t]),r=!(a>n)||s(o[n],o[t]),!i||!r)return!1;return!0},t.heapfn.heapSwap=function(t,e){var n=this._private.heap,i=this._private.pointers,r=this._private.elements,o=n[t],a=r[t],s=r[t],l=r[e];n[t]=n[e],r[t]=r[e],i[s]=e,i[l]=t,n[e]=o,r[e]=a},t.heapfn.heapify=function(t,e){var n,i,r,o,a,s,l,u=0,c=!1;for("undefined"==typeof e&&(e=!0),n=this._private.heap,u=n.length,s=this._private.comparator,i=t;!c;)e?(r=2*i+1,o=r+1,a=i,u>r&&!s(n[r],n[a])&&(a=r),u>o&&!s(n[o],n[a])&&(a=o),c=a===i,c||(this.heapSwap(a,i),i=a)):(l=Math.floor((i-1)/2),a=i,c=0>l||s(n[a],n[l]),c||(this.heapSwap(a,l),i=l))},t.heapfn.insert=function(t){var e,n,i,r,o,a=this.getArgumentAsCollection(t),s=a.length;for(o=0;s>o;o+=1){if(e=a[o],n=this._private.heap.length,i=this._private.extractor(e),r=e.id(),this._private.pointers.hasOwnProperty(r))throw"ERROR: Multiple items with the same id found: "+r;this._private.heap.push(i),this._private.elements.push(r),this._private.pointers[r]=n,this.heapify(n,!1)}this._private.length=this._private.heap.length},t.heapfn.getValueById=function(t){if(this._private.pointers.hasOwnProperty(t)){var e=this._private.pointers[t];return this._private.heap[e]}},t.heapfn.contains=function(t){for(var e=this.getArgumentAsCollection(t),n=0;n<e.length;n+=1){var i=e[n].id();if(!this._private.pointers.hasOwnProperty(i))return!1}return!0},t.heapfn.top=function(){return this._private.length>0?{value:this._private.heap[0],id:this._private.elements[0]}:void 0},t.heapfn.pop=function(){if(this._private.length>0){var t,e,n,i=this.top(),r=this._private.length-1;return this.heapSwap(0,r),t=this._private.elements[r],e=this._private.heap[r],n=t,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[n]=void 0,this.heapify(0),i}},t.heapfn.findDirectionHeapify=function(t){var e=Math.floor((t-1)/2),n=this._private.heap,i=0>e||this._private.comparator(n[t],n[e]);this.heapify(t,i)},t.heapfn.edit=function(e,n){for(var i=this.getArgumentAsCollection(e),r=0;r<i.length;r+=1){var o=i[r].id(),a=this._private.pointers[o],s=this._private.heap[a];t.is.number(n)?this._private.heap[a]=n:t.is.fn(n)&&(this._private.heap[a]=n.call(this._private.cy,s,a)),this.findDirectionHeapify(a)}},t.heapfn.remove=function(t){for(var e=this.getArgumentAsCollection(t),n=0;n<e.length;n+=1){var i,r,o,a=e[n].id(),s=this._private.pointers[a],l=this._private.length-1;s!==l&&this.heapSwap(s,l),i=this._private.elements[l],r=this._private.heap[l],o=i,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[o]=void 0,this.findDirectionHeapify(s)}return r}}(cytoscape),function(t){"use strict";function e(t){this.options=t,this.data={select:[void 0,void 0,void 0,void 0,0],renderer:this,cy:t.cy,container:t.cy.container(),canvases:new Array(e.CANVAS_LAYERS),contexts:new Array(e.CANVAS_LAYERS),canvasNeedsRedraw:new Array(e.CANVAS_LAYERS),bufferCanvases:new Array(e.BUFFER_COUNT),bufferContexts:new Array(e.CANVAS_LAYERS)},this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},this.timeoutData={panTimeout:null},this.dragData={possibleDragElements:[]},this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},this.zoomData={freeToZoom:!1,lastPointerX:null},this.redraws=0,this.showFps=t.showFps,this.bindings=[],this.data.canvasContainer=document.createElement("div");var n=this.data.canvasContainer.style;n.position="absolute",n.zIndex="0",n.overflow="hidden",this.data.container.appendChild(this.data.canvasContainer);for(var i=0;i<e.CANVAS_LAYERS;i++)this.data.canvases[i]=document.createElement("canvas"),this.data.contexts[i]=this.data.canvases[i].getContext("2d"),this.data.canvases[i].style.position="absolute",this.data.canvases[i].setAttribute("data-id","layer"+i),this.data.canvases[i].style.zIndex=String(e.CANVAS_LAYERS-i),this.data.canvasContainer.appendChild(this.data.canvases[i]),this.data.canvasNeedsRedraw[i]=!1;this.data.topCanvas=this.data.canvases[0],this.data.canvases[e.NODE].setAttribute("data-id","layer"+e.NODE+"-node"),this.data.canvases[e.SELECT_BOX].setAttribute("data-id","layer"+e.SELECT_BOX+"-selectbox"),this.data.canvases[e.DRAG].setAttribute("data-id","layer"+e.DRAG+"-drag");for(var i=0;i<e.BUFFER_COUNT;i++)this.data.bufferCanvases[i]=document.createElement("canvas"),this.data.bufferContexts[i]=this.data.bufferCanvases[i].getContext("2d"),this.data.bufferCanvases[i].style.position="absolute",this.data.bufferCanvases[i].setAttribute("data-id","buffer"+i),this.data.bufferCanvases[i].style.zIndex=String(-i-1),this.data.bufferCanvases[i].style.visibility="hidden";this.hideEdgesOnViewport=t.hideEdgesOnViewport,this.hideLabelsOnViewport=t.hideLabelsOnViewport,this.textureOnViewport=t.textureOnViewport,this.wheelSensitivity=t.wheelSensitivity,this.motionBlurEnabled=t.motionBlur,this.forcedPixelRatio=t.pixelRatio,this.motionBlur=!0,this.motionBlurOpacity=t.motionBlurOpacity,this.motionBlurTransparency=1-this.motionBlurOpacity,this.motionBlurPxRatio=1,this.mbPxRBlurry=1,this.minMbLowQualFrames=4,this.fullQualityMb=!1,this.clearedForMotionBlur=[],this.desktopTapThreshold=t.desktopTapThreshold,this.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,this.touchTapThreshold=t.touchTapThreshold,this.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,this.tapholdDuration=500,this.load()}e.CANVAS_LAYERS=3,e.SELECT_BOX=0,e.DRAG=1,e.NODE=2,e.BUFFER_COUNT=3,e.TEXTURE_BUFFER=0,e.MOTIONBLUR_BUFFER_NODE=1,e.MOTIONBLUR_BUFFER_DRAG=2,e.panOrBoxSelectDelay=400;var n="undefined"!=typeof Path2D;e.usePaths=function(){return n},e.prototype.notify=function(n){var i;i=t.is.array(n.type)?n.type:[n.type];for(var r=0;r<i.length;r++){var o=i[r];switch(o){case"destroy":return void this.destroy();case"add":case"remove":case"load":this.updateNodesCache(),this.updateEdgesCache();break;case"viewport":this.data.canvasNeedsRedraw[e.SELECT_BOX]=!0;break;case"style":this.updateCachedZSortedEles()}("load"===o||"resize"===o)&&(this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.data.container))}this.data.canvasNeedsRedraw[e.NODE]=!0,this.data.canvasNeedsRedraw[e.DRAG]=!0,this.redraw()},e.prototype.destroy=function(){this.destroyed=!0;for(var t=0;t<this.bindings.length;t++){var e=this.bindings[t],n=e;n.target.removeEventListener(n.event,n.handler,n.useCapture)}if(this.removeObserver&&this.removeObserver.disconnect(),this.labelCalcDiv)try{document.body.removeChild(this.labelCalcDiv)}catch(i){}};for(var i in t.math)e.prototype[i]=t.math[i];t("renderer","canvas",e)}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype,i=e.arrowShapes={};e.arrowShapeHeight=.3;var r=function(t,e,n,i,r,o,a,s){var l=n-r/2,u=n+r/2,c=i-o/2,d=i+o/2;return t>=l&&u>=t&&e>=c&&d>=e},o=function(t,e,n,i,r){i=-i;var o=t*Math.cos(i)-e*Math.sin(i),a=t*Math.sin(i)+e*Math.cos(i),s=o*n,l=a*n,u=s+r.x,c=l+r.y;return{x:u,y:c}};i.arrow={_points:[-.15,-.3,0,0,.15,-.3],collide:function(e,n,r,o,a,s,l,u){var c=i.arrow._points;return t.math.pointInsidePolygon(e,n,c,r,o,a,s,l,u)},roughCollide:r,draw:function(t,e,n,r){for(var a=i.arrow._points,s=0;s<a.length/2;s++){var l=o(a[2*s],a[2*s+1],e,n,r);t.lineTo(l.x,l.y)}},spacing:function(t){return 0},gap:function(t){return 2*t._private.style.width.pxValue}},i.triangle=i.arrow,i["triangle-backcurve"]={_ctrlPt:[0,-.15],collide:function(e,n,r,o,a,s,l,u){var c=i.triangle._points;return t.math.pointInsidePolygon(e,n,c,r,o,a,s,l,u)},roughCollide:r,draw:function(t,e,n,r){for(var a,s=i.triangle._points,l=0;l<s.length/2;l++){var u=o(s[2*l],s[2*l+1],e,n,r);0===l&&(a=u),t.lineTo(u.x,u.y)}var c=this._ctrlPt,d=o(c[0],c[1],e,n,r);t.quadraticCurveTo(d.x,d.y,a.x,a.y)},spacing:function(t){return 0},gap:function(t){return t._private.style.width.pxValue}},i["triangle-tee"]={_points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],_pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,n,r,o,a,s,l,u){var c=i["triangle-tee"]._points,d=i["triangle-tee"]._pointsTee,h=t.math.pointInsidePolygon(e,n,d,r,o,a,s,l,u)||t.math.pointInsidePolygon(e,n,c,r,o,a,s,l,u);return h},roughCollide:r,draw:function(t,e,n,r){for(var a=i["triangle-tee"]._points,s=0;s<a.length/2;s++){var l=o(a[2*s],a[2*s+1],e,n,r);t.lineTo(l.x,l.y)}var u=i["triangle-tee"]._pointsTee,c=o(u[0],u[1],e,n,r);t.moveTo(c.x,c.y);for(var s=0;s<u.length/2;s++){var l=o(u[2*s],u[2*s+1],e,n,r);t.lineTo(l.x,l.y)}},spacing:function(t){return 0},gap:function(t){return 2*t._private.style.width.pxValue}},i["half-triangle-overshot"]={_points:[0,-.25,-.5,-.25,.5,.25],leavePathOpen:!0,matchEdgeWidth:!0,collide:function(e,n,i,r,o,a,s,l){var u=this._points;return t.math.pointInsidePolygon(e,n,u,i,r,o,a,s,l)},roughCollide:r,draw:function(t,e,n,i){for(var r=this._points,a=0;a<r.length/2;a++){var s=o(r[2*a],r[2*a+1],e,n,i);t.lineTo(s.x,s.y)}},spacing:function(t){return 0},gap:function(t){return 2*t._private.style.width.pxValue}},i.none={collide:function(t,e,n,i,r,o,a,s){return!1},roughCollide:function(t,e,n,i,r,o,a,s){return!1},draw:function(t){},spacing:function(t){return 0},gap:function(t){return 0}},i.circle={_baseRadius:.15,collide:function(t,e,n,r,o,a,s,l){if(o!=a){var u=(a+l)/(o+l);return e/=u,r/=u,Math.pow(n-t,2)+Math.pow(r-e,2)<=Math.pow((o+l)*i.circle._baseRadius,2)}return Math.pow(n-t,2)+Math.pow(r-e,2)<=Math.pow((o+l)*i.circle._baseRadius,2)},roughCollide:r,draw:function(t,e,n,r){t.arc(r.x,r.y,i.circle._baseRadius*e,0,2*Math.PI,!1)},spacing:function(t){return n.getArrowWidth(t._private.style.width.pxValue)*i.circle._baseRadius},gap:function(t){return 2*t._private.style.width.pxValue}},i.inhibitor={_points:[-.25,0,-.25,-.1,.25,-.1,.25,0],collide:function(e,n,r,o,a,s,l,u){var c=i.inhibitor._points;return t.math.pointInsidePolygon(e,n,c,r,o,a,s,l,u)},roughCollide:r,draw:function(t,e,n,r){for(var a=i.inhibitor._points,s=0;s<a.length/2;s++){var l=o(a[2*s],a[2*s+1],e,n,r);t.lineTo(l.x,l.y)}},spacing:function(t){return 1},gap:function(t){return 1}},i.tee=i.inhibitor,i.square={_points:[-.15,0,.15,0,.15,-.3,-.15,-.3],collide:function(e,n,r,o,a,s,l,u){var c=i.square._points;return t.math.pointInsidePolygon(e,n,c,r,o,a,s,l,u)},roughCollide:r,draw:function(t,e,n,r){for(var a=i.square._points,s=0;s<a.length/2;s++){var l=o(a[2*s],a[2*s+1],e,n,r);t.lineTo(l.x,l.y)}},spacing:function(t){return 0},gap:function(t){return 2*t._private.style.width.pxValue}},i.diamond={_points:[-.15,-.15,0,-.3,.15,-.15,0,0],collide:function(e,n,r,o,a,s,l,u){var c=i.diamond._points;return t.math.pointInsidePolygon(e,n,c,r,o,a,s,l,u)},roughCollide:r,draw:function(t,e,n,r){for(var a=i.diamond._points,s=0;s<a.length/2;s++){var l=o(a[2*s],a[2*s+1],e,n,r);t.lineTo(l.x,l.y)}},spacing:function(t){return 0},gap:function(t){return t._private.style.width.pxValue}}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.getCachedNodes=function(){var t=this.data,e=this.data.cy;return null==t.cache&&(t.cache={}),null==t.cache.cachedNodes&&(t.cache.cachedNodes=e.nodes()),t.cache.cachedNodes},n.updateNodesCache=function(){var t=this.data,e=this.data.cy;null==t.cache&&(t.cache={}),t.cache.cachedNodes=e.nodes()},n.getCachedEdges=function(){var t=this.data,e=this.data.cy;return null==t.cache&&(t.cache={}),null==t.cache.cachedEdges&&(t.cache.cachedEdges=e.edges()),t.cache.cachedEdges},n.updateEdgesCache=function(){var t=this.data,e=this.data.cy;null==t.cache&&(t.cache={}),t.cache.cachedEdges=e.edges()}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.projectIntoViewport=function(t,e){var n=this.findContainerClientCoords(),i=n[0],r=n[1],o=t-i,a=e-r;return o-=this.data.cy.pan().x,a-=this.data.cy.pan().y,o/=this.data.cy.zoom(),a/=this.data.cy.zoom(),[o,a]},n.findContainerClientCoords=function(){var t=this.data.container,e=this.containerBB=this.containerBB||t.getBoundingClientRect();return[e.left,e.top,e.right-e.left,e.bottom-e.top]},n.invalidateContainerClientCoordsCache=function(){this.containerBB=null},n.findNearestElement=function(n,i,r,o){function a(t){var o=t.outerWidth()+2*f,a=t.outerHeight()+2*f,s=o/2,u=a/2,d=t._private.position;if(d.x-s<=n&&n<=d.x+s&&d.y-u<=i&&i<=d.y+u){var h=!r||t.visible()&&!t.transparent();if(r&&!h)return;var p=e.nodeShapes[l.getNodeShape(t)];t._private.style["border-width"].pxValue/2,p.checkPoint(n,i,0,o,a,d.x,d.y)&&c.push(t)}}function s(o){var s,u,d=o._private.rscratch,f=o._private.style,g=f.width.pxValue/2+p,v=g*g,y=2*g,m=o._private.source,x=o._private.target,b=!1,w=function(){if(void 0!==u)return u;if(!r)return u=!0,!0;var t=o.visible()&&!o.transparent();return t?(u=!0,!0):(u=!1,!1)};if("self"===d.edgeType||"compound"===d.edgeType)((b=t.math.inBezierVicinity(n,i,d.startX,d.startY,d.cp2ax,d.cp2ay,d.selfEdgeMidX,d.selfEdgeMidY,v))&&w()&&v>(s=t.math.sqDistanceToQuadraticBezier(n,i,d.startX,d.startY,d.cp2ax,d.cp2ay,d.selfEdgeMidX,d.selfEdgeMidY))||(b=t.math.inBezierVicinity(n,i,d.selfEdgeMidX,d.selfEdgeMidY,d.cp2cx,d.cp2cy,d.endX,d.endY,v))&&w()&&v>(s=t.math.sqDistanceToQuadraticBezier(n,i,d.selfEdgeMidX,d.selfEdgeMidY,d.cp2cx,d.cp2cy,d.endX,d.endY)))&&c.push(o);else if("haystack"===d.edgeType){var E=f["haystack-radius"].value,_=E/2,T=x._private.position,N=x.width(),C=x.height(),D=m._private.position,S=m.width(),k=m.height(),L=D.x+d.source.x*S*_,M=D.y+d.source.y*k*_,P=T.x+d.target.x*N*_,A=T.y+d.target.y*C*_;(b=t.math.inLineVicinity(n,i,L,M,P,A,y))&&w()&&v>(s=t.math.sqDistanceToFiniteLine(n,i,L,M,P,A))&&c.push(o)}else"straight"===d.edgeType?(b=t.math.inLineVicinity(n,i,d.startX,d.startY,d.endX,d.endY,y))&&w()&&v>(s=t.math.sqDistanceToFiniteLine(n,i,d.startX,d.startY,d.endX,d.endY))&&c.push(o):"bezier"===d.edgeType&&(b=t.math.inBezierVicinity(n,i,d.startX,d.startY,d.cp2x,d.cp2y,d.endX,d.endY,v))&&w()&&v>(s=t.math.sqDistanceToQuadraticBezier(n,i,d.startX,d.startY,d.cp2x,d.cp2y,d.endX,d.endY))&&c.push(o);if(b&&w()&&0===c.length||c[c.length-1]!==o){var I=e.arrowShapes[f["source-arrow-shape"].value],O=e.arrowShapes[f["target-arrow-shape"].value],m=m||o._private.source,x=x||o._private.target,T=x._private.position,D=m._private.position,R=l.getArrowWidth(f.width.pxValue),B=l.getArrowHeight(f.width.pxValue),F=R,j=B;(I.roughCollide(n,i,d.arrowStartX,d.arrowStartY,R,B,[d.arrowStartX-D.x,d.arrowStartY-D.y],p)&&I.collide(n,i,d.arrowStartX,d.arrowStartY,R,B,[d.arrowStartX-D.x,d.arrowStartY-D.y],p)||O.roughCollide(n,i,d.arrowEndX,d.arrowEndY,F,j,[d.arrowEndX-T.x,d.arrowEndY-T.y],p)&&O.collide(n,i,d.arrowEndX,d.arrowEndY,F,j,[d.arrowEndX-T.x,d.arrowEndY-T.y],p))&&c.push(o)}h&&c.length>0&&c[c.length-1]===o&&(a(m),a(x))}for(var l=this,u=this.getCachedZSortedEles(),c=[],d=this.data.cy.zoom(),h=this.data.cy.hasCompoundNodes(),p=(o?24:8)/d,f=(o?8:2)/d,g=u.length-1;g>=0;g--){var v=u[g];if(c.length>0)break;"nodes"===v._private.group?a(u[g]):s(u[g])}return c.length>0?c[c.length-1]:null},n.getAllInBox=function(n,i,r,o){var a=this.getCachedNodes(),s=this.getCachedEdges(),l=[],u=Math.min(n,r),c=Math.max(n,r),d=Math.min(i,o),h=Math.max(i,o);n=u,r=c,i=d,o=h;for(var p,f=0;f<a.length;f++){var g=a[f]._private.position,v=this.getNodeShape(a[f]),y=this.getNodeWidth(a[f]),m=this.getNodeHeight(a[f]),x=a[f]._private.style["border-width"].pxValue/2,b=e.nodeShapes[v];b.intersectBox(n,i,r,o,y,m,g.x,g.y,x)&&l.push(a[f])}for(var f=0;f<s.length;f++){var w=s[f]._private.rscratch;if("self"==s[f]._private.rscratch.edgeType&&((p=t.math.boxInBezierVicinity(n,i,r,o,w.startX,w.startY,w.cp2ax,w.cp2ay,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&t.math.checkBezierInBox(n,i,r,o,w.startX,w.startY,w.cp2ax,w.cp2ay,w.endX,w.endY,s[f]._private.style.width.pxValue))||(p=t.math.boxInBezierVicinity(n,i,r,o,w.startX,w.startY,w.cp2cx,w.cp2cy,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&t.math.checkBezierInBox(n,i,r,o,w.startX,w.startY,w.cp2cx,w.cp2cy,w.endX,w.endY,s[f]._private.style.width.pxValue)))&&l.push(s[f]),
"bezier"==w.edgeType&&(p=t.math.boxInBezierVicinity(n,i,r,o,w.startX,w.startY,w.cp2x,w.cp2y,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&t.math.checkBezierInBox(n,i,r,o,w.startX,w.startY,w.cp2x,w.cp2y,w.endX,w.endY,s[f]._private.style.width.pxValue))&&l.push(s[f]),"straight"==w.edgeType&&(p=t.math.boxInBezierVicinity(n,i,r,o,w.startX,w.startY,.5*w.startX+.5*w.endX,.5*w.startY+.5*w.endY,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&t.math.checkStraightEdgeInBox(n,i,r,o,w.startX,w.startY,w.endX,w.endY,s[f]._private.style.width.pxValue))&&l.push(s[f]),"haystack"==w.edgeType){var E=s[f].target()[0],_=E.position(),T=s[f].source()[0],N=T.position(),C=N.x+w.source.x,D=N.y+w.source.y,S=_.x+w.target.x,k=_.y+w.target.y,L=C>=n&&r>=C&&D>=i&&o>=D,M=S>=n&&r>=S&&k>=i&&o>=k;L&&M&&l.push(s[f])}}return l},n.getNodeWidth=function(t){return t.width()},n.getNodeHeight=function(t){return t.height()},n.getNodeShape=function(t){var e=t._private.style.shape.value;return t.isParent()?"rectangle"===e||"roundrectangle"===e?e:"rectangle":e},n.getNodePadding=function(t){var e=t._private.style["padding-left"].pxValue,n=t._private.style["padding-right"].pxValue,i=t._private.style["padding-top"].pxValue,r=t._private.style["padding-bottom"].pxValue;return isNaN(e)&&(e=0),isNaN(n)&&(n=0),isNaN(i)&&(i=0),isNaN(r)&&(r=0),{left:e,right:n,top:i,bottom:r}},n.zOrderSort=t.Collection.zIndexSort,n.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},n.getCachedZSortedEles=function(t){var e=this.lastZOrderCachedNodes,n=this.lastZOrderCachedEdges,i=this.getCachedNodes(),r=this.getCachedEdges(),o=[];if(!t&&e&&n&&e===i&&n===r)o=this.cachedZSortedEles;else{for(var a=0;a<i.length;a++){var s=i[a];(s.animated()||s.visible()&&!s.transparent())&&o.push(s)}for(var a=0;a<r.length;a++){var l=r[a];(l.animated()||l.visible()&&!l.transparent())&&o.push(l)}o.sort(this.zOrderSort),this.cachedZSortedEles=o}return this.lastZOrderCachedNodes=i,this.lastZOrderCachedEdges=r,o},n.projectBezier=function(e){function n(t){o.push({x:i(t[0],t[2],t[4],.05),y:i(t[1],t[3],t[5],.05)}),o.push({x:i(t[0],t[2],t[4],.25),y:i(t[1],t[3],t[5],.25)}),o.push({x:i(t[0],t[2],t[4],.4),y:i(t[1],t[3],t[5],.4)});var e={x:i(t[0],t[2],t[4],.5),y:i(t[1],t[3],t[5],.5)};o.push(e),"self"===r.edgeType||"compound"===r.edgeType?(r.midX=r.selfEdgeMidX,r.midY=r.selfEdgeMidY):(r.midX=e.x,r.midY=e.y),o.push({x:i(t[0],t[2],t[4],.6),y:i(t[1],t[3],t[5],.6)}),o.push({x:i(t[0],t[2],t[4],.75),y:i(t[1],t[3],t[5],.75)}),o.push({x:i(t[0],t[2],t[4],.95),y:i(t[1],t[3],t[5],.95)})}var i=t.math.qbezierAt,r=e._private.rscratch,o=e._private.rstyle.bezierPts=[];"self"===r.edgeType?(n([r.startX,r.startY,r.cp2ax,r.cp2ay,r.selfEdgeMidX,r.selfEdgeMidY]),n([r.selfEdgeMidX,r.selfEdgeMidY,r.cp2cx,r.cp2cy,r.endX,r.endY])):"bezier"===r.edgeType&&n([r.startX,r.startY,r.cp2x,r.cp2y,r.endX,r.endY])},n.recalculateNodeLabelProjection=function(t){var e=t._private.style.content.strValue;if(e&&!e.match(/^\s+$/)){var n,i,r=t.outerWidth(),o=t.outerHeight(),a=t._private.position,s=t._private.style["text-halign"].strValue,l=t._private.style["text-valign"].strValue,u=t._private.rscratch,c=t._private.rstyle;switch(s){case"left":n=a.x-r/2;break;case"right":n=a.x+r/2;break;default:n=a.x}switch(l){case"top":i=a.y-o/2;break;case"bottom":i=a.y+o/2;break;default:i=a.y}u.labelX=n,u.labelY=i,c.labelX=n,c.labelY=i,this.applyLabelDimensions(t)}},n.recalculateEdgeLabelProjection=function(e){var n=e._private.style.content.strValue;if(n&&!n.match(/^\s+$/)){var i,r,o,a,s=e._private,l=s.rscratch,u=s.rstyle;if("self"==l.edgeType)o=l.selfEdgeMidX,a=l.selfEdgeMidY;else if("straight"==l.edgeType)o=(l.startX+l.endX)/2,a=(l.startY+l.endY)/2;else if("bezier"==l.edgeType)o=t.math.qbezierAt(l.startX,l.cp2x,l.endX,.5),a=t.math.qbezierAt(l.startY,l.cp2y,l.endY,.5);else if("haystack"==l.edgeType){var c=l.haystackPts;o=(c[0]+c[2])/2,a=(c[1]+c[3])/2}i=o,r=a,l.labelX=i,l.labelY=r,u.labelX=i,u.labelY=r,this.applyLabelDimensions(e)}},n.applyLabelDimensions=function(t){var e=t._private.rscratch,n=t._private.rstyle,i=this.getLabelText(t),r=this.calculateLabelDimensions(t,i);n.labelWidth=r.width,e.labelWidth=r.width,n.labelHeight=r.height,e.labelHeight=r.height},n.getLabelText=function(t){var e=t._private.style,n=t._private.style.content.strValue,i=e["text-transform"].value,r=t._private.rscratch;if("none"==i||("uppercase"==i?n=n.toUpperCase():"lowercase"==i&&(n=n.toLowerCase())),"wrap"===e["text-wrap"].value){if(r.labelWrapKey===r.labelKey)return r.labelWrapCachedText;for(var o=n.split("\n"),a=e["text-max-width"].pxValue,s=[],l=0;l<o.length;l++){var u=o[l],c=this.calculateLabelDimensions(t,u,"line="+u),d=c.width;if(d>a){for(var h=u.split(/\s+/),p="",f=0;f<h.length;f++){var g=h[f],v=0===p.length?g:p+" "+g,y=this.calculateLabelDimensions(t,v,"testLine="+v),m=y.width;a>=m?p+=g+" ":(s.push(p),p=g+" ")}p.match(/^\s+$/)||s.push(p)}else s.push(u)}r.labelWrapCachedLines=s,r.labelWrapCachedText=n=s.join("\n"),r.labelWrapKey=r.labelKey}return n},n.calculateLabelDimensions=function(t,e,n){var i=this,r=t._private.style,o=r["font-style"].strValue,a=r["font-size"].pxValue+"px",s=r["font-family"].strValue,l=r["font-weight"].strValue,u=t._private.labelKey;n&&(u+="$@$"+n);var c=i.labelDimCache||(i.labelDimCache={});if(c[u])return c[u];var d=this.labelCalcDiv;d||(d=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(d));var h=d.style;return h.fontFamily=s,h.fontStyle=o,h.fontSize=a,h.fontWeight=l,h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none",h.padding="0",h.lineHeight="1",h.whiteSpace="wrap"===r["text-wrap"].value?"pre":"normal",d.textContent=e,c[u]={width:d.clientWidth,height:d.clientHeight},c[u]},n.recalculateRenderedStyle=function(t){for(var e=[],n=[],i={},r=0;r<t.length;r++){var o=t[r],a=o._private,s=a.style,l=a.rscratch,u=a.rstyle,c=a.data.id,d=null!=l.boundingBoxKey&&a.boundingBoxKey===l.boundingBoxKey,h=null!=l.labelKey&&a.labelKey===l.labelKey,p=d&&h;if("nodes"===o._private.group){var f=a.position,g=null!=u.nodeX&&null!=u.nodeY&&f.x===u.nodeX&&f.y===u.nodeY,v=null!=u.nodeW&&u.nodeW===s.width.pxValue,y=null!=u.nodeH&&u.nodeH===s.height.pxValue;g&&p&&v&&y||n.push(o),u.nodeX=f.x,u.nodeY=f.y,u.nodeW=s.width.pxValue,u.nodeH=s.height.pxValue}else{var m=o._private.source._private.position,x=o._private.target._private.position,b=null!=u.srcX&&null!=u.srcY&&m.x===u.srcX&&m.y===u.srcY,w=null!=u.tgtX&&null!=u.tgtY&&x.x===u.tgtX&&x.y===u.tgtY,E=b&&w;if(!E||!p){var _=a.style["curve-style"].value;if("bezier"===_){if(!i[c]){e.push(o),i[c]=!0;for(var T=o.parallelEdges(),r=0;r<T.length;r++){var N=T[r],C=N._private.data.id;i[C]||(e.push(N),i[C]=!0)}}}else e.push(o)}u.srcX=m.x,u.srcY=m.y,u.tgtX=x.x,u.tgtY=x.y}l.boundingBoxKey=a.boundingBoxKey,l.labelKey=a.labelKey}this.recalculateEdgeProjections(e),this.recalculateLabelProjections(n,e)},n.recalculateLabelProjections=function(t,e){for(var n=0;n<t.length;n++)this.recalculateNodeLabelProjection(t[n]);for(var n=0;n<e.length;n++)this.recalculateEdgeLabelProjection(e[n])},n.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)},n.findEdgeControlPoints=function(n){if(n&&0!==n.length){for(var i,r=this.data.cy,o=r.hasCompoundNodes(),a={},s=[],l=[],u=0;u<n.length;u++){var c=n[u],d=c._private.style,h="unbundled-bezier"===d["curve-style"].value;if("none"!==d.display.value)if("haystack"!==d["curve-style"].value){var p=c._private.data.source,f=c._private.data.target;i=p>f?f+"-"+p:p+"-"+f,h&&(i="unbundled"+c._private.data.id),null==a[i]&&(a[i]=[],s.push(i)),a[i].push(c),h&&(a[i].hasUnbundled=!0)}else l.push(c)}for(var g,v,y,m,x,b,w,E,_,T,N,C,D,S,k=0;k<s.length;k++){i=s[k];var L=a[i];if(L.sort(function(t,e){return t._private.index-e._private.index}),g=L[0]._private.source,v=L[0]._private.target,g._private.data.id>v._private.data.id){var M=g;g=v,v=M}if(y=g._private.position,m=v._private.position,x=this.getNodeWidth(g),b=this.getNodeHeight(g),w=this.getNodeWidth(v),E=this.getNodeHeight(v),_=e.nodeShapes[this.getNodeShape(g)],T=e.nodeShapes[this.getNodeShape(v)],N=g._private.style["border-width"].pxValue,C=v._private.style["border-width"].pxValue,S=!1,L.length>1&&g!==v||L.hasUnbundled){var P=_.intersectLine(y.x,y.y,x,b,m.x,m.y,N/2),A=T.intersectLine(m.x,m.y,w,E,y.x,y.y,C/2),I={x1:P[0],x2:A[0],y1:P[1],y2:A[1]},O=A[1]-P[1],R=A[0]-P[0],B=Math.sqrt(R*R+O*O),F={x:R,y:O},j={x:F.x/B,y:F.y/B};D={x:-j.y,y:j.x},(T.checkPoint(P[0],P[1],C/2,w,E,m.x,m.y)||_.checkPoint(A[0],A[1],N/2,x,b,y.x,y.y))&&(D={},S=!0)}for(var c,z,u=0;u<L.length;u++){c=L[u],z=c._private.rscratch;var q=z.lastEdgeIndex,X=u,Y=z.lastNumEdges,V=L.length,H=c._private.style,G=H["control-point-step-size"].pxValue,U=void 0!==H["control-point-distance"]?H["control-point-distance"].pxValue:void 0,W=H["control-point-weight"].value,h="unbundled-bezier"===H["curve-style"].value,$=c._private.source!==g;$&&h&&(U*=-1);var Z=z.lastSrcCtlPtX,K=y.x,Q=z.lastSrcCtlPtY,J=y.y,tt=z.lastSrcCtlPtW,et=g.outerWidth(),nt=z.lastSrcCtlPtH,it=g.outerHeight(),rt=z.lastTgtCtlPtX,ot=m.x,at=z.lastTgtCtlPtY,st=m.y,lt=z.lastTgtCtlPtW,ut=v.outerWidth(),ct=z.lastTgtCtlPtH,dt=v.outerHeight(),ht=z.lastW,pt=H["control-point-step-size"].pxValue;if(z.badBezier=!!S,Z!==K||Q!==J||tt!==et||nt!==it||rt!==ot||at!==st||lt!==ut||ct!==dt||ht!==pt||!(q===X&&Y===V||h)){if(z.lastSrcCtlPtX=K,z.lastSrcCtlPtY=J,z.lastSrcCtlPtW=et,z.lastSrcCtlPtH=it,z.lastTgtCtlPtX=ot,z.lastTgtCtlPtY=st,z.lastTgtCtlPtW=ut,z.lastTgtCtlPtH=dt,z.lastEdgeIndex=X,z.lastNumEdges=V,z.lastWidth=pt,g===v){z.edgeType="self";var ft=u,gt=G;h&&(ft=0,gt=U),z.cp2ax=y.x,z.cp2ay=y.y-(1+Math.pow(b,1.12)/100)*gt*(ft/3+1),z.cp2cx=y.x-(1+Math.pow(x,1.12)/100)*gt*(ft/3+1),z.cp2cy=y.y,z.selfEdgeMidX=(z.cp2ax+z.cp2cx)/2,z.selfEdgeMidY=(z.cp2ay+z.cp2cy)/2}else if(o&&(g.isParent()||g.isChild()||v.isParent()||v.isChild())&&(g.parents().anySame(v)||v.parents().anySame(g))){z.edgeType="compound",z.badBezier=!1;var ft=u,gt=G;h&&(ft=0,gt=U);var vt=50,yt={x:y.x-x/2,y:y.y-b/2},mt={x:m.x-w/2,y:m.y-E/2},xt=1;z.cp2ax=yt.x,z.compoundStretchA=Math.max(xt,Math.log(.01*x)),z.cp2ay=yt.y-(1+Math.pow(vt,1.12)/100)*gt*(ft/3+1)*z.compoundStretchA,z.compoundStretchB=Math.max(xt,Math.log(.01*w)),z.cp2cx=mt.x-(1+Math.pow(vt,1.12)/100)*gt*(ft/3+1)*z.compoundStretchB,z.cp2cy=mt.y,z.selfEdgeMidX=(z.cp2ax+z.cp2cx)/2,z.selfEdgeMidY=(z.cp2ay+z.cp2cy)/2}else if(L.length%2!==1||u!==Math.floor(L.length/2)||h){var bt,wt=(.5-L.length/2+u)*G,Et=t.math.signum(wt);bt=h?U:void 0!==U?Et*U:void 0;var _t=void 0!==bt?bt:wt,Tt=1-W,Nt=W;$&&(Tt=W,Nt=1-W);var Ct={x:I.x1*Tt+I.x2*Nt,y:I.y1*Tt+I.y2*Nt};z.edgeType="bezier",z.cp2x=Ct.x+D.x*_t,z.cp2y=Ct.y+D.y*_t}else z.edgeType="straight";this.findEndpoints(c);var Dt=!t.is.number(z.startX)||!t.is.number(z.startY),St=!t.is.number(z.arrowStartX)||!t.is.number(z.arrowStartY),kt=!t.is.number(z.endX)||!t.is.number(z.endY),Lt=!t.is.number(z.arrowEndX)||!t.is.number(z.arrowEndY),Mt=3,Pt=this.getArrowWidth(c._private.style.width.pxValue)*e.arrowShapeHeight,At=Mt*Pt,It=t.math.distance({x:z.cp2x,y:z.cp2y},{x:z.startX,y:z.startY}),Ot=At>It,Rt=t.math.distance({x:z.cp2x,y:z.cp2y},{x:z.endX,y:z.endY}),Bt=At>Rt;if("bezier"===z.edgeType){var Ft=!1;if(Dt||St||Ot){Ft=!0;var jt={x:z.cp2x-y.x,y:z.cp2y-y.y},zt=Math.sqrt(jt.x*jt.x+jt.y*jt.y),qt={x:jt.x/zt,y:jt.y/zt},Xt=Math.max(x,b),Yt={x:z.cp2x+2*qt.x*Xt,y:z.cp2y+2*qt.y*Xt},Vt=_.intersectLine(y.x,y.y,x,b,Yt.x,Yt.y,N/2);Ot?(z.cp2x=z.cp2x+qt.x*(At-It),z.cp2y=z.cp2y+qt.y*(At-It)):(z.cp2x=Vt[0]+qt.x*At,z.cp2y=Vt[1]+qt.y*At)}if(kt||Lt||Bt){Ft=!0;var jt={x:z.cp2x-m.x,y:z.cp2y-m.y},zt=Math.sqrt(jt.x*jt.x+jt.y*jt.y),qt={x:jt.x/zt,y:jt.y/zt},Xt=Math.max(x,b),Yt={x:z.cp2x+2*qt.x*Xt,y:z.cp2y+2*qt.y*Xt},Ht=T.intersectLine(m.x,m.y,w,E,Yt.x,Yt.y,C/2);Bt?(z.cp2x=z.cp2x+qt.x*(At-Rt),z.cp2y=z.cp2y+qt.y*(At-Rt)):(z.cp2x=Ht[0]+qt.x*At,z.cp2y=Ht[1]+qt.y*At)}Ft&&this.findEndpoints(c)}else"straight"===z.edgeType&&(z.midX=(K+ot)/2,z.midY=(J+st)/2);this.projectBezier(c),this.recalculateEdgeLabelProjection(c)}}}for(var u=0;u<l.length;u++){var c=l[u],Gt=c._private,Ut=Gt.rscratch,z=Ut;if(!Ut.haystack){var Wt=2*Math.random()*Math.PI;Ut.source={x:Math.cos(Wt),y:Math.sin(Wt)};var Wt=2*Math.random()*Math.PI;Ut.target={x:Math.cos(Wt),y:Math.sin(Wt)}}var g=Gt.source,v=Gt.target,y=g._private.position,m=v._private.position,x=g.width(),w=v.width(),b=g.height(),E=v.height(),Xt=d["haystack-radius"].value,$t=Xt/2;z.haystackPts=[z.source.x*x*$t+y.x,z.source.y*b*$t+y.y,z.target.x*w*$t+m.x,z.target.y*E*$t+m.y],Ut.edgeType="haystack",Ut.haystack=!0,this.recalculateEdgeLabelProjection(c)}return a}},n.findEndpoints=function(n){var i,r=n.source()[0],o=n.target()[0],a=n._private.style["target-arrow-shape"].value,s=n._private.style["source-arrow-shape"].value,l=o._private.style["border-width"].pxValue,u=r._private.style["border-width"].pxValue,c=n._private.rscratch;if("self"==c.edgeType||"compound"==c.edgeType){var d=[c.cp2cx,c.cp2cy];i=e.nodeShapes[this.getNodeShape(o)].intersectLine(o._private.position.x,o._private.position.y,this.getNodeWidth(o),this.getNodeHeight(o),d[0],d[1],l/2);var h=t.math.shortenIntersection(i,d,e.arrowShapes[a].spacing(n)),p=t.math.shortenIntersection(i,d,e.arrowShapes[a].gap(n));c.endX=p[0],c.endY=p[1],c.arrowEndX=h[0],c.arrowEndY=h[1];var d=[c.cp2ax,c.cp2ay];i=e.nodeShapes[this.getNodeShape(r)].intersectLine(r._private.position.x,r._private.position.y,this.getNodeWidth(r),this.getNodeHeight(r),d[0],d[1],u/2);var f=t.math.shortenIntersection(i,d,e.arrowShapes[s].spacing(n)),g=t.math.shortenIntersection(i,d,e.arrowShapes[s].gap(n));c.startX=g[0],c.startY=g[1],c.arrowStartX=f[0],c.arrowStartY=f[1]}else if("straight"==c.edgeType){i=e.nodeShapes[this.getNodeShape(o)].intersectLine(o._private.position.x,o._private.position.y,this.getNodeWidth(o),this.getNodeHeight(o),r.position().x,r.position().y,l/2),c.noArrowPlacement=0===i.length;var h=t.math.shortenIntersection(i,[r.position().x,r.position().y],e.arrowShapes[a].spacing(n)),p=t.math.shortenIntersection(i,[r.position().x,r.position().y],e.arrowShapes[a].gap(n));c.endX=p[0],c.endY=p[1],c.arrowEndX=h[0],c.arrowEndY=h[1],i=e.nodeShapes[this.getNodeShape(r)].intersectLine(r._private.position.x,r._private.position.y,this.getNodeWidth(r),this.getNodeHeight(r),o.position().x,o.position().y,u/2),c.noArrowPlacement=0===i.length;var f=t.math.shortenIntersection(i,[o.position().x,o.position().y],e.arrowShapes[s].spacing(n)),g=t.math.shortenIntersection(i,[o.position().x,o.position().y],e.arrowShapes[s].gap(n));c.startX=g[0],c.startY=g[1],c.arrowStartX=f[0],c.arrowStartY=f[1],c.badLine=!(t.is.number(c.startX)&&t.is.number(c.startY)&&t.is.number(c.endX)&&t.is.number(c.endY))}else if("bezier"==c.edgeType){var d=[c.cp2x,c.cp2y];i=e.nodeShapes[this.getNodeShape(o)].intersectLine(o._private.position.x,o._private.position.y,this.getNodeWidth(o),this.getNodeHeight(o),d[0],d[1],l/2);var h=t.math.shortenIntersection(i,d,e.arrowShapes[a].spacing(n)),p=t.math.shortenIntersection(i,d,e.arrowShapes[a].gap(n));c.endX=p[0],c.endY=p[1],c.arrowEndX=h[0],c.arrowEndY=h[1],i=e.nodeShapes[this.getNodeShape(r)].intersectLine(r._private.position.x,r._private.position.y,this.getNodeWidth(r),this.getNodeHeight(r),d[0],d[1],u/2);var f=t.math.shortenIntersection(i,d,e.arrowShapes[s].spacing(n)),g=t.math.shortenIntersection(i,d,e.arrowShapes[s].gap(n));c.startX=g[0],c.startY=g[1],c.arrowStartX=f[0],c.arrowStartY=f[1]}else if(c.isArcEdge)return},n.findEdges=function(t){for(var e=this.getCachedEdges(),n={},i=[],r=0;r<t.length;r++)n[t[r]._private.data.id]=t[r];for(var r=0;r<e.length;r++)(n[e[r]._private.data.source]||n[e[r]._private.data.target])&&i.push(e[r]);return i},n.getArrowWidth=n.getArrowHeight=function(t){var e=this.arrowWidthCache=this.arrowWidthCache||{},n=e[t];return n?n:(n=Math.max(Math.pow(13.37*t,.9),29),e[t]=n,n)}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.drawEdge=function(t,n,i){var r=n._private.rscratch,o=e.usePaths();if(!r.badBezier&&("bezier"!==r.edgeType&&"straight"!==r.edgeType||!isNaN(r.startX))){var a=n._private.style;if(!(a.width.pxValue<=0)){var s=a["overlay-padding"].pxValue,l=a["overlay-opacity"].value,u=a["overlay-color"].value;if(i){if(0===l)return;this.strokeStyle(t,u[0],u[1],u[2],l),t.lineCap="round","self"!=n._private.rscratch.edgeType||o||(t.lineCap="butt")}else{var c=a["line-color"].value;this.strokeStyle(t,c[0],c[1],c[2],a.opacity.value),t.lineCap="butt"}var d,h,p,f;p=d=n._private.source,f=h=n._private.target;var g=a.width.pxValue+(i?2*s:0),v=i?"solid":a["line-style"].value;t.lineWidth=g;var y=a["shadow-blur"].pxValue,m=a["shadow-opacity"].value,x=a["shadow-color"].value,b=a["shadow-offset-x"].pxValue,w=a["shadow-offset-y"].pxValue;if(this.shadowStyle(t,x,i?0:m,y,b,w),"haystack"===r.edgeType)this.drawStyledEdge(n,t,r.haystackPts,v,g);else if("self"===r.edgeType||"compound"===r.edgeType){var E=n._private.rscratch,_=[E.startX,E.startY,E.cp2ax,E.cp2ay,E.selfEdgeMidX,E.selfEdgeMidY,E.selfEdgeMidX,E.selfEdgeMidY,E.cp2cx,E.cp2cy,E.endX,E.endY];this.drawStyledEdge(n,t,_,v,g)}else if("straight"===r.edgeType){var T=h._private.position.x-d._private.position.x,N=h._private.position.y-d._private.position.y,C=r.endX-r.startX,D=r.endY-r.startY;if(0>T*C+N*D)r.straightEdgeTooShort=!0;else{var E=r;this.drawStyledEdge(n,t,[E.startX,E.startY,E.endX,E.endY],v,g),r.straightEdgeTooShort=!1}}else{var E=r;this.drawStyledEdge(n,t,[E.startX,E.startY,E.cp2x,E.cp2y,E.endX,E.endY],v,g)}"haystack"===r.edgeType?this.drawArrowheads(t,n,i):r.noArrowPlacement!==!0&&void 0!==r.startX&&this.drawArrowheads(t,n,i),this.shadowStyle(t,"transparent",0)}}},n.drawStyledEdge=function(t,n,i,r,o){var a,s=t._private.rscratch,l=n,u=!1,c=e.usePaths();if(c){for(var d=i,h=s.pathCacheKey&&d.length===s.pathCacheKey.length,p=h,f=0;p&&f<d.length;f++)s.pathCacheKey[f]!==d[f]&&(p=!1);p?(a=n=s.pathCache,u=!0):(a=n=new Path2D,s.pathCacheKey=d,s.pathCache=a)}if(l.setLineDash)switch(r){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash([6,3]);break;case"solid":l.setLineDash([])}u||(n.beginPath&&n.beginPath(),n.moveTo(i[0],i[1]),6!==i.length||s.badBezier?12!==i.length||s.badBezier?4!==i.length||s.badLine||n.lineTo(i[2],i[3]):(n.quadraticCurveTo(i[2],i[3],i[4],i[5]),n.quadraticCurveTo(i[8],i[9],i[10],i[11])):n.quadraticCurveTo(i[2],i[3],i[4],i[5])),n=l,c?n.stroke(a):n.stroke(),n.setLineDash&&n.setLineDash([])},n.drawArrowheads=function(t,e,n){function i(n,i,r,o,a){var s=g[n+"-arrow-shape"].value;if("none"!==s){var l=t.globalCompositeOperation,u="hollow"===g[n+"-arrow-fill"].value?"both":"filled",c=g[n+"-arrow-fill"].value;"half-triangle-overshot"===s&&(c="hollow",u="hollow"),(1!==g.opacity.value||"hollow"===c)&&(t.globalCompositeOperation="destination-out",d.fillStyle(t,255,255,255,1),d.strokeStyle(t,255,255,255,1),d.drawArrowShape(e,n,t,u,g.width.pxValue,g[n+"-arrow-shape"].value,i,r,o,a),t.globalCompositeOperation=l);var h=g[n+"-arrow-color"].value;d.fillStyle(t,h[0],h[1],h[2],g.opacity.value),d.strokeStyle(t,h[0],h[1],h[2],g.opacity.value),d.drawArrowShape(e,n,t,c,g.width.pxValue,g[n+"-arrow-shape"].value,i,r,o,a)}}if(!n){var r,o,a,s,l,u,c=e._private.rscratch,d=this,h="haystack"===c.edgeType,p=e.source().position(),f=e.target().position();h?(a=c.haystackPts[0],s=c.haystackPts[1],l=c.haystackPts[2],u=c.haystackPts[3]):(a=c.arrowStartX,s=c.arrowStartY,l=c.arrowEndX,u=c.arrowEndY);var g=e._private.style;r=a-p.x,o=s-p.y,h||isNaN(a)||isNaN(s)||isNaN(r)||isNaN(o)||i("source",a,s,r,o);var v=c.midX,y=c.midY;h&&(v=(a+l)/2,y=(s+u)/2),r=a-l,o=s-u,"self"===c.edgeType&&(r=1,o=-1),isNaN(v)||isNaN(y)||i("mid-target",v,y,r,o),r*=-1,o*=-1,isNaN(v)||isNaN(y)||i("mid-source",v,y,r,o),r=l-f.x,o=u-f.y,h||isNaN(l)||isNaN(u)||isNaN(r)||isNaN(o)||i("target",l,u,r,o)}},n.drawArrowShape=function(t,n,i,r,o,a,s,l,u,c){var d,h=e.usePaths(),p=t._private.rscratch,f=!1,g=i,v={x:s,y:l},y=Math.asin(c/Math.sqrt(u*u+c*c));0>u?y+=Math.PI/2:y=-(Math.PI/2+y);var m=this.getArrowWidth(o),x=e.arrowShapes[a];if(h){var b=m+"$"+a+"$"+y+"$"+s+"$"+l;p.arrowPathCacheKey=p.arrowPathCacheKey||{},p.arrowPathCache=p.arrowPathCache||{};var w=p.arrowPathCacheKey[n]===b;w?(d=i=p.arrowPathCache[n],f=!0):(d=i=new Path2D,p.arrowPathCacheKey[n]=b,p.arrowPathCache[n]=d)}i.beginPath&&i.beginPath(),f||x.draw(i,m,y,v),!x.leavePathOpen&&i.closePath&&i.closePath(),i=g,("filled"===r||"both"===r)&&(h?i.fill(d):i.fill()),("hollow"===r||"both"===r)&&(i.lineWidth=x.matchEdgeWidth?o:1,i.lineJoin="miter",h?i.stroke(d):i.stroke())}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.getCachedImage=function(t,e){var n=this,i=n.imageCache=n.imageCache||{};if(i[t]&&i[t].image)return i[t].image;var r=i[t]=i[t]||{},o=r.image=new Image;return o.addEventListener("load",e),o.src=t,o},n.safeDrawImage=function(t,n,i,r,o,a,s,l,u,c){var d=this;try{t.drawImage(n,i,r,o,a,s,l,u,c)}catch(h){d.data.canvasNeedsRedraw[e.NODE]=!0,d.data.canvasNeedsRedraw[e.DRAG]=!0,d.drawingImage=!0,d.redraw()}},n.drawInscribedImage=function(t,n,i){var r=this,o=i._private.position.x,a=i._private.position.y,s=i._private.style,l=s["background-fit"].value,u=s["background-position-x"],c=s["background-position-y"],d=s["background-repeat"].value,h=i.width(),p=i.height(),f=i._private.rscratch,g=s["background-clip"].value,v="node"===g,y=s["background-image-opacity"].value,m=n.width,x=n.height;if(0!==m&&0!==x){var b=s["background-width"];"auto"!==b.value&&(m="%"===b.units?b.value/100*h:b.pxValue);var w=s["background-height"];if("auto"!==w.value&&(x="%"===w.units?w.value/100*p:w.pxValue),0!==m&&0!==x){if("contain"===l){var E=Math.min(h/m,p/x);m*=E,x*=E}else if("cover"===l){var E=Math.max(h/m,p/x);m*=E,x*=E}var _=o-h/2;_+="%"===u.units?(h-m)*u.value/100:u.pxValue;var T=a-p/2;T+="%"===c.units?(p-x)*c.value/100:c.pxValue,f.pathCache&&(_-=o,T-=a,o=0,a=0);var N=t.globalAlpha;if(t.globalAlpha=y,"no-repeat"===d)v&&(t.save(),f.pathCache?t.clip(f.pathCache):(e.nodeShapes[r.getNodeShape(i)].drawPath(t,o,a,h,p),t.clip())),r.safeDrawImage(t,n,0,0,n.width,n.height,_,T,m,x),v&&t.restore();else{var C=t.createPattern(n,d);t.fillStyle=C,e.nodeShapes[r.getNodeShape(i)].drawPath(t,o,a,h,p),t.translate(_,T),t.fill(),t.translate(-_,-T)}t.globalAlpha=N}}}}(cytoscape),function(t){"use strict";function e(t,e,n,i,r,o){var o=o||5;t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+i-o,n),t.quadraticCurveTo(e+i,n,e+i,n+o),t.lineTo(e+i,n+r-o),t.quadraticCurveTo(e+i,n+r,e+i-o,n+r),t.lineTo(e+o,n+r),t.quadraticCurveTo(e,n+r,e,n+r-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath(),t.fill()}var n=t("renderer","canvas"),i=n.prototype;i.drawEdgeText=function(e,n){var i=n._private.style.content.strValue;if(!(!i||i.match(/^\s+$/)||this.hideEdgesOnViewport&&(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var r=n._private.style["font-size"].pxValue*n.cy().zoom(),o=n._private.style["min-zoomed-font-size"].pxValue;if(!(o>r)){e.textAlign="center",e.textBaseline="middle";var a=n._private.rscratch;if(t.is.number(a.labelX)&&t.is.number(a.labelY)){var s,l,u,c=n._private.style,d="autorotate"===c["edge-text-rotation"].strValue;if(d){switch(a.edgeType){case"haystack":l=a.haystackPts[2]-a.haystackPts[0],u=a.haystackPts[3]-a.haystackPts[1];break;default:l=a.endX-a.startX,u=a.endY-a.startY}s=Math.atan(u/l),e.translate(a.labelX,a.labelY),e.rotate(s),this.drawText(e,n,0,0),e.rotate(-s),e.translate(-a.labelX,-a.labelY)}else this.drawText(e,n,a.labelX,a.labelY)}}}},i.drawNodeText=function(e,n){var i=n._private.style.content.strValue;if(i&&!i.match(/^\s+$/)){var r=n._private.style["font-size"].pxValue*n.cy().zoom(),o=n._private.style["min-zoomed-font-size"].pxValue;if(!(o>r)){var a=n._private.style["text-halign"].strValue,s=n._private.style["text-valign"].strValue,l=n._private.rscratch;if(t.is.number(l.labelX)&&t.is.number(l.labelY)){switch(a){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}switch(s){case"top":e.textBaseline="bottom";break;case"bottom":e.textBaseline="top";break;default:e.textBaseline="middle"}this.drawText(e,n,l.labelX,l.labelY)}}}},i.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(e=this.fontCaches[n],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e},i.setupTextStyle=function(t,e){var n=e.effectiveOpacity(),i=e._private.style,r=i["font-style"].strValue,o=i["font-size"].pxValue+"px",a=i["font-family"].strValue,s=i["font-weight"].strValue,l=i["text-opacity"].value*i.opacity.value*n,u=i["text-outline-opacity"].value*l,c=i.color.value,d=i["text-outline-color"].value,h=i["text-shadow-blur"].pxValue,p=i["text-shadow-opacity"].value,f=i["text-shadow-color"].value,g=i["text-shadow-offset-x"].pxValue,v=i["text-shadow-offset-y"].pxValue,y=e._private.fontKey,m=this.getFontCache(t);m.key!==y&&(t.font=r+" "+s+" "+o+" "+a,m.key=y);var x=this.getLabelText(e);return t.lineJoin="round",this.fillStyle(t,c[0],c[1],c[2],l),this.strokeStyle(t,d[0],d[1],d[2],u),this.shadowStyle(t,f,p,h,g,v),x},i.drawText=function(t,n,i,r){var o=n._private,a=o.style,s=o.rstyle,l=o.rscratch,u=n.effectiveOpacity();if(0!==u&&0!==a["text-opacity"].value){var c=this.setupTextStyle(t,n),d=a["text-halign"].value,h=a["text-valign"].value;if(n.isEdge()&&(d="center",h="center"),null!=c&&!isNaN(i)&&!isNaN(r)){var p=a["text-background-opacity"].value,f=a["text-border-opacity"].value,g=a["text-border-width"].pxValue;if(p>0||g>0&&f>0){var v=4+g/2;n.isNode()&&("top"===h?r-=v:"bottom"===h&&(r+=v),"left"===d?i-=v:"right"===d&&(i+=v));var y=s.labelWidth,m=s.labelHeight,x=i;d&&("center"==d?x-=y/2:"left"==d&&(x-=y));var b=r;if(n.isNode()?"top"==h?b-=m:"center"==h&&(b-=m/2):b-=m/2,"autorotate"===a["edge-text-rotation"].strValue?(r=0,y+=4,x=i-y/2,b=r-m/2):(x-=v,b-=v,m+=2*v,y+=2*v),p>0){var w=t.fillStyle,E=a["text-background-color"].value;t.fillStyle="rgba("+E[0]+","+E[1]+","+E[2]+","+p*u+")";var _=a["text-background-shape"].strValue;"roundrectangle"==_?e(t,x,b,y,m,2):t.fillRect(x,b,y,m),t.fillStyle=w}if(g>0&&f>0){var T=t.strokeStyle,N=t.lineWidth,C=a["text-border-color"].value,D=a["text-border-style"].value;if(t.strokeStyle="rgba("+C[0]+","+C[1]+","+C[2]+","+f*u+")",t.lineWidth=g,t.setLineDash)switch(D){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=g/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(x,b,y,m),"double"===D){var S=g/2;t.strokeRect(x+S,b+S,y-2*S,m-2*S)}t.setLineDash&&t.setLineDash([]),t.lineWidth=N,t.strokeStyle=T}}var k=2*a["text-outline-width"].pxValue;if(k>0&&(t.lineWidth=k),"wrap"===a["text-wrap"].value){var L=l.labelWrapCachedLines,M=s.labelHeight/L.length;switch(h){case"top":r-=(L.length-1)*M;break;case"bottom":break;default:case"center":r-=(L.length-1)*M/2}for(var P=0;P<L.length;P++)k>0&&t.strokeText(L[P],i,r),t.fillText(L[P],i,r),r+=M}else k>0&&t.strokeText(c,i,r),t.fillText(c,i,r);this.shadowStyle(t,"transparent",0)}}}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.drawNode=function(t,n,i){var r,o,a=this,s=n._private.style,l=n._private.rscratch,u=n._private,c=u.position;if(void 0!==c.x&&void 0!==c.y){var d,h=e.usePaths(),p=t,f=!1,g=s["overlay-padding"].pxValue,v=s["overlay-opacity"].value,y=s["overlay-color"].value;if(!i||0!==v){var m=n.effectiveOpacity();if(0!==m)if(r=this.getNodeWidth(n),o=this.getNodeHeight(n),t.lineWidth=s["border-width"].pxValue,void 0!==i&&i)v>0&&(this.fillStyle(t,y[0],y[1],y[2],v),e.nodeShapes.roundrectangle.drawPath(t,n._private.position.x,n._private.position.y,r+2*g,o+2*g),t.fill());else{var x,b=s["background-image"].value[2]||s["background-image"].value[1];if(void 0!==b){x=this.getCachedImage(b,function(){a.data.canvasNeedsRedraw[e.NODE]=!0,a.data.canvasNeedsRedraw[e.DRAG]=!0,a.drawingImage=!0,a.redraw()});var w=u.backgrounding;u.backgrounding=!x.complete,w!==u.backgrounding&&n.updateStyle(!1)}var E=s["background-color"].value,_=s["border-color"].value,T=s["border-style"].value;this.fillStyle(t,E[0],E[1],E[2],s["background-opacity"].value*m),this.strokeStyle(t,_[0],_[1],_[2],s["border-opacity"].value*m);var N=s["shadow-blur"].pxValue,C=s["shadow-opacity"].value,D=s["shadow-color"].value,S=s["shadow-offset-x"].pxValue,k=s["shadow-offset-y"].pxValue;if(this.shadowStyle(t,D,C,N,S,k),t.lineJoin="miter",t.setLineDash)switch(T){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}var L=s.shape.strValue;if(h){var M=L+"$"+r+"$"+o;t.translate(c.x,c.y),l.pathCacheKey===M?(d=t=l.pathCache,f=!0):(d=t=new Path2D,l.pathCacheKey=M,l.pathCache=d)}if(!f){var P=c;h&&(P={x:0,y:0}),e.nodeShapes[this.getNodeShape(n)].drawPath(t,P.x,P.y,r,o)}t=p,h?t.fill(d):t.fill(),this.shadowStyle(t,"transparent",0),void 0!==b&&x.complete&&this.drawInscribedImage(t,x,n);var A=s["background-blacken"].value,I=s["border-width"].pxValue;if(this.hasPie(n)&&(this.drawPie(t,n,m),(0!==A||0!==I)&&(h||e.nodeShapes[this.getNodeShape(n)].drawPath(t,c.x,c.y,r,o))),A>0?(this.fillStyle(t,0,0,0,A),h?t.fill(d):t.fill()):0>A&&(this.fillStyle(t,255,255,255,-A),h?t.fill(d):t.fill()),I>0&&(h?t.stroke(d):t.stroke(),"double"===T)){t.lineWidth=s["border-width"].pxValue/3;var O=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",h?t.stroke(d):t.stroke(),t.globalCompositeOperation=O}h&&t.translate(-c.x,-c.y),t.setLineDash&&t.setLineDash([])}}}},n.hasPie=function(t){return t=t[0],t._private.hasPie},n.drawPie=function(n,i,r){i=i[0];var o=i._private,a=o.style,s=a["pie-size"],l=this.getNodeWidth(i),u=this.getNodeHeight(i),c=o.position.x,d=o.position.y,h=Math.min(l,u)/2,p=0,f=e.usePaths();f&&(c=0,d=0),"%"===s.units?h=h*s.value/100:void 0!==s.pxValue&&(h=s.pxValue/2);for(var g=1;g<=t.style.pieBackgroundN;g++){var v=a["pie-"+g+"-background-size"].value,y=a["pie-"+g+"-background-color"].value,m=a["pie-"+g+"-background-opacity"].value*r,x=v/100;x+p>1&&(x=1-p);var b=1.5*Math.PI+2*Math.PI*p,w=2*Math.PI*x,E=b+w;0===v||p>=1||p+x>1||(n.beginPath(),n.moveTo(c,d),n.arc(c,d,h,b,E),n.closePath(),this.fillStyle(n,y[0],y[1],y[2],m),n.fill(),p+=x)}}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e,i=e.prototype;i.getPixelRatio=function(){var t=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},i.paintCache=function(t){for(var e,n=this.paintCaches=this.paintCaches||[],i=!0,r=0;r<n.length;r++)if(e=n[r],e.context===t){i=!1;break}return i&&(e={context:t},n.push(e)),e},i.fillStyle=function(t,e,n,i,r){t.fillStyle="rgba("+e+","+n+","+i+","+r+")"},i.strokeStyle=function(t,e,n,i,r){t.strokeStyle="rgba("+e+","+n+","+i+","+r+")"},i.shadowStyle=function(t,e,n,i,r,o){var a=this.data.cy.zoom(),s=this.paintCache(t);(0!==s.shadowOpacity||0!==n)&&(s.shadowOpacity=n,n>0?(t.shadowBlur=i*a,t.shadowColor="rgba("+e[0]+","+e[1]+","+e[2]+","+n+")",t.shadowOffsetX=r*a,t.shadowOffsetY=o*a):(t.shadowBlur=0,t.shadowColor="transparent"))},i.matchCanvasSize=function(t){var i=this.data,r=t.clientWidth,o=t.clientHeight,a=this.getPixelRatio(),s=this.motionBlurPxRatio;(t===this.data.bufferCanvases[n.MOTIONBLUR_BUFFER_NODE]||t===this.data.bufferCanvases[n.MOTIONBLUR_BUFFER_DRAG])&&(a=s);var l,u=r*a,c=o*a;if(u!==this.canvasWidth||c!==this.canvasHeight){this.fontCaches=null;var d=i.canvasContainer;d.style.width=r+"px",d.style.height=o+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)l=i.canvases[h],(l.width!==u||l.height!==c)&&(l.width=u,l.height=c,l.style.width=r+"px",l.style.height=o+"px");for(var h=0;h<e.BUFFER_COUNT;h++)l=i.bufferCanvases[h],(l.width!==u||l.height!==c)&&(l.width=u,l.height=c,l.style.width=r+"px",l.style.height=o+"px");this.textureMult=1,1>=a&&(l=i.bufferCanvases[e.TEXTURE_BUFFER],this.textureMult=2,l.width=u*this.textureMult,l.height=c*this.textureMult),this.canvasWidth=u,this.canvasHeight=c;
}},i.renderTo=function(t,e,n,i){this.redraw({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:i})},i.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},e.minRedrawLimit=1e3/60,e.maxRedrawLimit=1e3,e.motionBlurDelay=100,i.redraw=function(i){function r(){function i(t,e,n,i,r){var o=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",c.fillStyle(t,255,255,255,c.motionBlurTransparency),t.fillRect(e,n,i,r),t.globalCompositeOperation=o}function r(t,e){var r,s,d,h;c.clearingMotionBlur||t!==p.bufferContexts[n.MOTIONBLUR_BUFFER_NODE]&&t!==p.bufferContexts[n.MOTIONBLUR_BUFFER_DRAG]?(r=D,s=N,d=c.canvasWidth,h=c.canvasHeight):(r={x:C.x*y,y:C.y*y},s=T*y,d=c.canvasWidth*y,h=c.canvasHeight*y),t.setTransform(1,0,0,1,0,0),"motionBlur"===e?i(t,0,0,d,h):o||void 0!==e&&!e||t.clearRect(0,0,d,h),a||(t.translate(r.x,r.y),t.scale(s,s)),u&&t.translate(u.x,u.y),l&&t.scale(l,l)}function b(t,e){for(var n=t.eles,i=0;i<n.length;i++){var r=n[i];r.isNode()?(c.drawNode(e,r),q||c.drawNodeText(e,r),c.drawNode(e,r,!0)):z||(c.drawEdge(e,r),q||c.drawEdgeText(e,r),c.drawEdge(e,r,!0))}}c.textureDrawLastFrame&&!g&&(f[n.NODE]=!0,f[n.SELECT_BOX]=!0);var E=c.getCachedEdges(),_=h.style()._private.coreStyle,T=h.zoom(),N=void 0!==l?l:T,C=h.pan(),D={x:C.x,y:C.y},k={zoom:T,pan:{x:C.x,y:C.y}},L=c.prevViewport,M=void 0===L||k.zoom!==L.zoom||k.pan.x!==L.pan.x||k.pan.y!==L.pan.y;M||x&&!m||(c.motionBlurPxRatio=1),u&&(D=u),N*=d,D.x*=d,D.y*=d;var P={drag:{nodes:[],edges:[],eles:[]},nondrag:{nodes:[],edges:[],eles:[]}};if(g||(c.textureDrawLastFrame=!1),g){c.textureDrawLastFrame=!0;var A;if(!c.textureCache){c.textureCache={},A=c.textureCache.bb=h.elements().boundingBox(),c.textureCache.texture=c.data.bufferCanvases[e.TEXTURE_BUFFER];var I=c.data.bufferContexts[e.TEXTURE_BUFFER];I.setTransform(1,0,0,1,0,0),I.clearRect(0,0,c.canvasWidth*c.textureMult,c.canvasHeight*c.textureMult),c.redraw({forcedContext:I,drawOnlyNodeLayer:!0,forcedPxRatio:d*c.textureMult});var k=c.textureCache.viewport={zoom:h.zoom(),pan:h.pan(),width:c.canvasWidth,height:c.canvasHeight};k.mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}f[n.DRAG]=!1,f[n.NODE]=!1;var O=p.contexts[n.NODE],R=c.textureCache.texture,k=c.textureCache.viewport;A=c.textureCache.bb,O.setTransform(1,0,0,1,0,0),v?i(O,0,0,k.width,k.height):O.clearRect(0,0,k.width,k.height);var B=_["outside-texture-bg-color"].value,F=_["outside-texture-bg-opacity"].value;c.fillStyle(O,B[0],B[1],B[2],F),O.fillRect(0,0,k.width,k.height);var T=h.zoom();r(O,!1),O.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/d,k.height/k.zoom/d),O.drawImage(R,k.mpan.x,k.mpan.y,k.width/k.zoom/d,k.height/k.zoom/d)}else c.textureOnViewport&&!o&&(c.textureCache=null);var j=c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming||c.hoverData.draggingEles,z=c.hideEdgesOnViewport&&j,q=c.hideLabelsOnViewport&&j;if(f[n.DRAG]||f[n.NODE]||a||s){z||c.findEdgeControlPoints(E);for(var X=c.getCachedZSortedEles(),Y=h.extent(),V=0;V<X.length;V++){var H,G=X[V],A=o?null:G.boundingBox(),U=!!o||t.math.boundingBoxesIntersect(Y,A);U&&(H=G._private.rscratch.inDragLayer?P.drag:P.nondrag,H.eles.push(G))}}var W=[];if(W[n.NODE]=!f[n.NODE]&&v&&!c.clearedForMotionBlur[n.NODE]||c.clearingMotionBlur,W[n.NODE]&&(c.clearedForMotionBlur[n.NODE]=!0),W[n.DRAG]=!f[n.DRAG]&&v&&!c.clearedForMotionBlur[n.DRAG]||c.clearingMotionBlur,W[n.DRAG]&&(c.clearedForMotionBlur[n.DRAG]=!0),f[n.NODE]||a||s||W[n.NODE]){var $=v&&!W[n.NODE]&&1!==y,O=o||($?c.data.bufferContexts[n.MOTIONBLUR_BUFFER_NODE]:p.contexts[n.NODE]),Z=v&&!$?"motionBlur":void 0;r(O,Z),b(P.nondrag,O),a||v||(f[n.NODE]=!1)}if(!s&&(f[n.DRAG]||a||W[n.DRAG])){var $=v&&!W[n.DRAG]&&1!==y,O=o||($?c.data.bufferContexts[n.MOTIONBLUR_BUFFER_DRAG]:p.contexts[n.DRAG]);r(O,v&&!$?"motionBlur":void 0),b(P.drag,O),a||v||(f[n.DRAG]=!1)}if(c.showFps||!s&&f[n.SELECT_BOX]&&!a){var O=o||p.contexts[n.SELECT_BOX];if(r(O),1==p.select[4]&&(c.hoverData.selecting||c.touchData.selecting)){var T=p.cy.zoom(),K=_["selection-box-border-width"].value/T;O.lineWidth=K,O.fillStyle="rgba("+_["selection-box-color"].value[0]+","+_["selection-box-color"].value[1]+","+_["selection-box-color"].value[2]+","+_["selection-box-opacity"].value+")",O.fillRect(p.select[0],p.select[1],p.select[2]-p.select[0],p.select[3]-p.select[1]),K>0&&(O.strokeStyle="rgba("+_["selection-box-border-color"].value[0]+","+_["selection-box-border-color"].value[1]+","+_["selection-box-border-color"].value[2]+","+_["selection-box-opacity"].value+")",O.strokeRect(p.select[0],p.select[1],p.select[2]-p.select[0],p.select[3]-p.select[1]))}if(p.bgActivePosistion&&!c.hoverData.selecting){var T=p.cy.zoom(),Q=p.bgActivePosistion;O.fillStyle="rgba("+_["active-bg-color"].value[0]+","+_["active-bg-color"].value[1]+","+_["active-bg-color"].value[2]+","+_["active-bg-opacity"].value+")",O.beginPath(),O.arc(Q.x,Q.y,_["active-bg-size"].pxValue/T,0,2*Math.PI),O.fill()}var J=c.averageRedrawTime;if(c.showFps&&J){J=Math.round(J);var tt=Math.round(1e3/J);O.setTransform(1,0,0,1,0,0),O.fillStyle="rgba(255, 0, 0, 0.75)",O.strokeStyle="rgba(255, 0, 0, 0.75)",O.lineWidth=1,O.fillText("1 frame = "+J+" ms = "+tt+" fps",0,20);var et=60;O.strokeRect(0,30,250,20),O.fillRect(0,30,250*Math.min(tt/et,1),20)}a||(f[n.SELECT_BOX]=!1)}if(v&&1!==y){var nt=p.contexts[n.NODE],it=c.data.bufferCanvases[n.MOTIONBLUR_BUFFER_NODE],rt=p.contexts[n.DRAG],ot=c.data.bufferCanvases[n.MOTIONBLUR_BUFFER_DRAG],at=function(t,e,n){t.setTransform(1,0,0,1,0,0),n||!w?t.clearRect(0,0,c.canvasWidth,c.canvasHeight):i(t,0,0,c.canvasWidth,c.canvasHeight);var r=y;t.drawImage(e,0,0,c.canvasWidth*r,c.canvasHeight*r,0,0,c.canvasWidth,c.canvasHeight)};(f[n.NODE]||W[n.NODE])&&(at(nt,it,W[n.NODE]),f[n.NODE]=!1),(f[n.DRAG]||W[n.DRAG])&&(at(rt,ot,W[n.DRAG]),f[n.DRAG]=!1)}var st=Date.now();void 0===c.averageRedrawTime&&(c.averageRedrawTime=st-S),void 0===c.redrawCount&&(c.redrawCount=0),c.redrawCount++,void 0===c.redrawTotalTime&&(c.redrawTotalTime=0),c.redrawTotalTime+=st-S,c.lastRedrawTime=st-S,c.averageRedrawTime=c.averageRedrawTime/2+(st-S)/2,c.currentlyDrawing=!1,c.prevViewport=k,c.clearingMotionBlur&&(c.clearingMotionBlur=!1,c.motionBlurCleared=!0,c.motionBlur=!0),v&&(c.motionBlurTimeout=setTimeout(function(){c.motionBlurTimeout=null,c.clearedForMotionBlur[n.NODE]=!1,c.clearedForMotionBlur[n.DRAG]=!1,c.motionBlur=!1,c.clearingMotionBlur=!g,c.mbFrames=0,f[n.NODE]=!0,f[n.DRAG]=!0,c.redraw()},e.motionBlurDelay)),c.drawingImage=!1}i=i||{};var o=i.forcedContext,a=i.drawAllLayers,s=i.drawOnlyNodeLayer,l=i.forcedZoom,u=i.forcedPan,c=this,d=void 0===i.forcedPxRatio?this.getPixelRatio():i.forcedPxRatio,h=c.data.cy,p=c.data,f=p.canvasNeedsRedraw,g=c.textureOnViewport&&!o&&(c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming),v=void 0!==i.motionBlur?i.motionBlur:c.motionBlur,y=c.motionBlurPxRatio,m=h.hasCompoundNodes(),x=c.hoverData.draggingEles,b=!(!c.hoverData.selecting&&!c.touchData.selecting);v=v&&!o&&c.motionBlurEnabled&&!b;var w=v;!o&&c.motionBlurTimeout&&clearTimeout(c.motionBlurTimeout),!o&&this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=null,void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);var E=e.minRedrawLimit,_=e.maxRedrawLimit,T=this.averageRedrawTime;T=E>T?E:T,T=_>T?T:_,void 0===this.lastDrawTime&&(this.lastDrawTime=0);var N=Date.now(),C=N-this.lastDrawTime,D=C>=T;if(!o&&!c.clearingMotionBlur){if(!D||this.currentlyDrawing)return void(this.redrawTimeout=setTimeout(function(){c.redraw()},T));this.lastDrawTime=N,this.currentlyDrawing=!0}v&&(null==c.mbFrames&&(c.mbFrames=0),c.drawingImage||c.mbFrames++,c.mbFrames<3&&(w=!1),c.mbFrames>c.minMbLowQualFrames&&(c.motionBlurPxRatio=c.mbPxRBlurry)),c.clearingMotionBlur&&(c.motionBlurPxRatio=1);var S=Date.now();o?r():t.util.requestAnimationFrame(r),o||c.initrender||(c.initrender=!0,h.trigger("initrender")),o||h.triggerOnRender()}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.drawPolygonPath=function(t,e,n,i,r,o){var a=i/2,s=r/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],n+s*o[1]);for(var l=1;l<o.length/2;l++)t.lineTo(e+a*o[2*l],n+s*o[2*l+1]);t.closePath()},n.drawPolygon=function(t,e,n,i,r,o){this.drawPolygonPath(t,e,n,i,r,o),t.fill()},n.drawRoundRectanglePath=function(e,n,i,r,o,a){var s=r/2,l=o/2,u=t.math.getRoundRectangleRadius(r,o);e.beginPath&&e.beginPath(),e.moveTo(n,i-l),e.arcTo(n+s,i-l,n+s,i,u),e.arcTo(n+s,i+l,n,i+l,u),e.arcTo(n-s,i+l,n-s,i,u),e.arcTo(n-s,i-l,n,i-l,u),e.lineTo(n,i-l),e.closePath()},n.drawRoundRectangle=function(t,e,n,i,r,o){this.drawRoundRectanglePath(t,e,n,i,r,o),t.fill()}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]},n.bufferCanvasImage=function(e){var n=this.data,i=n.cy,r=i.elements().boundingBox(),o=e.full?Math.ceil(r.w):this.data.container.clientWidth,a=e.full?Math.ceil(r.h):this.data.container.clientHeight,s=1;if(void 0!==e.scale)o*=e.scale,a*=e.scale,s=e.scale;else if(t.is.number(e.maxWidth)||t.is.number(e.maxHeight)){var l=1/0,u=1/0;t.is.number(e.maxWidth)&&(l=s*e.maxWidth/o),t.is.number(e.maxHeight)&&(u=s*e.maxHeight/a),s=Math.min(l,u),o*=s,a*=s}var c=document.createElement("canvas");c.width=o,c.height=a,c.style.width=o+"px",c.style.height=a+"px";var d=c.getContext("2d");if(o>0&&a>0)if(d.clearRect(0,0,o,a),e.bg&&(d.fillStyle=e.bg,d.rect(0,0,o,a),d.fill()),d.globalCompositeOperation="source-over",e.full)this.redraw({forcedContext:d,drawAllLayers:!0,forcedZoom:s,forcedPan:{x:-r.x1*s,y:-r.y1*s},forcedPxRatio:1});else{var h=i.pan(),p={x:h.x*s,y:h.y*s},f=i.zoom()*s;this.redraw({forcedContext:d,drawAllLayers:!0,forcedZoom:f,forcedPan:p,forcedPxRatio:1})}return c},n.png=function(t){return this.bufferCanvasImage(t).toDataURL("image/png")},n.jpg=function(t){return this.bufferCanvasImage(t).toDataURL("image/jpeg")}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e,i=n.prototype;i.registerBinding=function(t,e,n,i){this.bindings.push({target:t,event:e,handler:n,useCapture:i}),t.addEventListener(e,n,i)},i.nodeIsDraggable=function(t){return!(0===t._private.style.opacity.value||"visible"!=t._private.style.visibility.value||"element"!=t._private.style.display.value||t.locked()||!t.grabbable())},i.load=function(){var e=this,i=function(t){var n;if(t.addToList&&e.data.cy.hasCompoundNodes()){if(!t.addToList.hasId){t.addToList.hasId={};for(var i=0;i<t.addToList.length;i++){var r=t.addToList[i];t.addToList.hasId[r.id()]=!0}}n=t.addToList.hasId}return n||{}},r=function(t,e){if(t._private.cy.hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList))for(var n=i(e),r=t.descendants(),o=0;o<r.size();o++){var a=r[o],s=a._private;e.inDragLayer&&(s.rscratch.inDragLayer=!0),e.addToList&&!n[a.id()]&&(e.addToList.push(a),n[a.id()]=!0,s.grabbed=!0);for(var l=s.edges,u=0;e.inDragLayer&&u<l.length;u++)l[u]._private.rscratch.inDragLayer=!0}},o=function(t,e){var n=t._private,o=i(e);e.inDragLayer&&(n.rscratch.inDragLayer=!0),e.addToList&&!o[t.id()]&&(e.addToList.push(t),o[t.id()]=!0,n.grabbed=!0);for(var a=n.edges,l=0;e.inDragLayer&&l<a.length;l++)a[l]._private.rscratch.inDragLayer=!0;r(t,e),s(t,{inDragLayer:e.inDragLayer})},a=function(t){if(t)for(var e=0;e<t.length;e++){var n=t[e]._private;if("nodes"===n.group){n.rscratch.inDragLayer=!1,n.grabbed=!1;for(var i=n.edges,r=0;r<i.length;r++)i[r]._private.rscratch.inDragLayer=!1;s(t[e],{inDragLayer:!1})}else"edges"===n.group&&(n.rscratch.inDragLayer=!1)}},s=function(t,e){if(null!=e.inDragLayer||null!=e.addToList){var n=t;if(t._private.cy.hasCompoundNodes()){for(;n.parent().nonempty();)n=n.parent()[0];if(n!=t){for(var r=n.descendants().merge(n).unmerge(t).unmerge(t.descendants()),o=r.connectedEdges(),a=i(e),s=0;s<r.size();s++)void 0!==e.inDragLayer&&(r[s]._private.rscratch.inDragLayer=e.inDragLayer),e.addToList&&!a[r[s].id()]&&(e.addToList.push(r[s]),a[r[s].id()]=!0,r[s]._private.grabbed=!0);for(var l=0;void 0!==e.inDragLayer&&l<o.length;l++)o[l]._private.rscratch.inDragLayer=e.inDragLayer}}}};"undefined"!=typeof MutationObserver?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var i=t[n],r=i.removedNodes;if(r)for(var o=0;o<r.length;o++){var a=r[o];if(a===e.data.container){e.destroy();break}}}}),e.removeObserver.observe(e.data.container.parentNode,{childList:!0})):e.registerBinding(e.data.container,"DOMNodeRemoved",function(t){e.destroy()}),e.registerBinding(window,"resize",t.util.debounce(function(t){e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.data.container),e.data.canvasNeedsRedraw[n.NODE]=!0,e.redraw()},100));for(var l=function(t){e.registerBinding(t,"scroll",function(t){e.invalidateContainerClientCoordsCache()})},u=e.data.cy.container();l(u),u.parentNode;)u=u.parentNode;e.registerBinding(e.data.container,"contextmenu",function(t){t.preventDefault()});var c=function(){return 0!==e.data.select[4]};e.registerBinding(e.data.container,"mousedown",function(i){i.preventDefault(),e.hoverData.capture=!0,e.hoverData.which=i.which;var r=e.data.cy,a=e.projectIntoViewport(i.clientX,i.clientY),s=e.data.select,l=e.findNearestElement(a[0],a[1],!0,!1),u=e.dragData.possibleDragElements;e.hoverData.mdownPos=a;var c=e.data.canvasNeedsRedraw,d=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.trigger(new t.Event(i,{type:"taphold",cyPosition:{x:a[0],y:a[1]}})):r.trigger(new t.Event(i,{type:"taphold",cyPosition:{x:a[0],y:a[1]}}))}},e.tapholdDuration)};if(3==i.which){e.hoverData.cxtStarted=!0;var h=new t.Event(i,{type:"cxttapstart",cyPosition:{x:a[0],y:a[1]}});l?(l.activate(),l.trigger(h),e.hoverData.down=l):r.trigger(h),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==i.which){if(l&&l.activate(),null!=l){if(e.nodeIsDraggable(l)){var p=new t.Event(i,{type:"grab",cyPosition:{x:a[0],y:a[1]}});if(l.isNode()&&!l.selected())u=e.dragData.possibleDragElements=[],o(l,{addToList:u}),l.trigger(p);else if(l.isNode()&&l.selected()){u=e.dragData.possibleDragElements=[];for(var f=r.$(function(){return this.isNode()&&this.selected()}),g=0;g<f.length;g++)e.nodeIsDraggable(f[g])&&o(f[g],{addToList:u});l.trigger(p)}c[n.NODE]=!0,c[n.DRAG]=!0}l.trigger(new t.Event(i,{type:"mousedown",cyPosition:{x:a[0],y:a[1]}})).trigger(new t.Event(i,{type:"tapstart",cyPosition:{x:a[0],y:a[1]}})).trigger(new t.Event(i,{type:"vmousedown",cyPosition:{x:a[0],y:a[1]}}))}else null==l&&r.trigger(new t.Event(i,{type:"mousedown",cyPosition:{x:a[0],y:a[1]}})).trigger(new t.Event(i,{type:"tapstart",cyPosition:{x:a[0],y:a[1]}})).trigger(new t.Event(i,{type:"vmousedown",cyPosition:{x:a[0],y:a[1]}}));if(e.hoverData.down=l,e.hoverData.downTime=(new Date).getTime(),null==l||l.isEdge()){s[4]=1;var v=Math.max(0,n.panOrBoxSelectDelay-(+new Date-e.hoverData.downTime));clearTimeout(e.bgActiveTimeout),r.boxSelectionEnabled()||l&&l.isEdge()?e.bgActiveTimeout=setTimeout(function(){l&&l.unactivate(),e.data.bgActivePosistion={x:a[0],y:a[1]},e.hoverData.dragging=!0,c[n.SELECT_BOX]=!0,e.redraw()},v):(e.data.bgActivePosistion={x:a[0],y:a[1]},c[n.SELECT_BOX]=!0,e.redraw())}d()}s[0]=s[2]=a[0],s[1]=s[3]=a[1]},!1),e.registerBinding(window,"mousemove",t.util.throttle(function(i){var r=!1,a=e.hoverData.capture;if(!a){var s=e.findContainerClientCoords();if(!(i.clientX>s[0]&&i.clientX<s[0]+e.canvasWidth&&i.clientY>s[1]&&i.clientY<s[1]+e.canvasHeight))return;for(var l=e.data.container,u=i.target,c=u.parentNode,d=!1;c;){if(c===l){d=!0;break}c=c.parentNode}if(!d)return}var h=e.data.cy,p=h.zoom(),f=e.projectIntoViewport(i.clientX,i.clientY),g=e.data.select,v=e.data.canvasNeedsRedraw,y=null;e.hoverData.draggingEles||(y=e.findNearestElement(f[0],f[1],!0,!1));var m=e.hoverData.last,x=e.hoverData.down,b=[f[0]-g[2],f[1]-g[3]],w=e.dragData.possibleDragElements,E=g[2]-g[0],_=E*E,T=g[3]-g[1],N=T*T,C=_+N,D=C*p*p;e.hoverData.tapholdCancelled=!0;var S=function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(b[0]),t.push(b[1])):(t[0]+=b[0],t[1]+=b[1])};if(r=!0,null!=y?y.trigger(new t.Event(i,{type:"mousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new t.Event(i,{type:"vmousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new t.Event(i,{type:"tapdrag",cyPosition:{x:f[0],y:f[1]}})):null==y&&h.trigger(new t.Event(i,{type:"mousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new t.Event(i,{type:"vmousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new t.Event(i,{type:"tapdrag",cyPosition:{x:f[0],y:f[1]}})),3===e.hoverData.which){var k=new t.Event(i,{type:"cxtdrag",cyPosition:{x:f[0],y:f[1]}});x?x.trigger(k):h.trigger(k),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&y===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.trigger(new t.Event(i,{type:"cxtdragout",cyPosition:{x:f[0],y:f[1]}})),e.hoverData.cxtOver=y,y&&y.trigger(new t.Event(i,{type:"cxtdragover",cyPosition:{x:f[0],y:f[1]}})))}else if(e.hoverData.dragging){if(r=!0,h.panningEnabled()&&h.userPanningEnabled()){var L;if(e.hoverData.justStartedPan){var M=e.hoverData.mdownPos;L={x:(f[0]-M[0])*p,y:(f[1]-M[1])*p},e.hoverData.justStartedPan=!1}else L={x:b[0]*p,y:b[1]*p};h.panBy(L),e.hoverData.dragged=!0}f=e.projectIntoViewport(i.clientX,i.clientY)}else if(1==g[4]&&(null==x||x.isEdge())&&(!h.boxSelectionEnabled()||+new Date-e.hoverData.downTime>=n.panOrBoxSelectDelay)&&!e.hoverData.selecting&&D>=e.desktopTapThreshold2&&h.panningEnabled()&&h.userPanningEnabled())e.hoverData.dragging=!0,e.hoverData.selecting=!1,e.hoverData.justStartedPan=!0,g[4]=0;else{if(h.boxSelectionEnabled()&&!e.hoverData.dragging&&Math.pow(g[2]-g[0],2)+Math.pow(g[3]-g[1],2)>7&&g[4]&&(clearTimeout(e.bgActiveTimeout),e.data.bgActivePosistion=void 0,e.hoverData.selecting=!0,v[n.SELECT_BOX]=!0,e.redraw()),x&&x.isEdge()&&x.active()&&x.unactivate(),y!=m&&(m&&(m.trigger(new t.Event(i,{type:"mouseout",cyPosition:{x:f[0],y:f[1]}})),m.trigger(new t.Event(i,{type:"tapdragout",cyPosition:{x:f[0],y:f[1]}}))),y&&(y.trigger(new t.Event(i,{type:"mouseover",cyPosition:{x:f[0],y:f[1]}})),y.trigger(new t.Event(i,{type:"tapdragover",cyPosition:{x:f[0],y:f[1]}}))),e.hoverData.last=y),x&&x.isNode()&&e.nodeIsDraggable(x))if(D>=e.desktopTapThreshold2){var P=!e.dragData.didDrag;P&&(v[n.NODE]=!0),e.dragData.didDrag=!0;for(var A=[],I=0;I<w.length;I++){var O=w[I];if(e.hoverData.draggingEles||o(O,{inDragLayer:!0}),O.isNode()&&e.nodeIsDraggable(O)&&O.grabbed()){var R=O._private.position;if(A.push(O),t.is.number(b[0])&&t.is.number(b[1])&&(R.x+=b[0],R.y+=b[1],P)){var B=e.hoverData.dragDelta;t.is.number(B[0])&&t.is.number(B[1])&&(R.x+=B[0],R.y+=B[1])}}}e.hoverData.draggingEles=!0;var F=new t.Collection(h,A);F.updateCompoundBounds(),F.trigger("position drag"),v[n.DRAG]=!0,e.redraw()}else S();r=!0}return g[2]=f[0],g[3]=f[1],r?(i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault(),!1):void 0},1e3/30,{trailing:!0}),!1),e.registerBinding(window,"mouseup",function(i){var r=e.hoverData.capture;if(r){e.hoverData.capture=!1;var o=e.data.cy,s=e.projectIntoViewport(i.clientX,i.clientY),l=e.data.select,u=e.findNearestElement(s[0],s[1],!0,!1),c=e.dragData.possibleDragElements,d=e.hoverData.down,h=i.shiftKey,p=e.data.canvasNeedsRedraw;if(e.data.bgActivePosistion&&(p[n.SELECT_BOX]=!0,e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,clearTimeout(e.bgActiveTimeout),d&&d.unactivate(),3===e.hoverData.which){var f=new t.Event(i,{type:"cxttapend",cyPosition:{x:s[0],y:s[1]}});if(d?d.trigger(f):o.trigger(f),!e.hoverData.cxtDragged){var g=new t.Event(i,{type:"cxttap",cyPosition:{x:s[0],y:s[1]}});d?d.trigger(g):o.trigger(g)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else{if(null!=d||e.dragData.didDrag||e.hoverData.dragged||(o.$(function(){return this.selected()}).unselect(),c.length>0&&(p[n.NODE]=!0),e.dragData.possibleDragElements=c=[]),null!=u?u.trigger(new t.Event(i,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(i,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(i,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})):null==u&&o.trigger(new t.Event(i,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(i,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(i,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})),e.dragData.didDrag||e.hoverData.dragged||(null!=u?u.trigger(new t.Event(i,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(i,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(i,{type:"vclick",cyPosition:{x:s[0],y:s[1]}})):null==u&&o.trigger(new t.Event(i,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(i,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(i,{type:"vclick",cyPosition:{x:s[0],y:s[1]}}))),u!=d||e.dragData.didDrag||null!=u&&u._private.selectable&&(e.hoverData.dragging||("additive"===o.selectionType()||h?u.selected()?u.unselect():u.select():h||(o.$(":selected").unmerge(u).unselect(),u.select())),p[n.NODE]=!0),e.hoverData.selecting&&o.boxSelectionEnabled()&&Math.pow(l[2]-l[0],2)+Math.pow(l[3]-l[1],2)>7&&l[4]){var v=[],y=e.getAllInBox(l[0],l[1],l[2],l[3]);p[n.SELECT_BOX]=!0,y.length>0&&(p[n.NODE]=!0);for(var m=0;m<y.length;m++)y[m]._private.selectable&&v.push(y[m]);var x=new t.Collection(o,v);"additive"===o.selectionType()?x.select():(h||o.$(":selected").unmerge(x).unselect(),x.select()),e.redraw()}e.hoverData.dragging&&(e.hoverData.dragging=!1,p[n.SELECT_BOX]=!0,p[n.NODE]=!0,e.redraw()),l[4]||(p[n.DRAG]=!0,p[n.NODE]=!0,a(c),d&&d.trigger("free"))}l[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[]}},!1);var d=function(t){if(!e.scrollingPage){var i=e.data.cy,r=e.projectIntoViewport(t.clientX,t.clientY),o=[r[0]*i.zoom()+i.pan().x,r[1]*i.zoom()+i.pan().y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||c())return void t.preventDefault();if(i.panningEnabled()&&i.userPanningEnabled()&&i.zoomingEnabled()&&i.userZoomingEnabled()){t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.data.canvasNeedsRedraw[n.NODE]=!0,e.redraw()},150);var a=t.deltaY/-250||t.wheelDeltaY/1e3||t.wheelDelta/1e3;a*=e.wheelSensitivity;var s=1===t.deltaMode;s&&(a*=33),i.zoom({level:i.zoom()*Math.pow(10,a),renderedPosition:{x:o[0],y:o[1]}})}}};e.registerBinding(e.data.container,"wheel",d,!0),e.registerBinding(window,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.data.container,"mouseout",function(n){var i=e.projectIntoViewport(n.clientX,n.clientY);e.data.cy.trigger(new t.Event(n,{type:"mouseout",cyPosition:{x:i[0],y:i[1]}}))},!1),e.registerBinding(e.data.container,"mouseover",function(n){var i=e.projectIntoViewport(n.clientX,n.clientY);e.data.cy.trigger(new t.Event(n,{type:"mouseover",cyPosition:{x:i[0],y:i[1]}}))},!1);var h,p,f,g,v,y,m,x,b,w,E,_,T,N=function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},C=function(t,e,n,i){return(n-t)*(n-t)+(i-e)*(i-e)};e.registerBinding(e.data.container,"touchstart",function(i){clearTimeout(this.threeFingerSelectTimeout),i.target!==e.data.link&&i.preventDefault(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.data.cy,a=e.getCachedNodes(),s=e.getCachedEdges(),l=e.touchData.now,u=e.touchData.earlier,c=e.data.canvasNeedsRedraw;if(i.touches[0]){var d=e.projectIntoViewport(i.touches[0].clientX,i.touches[0].clientY);l[0]=d[0],l[1]=d[1]}if(i.touches[1]){var d=e.projectIntoViewport(i.touches[1].clientX,i.touches[1].clientY);l[2]=d[0],l[3]=d[1]}if(i.touches[2]){var d=e.projectIntoViewport(i.touches[2].clientX,i.touches[2].clientY);l[4]=d[0],l[5]=d[1]}if(i.touches[1]){var D=function(t){for(var e=0;e<t.length;e++)t[e]._private.grabbed=!1,t[e]._private.rscratch.inDragLayer=!1,t[e].active()&&t[e].unactivate()};D(a),D(s);var S=e.findContainerClientCoords();b=S[0],w=S[1],E=S[2],_=S[3],h=i.touches[0].clientX-b,p=i.touches[0].clientY-w,f=i.touches[1].clientX-b,g=i.touches[1].clientY-w,T=h>=0&&E>=h&&f>=0&&E>=f&&p>=0&&_>=p&&g>=0&&_>=g;var k=r.pan(),L=r.zoom();v=N(h,p,f,g),y=C(h,p,f,g),m=[(h+f)/2,(p+g)/2],x=[(m[0]-k.x)/L,(m[1]-k.y)/L];var M=200,P=M*M;if(P>y&&!i.touches[2]){var A=e.findNearestElement(l[0],l[1],!0,!0),I=e.findNearestElement(l[2],l[3],!0,!0);return A&&A.isNode()?(A.activate().trigger(new t.Event(i,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),e.touchData.start=A):I&&I.isNode()?(I.activate().trigger(new t.Event(i,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),e.touchData.start=I):(r.trigger(new t.Event(i,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),e.touchData.start=null),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(i.touches[2]);else if(i.touches[1]);else if(i.touches[0]){var O=e.findNearestElement(l[0],l[1],!0,!0);if(null!=O){if(O.activate(),e.touchData.start=O,O.isNode()&&e.nodeIsDraggable(O)){var R=e.dragData.touchDragEles=[];if(c[n.NODE]=!0,c[n.DRAG]=!0,O.selected())for(var B=r.$(function(){return this.isNode()&&this.selected()}),F=0;F<B.length;F++){var j=B[F];e.nodeIsDraggable(j)&&o(j,{addToList:R})}else o(O,{addToList:R});O.trigger(new t.Event(i,{type:"grab",cyPosition:{x:l[0],y:l[1]}}))}O.trigger(new t.Event(i,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new t.Event(i,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new t.Event(i,{type:"vmousdown",cyPosition:{x:l[0],y:l[1]}}))}null==O&&(r.trigger(new t.Event(i,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new t.Event(i,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new t.Event(i,{type:"vmousedown",cyPosition:{x:l[0],y:l[1]}})),e.data.bgActivePosistion={x:d[0],y:d[1]},c[n.SELECT_BOX]=!0,e.redraw());for(var z=0;z<l.length;z++)u[z]=l[z],e.touchData.startPosition[z]=l[z];e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved!==!1||e.pinching||(e.touchData.start?e.touchData.start.trigger(new t.Event(i,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})):(e.data.cy.trigger(new t.Event(i,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})),r.$(":selected").unselect()))},e.tapholdDuration)}},!1),e.registerBinding(window,"touchmove",t.util.throttle(function(i){var r=e.data.select,a=e.touchData.capture;a&&i.preventDefault();var s=e.data.cy,l=e.touchData.now,u=e.touchData.earlier,c=s.zoom(),d=e.data.canvasNeedsRedraw;if(i.touches[0]){var m=e.projectIntoViewport(i.touches[0].clientX,i.touches[0].clientY);l[0]=m[0],l[1]=m[1]}if(i.touches[1]){var m=e.projectIntoViewport(i.touches[1].clientX,i.touches[1].clientY);l[2]=m[0],l[3]=m[1]}if(i.touches[2]){var m=e.projectIntoViewport(i.touches[2].clientX,i.touches[2].clientY);l[4]=m[0],l[5]=m[1]}for(var E=[],_=0;_<l.length;_++)E[_]=l[_]-u[_];var D=e.touchData.startPosition,S=l[0]-D[0],k=S*S,L=l[1]-D[1],M=L*L,P=k+M,A=P*c*c;if(a&&e.touchData.cxt){var I=i.touches[0].clientX-b,O=i.touches[0].clientY-w,R=i.touches[1].clientX-b,B=i.touches[1].clientY-w,F=C(I,O,R,B),j=F/y,z=150,q=z*z,X=1.5,Y=X*X;if(j>=Y||F>=q){e.touchData.cxt=!1,e.touchData.start&&(e.touchData.start.unactivate(),e.touchData.start=null),e.data.bgActivePosistion=void 0,d[n.SELECT_BOX]=!0;var V=new t.Event(i,{type:"cxttapend",cyPosition:{x:l[0],y:l[1]}});e.touchData.start?e.touchData.start.trigger(V):s.trigger(V)}}if(a&&e.touchData.cxt){var V=new t.Event(i,{type:"cxtdrag",cyPosition:{x:l[0],y:l[1]}});e.data.bgActivePosistion=void 0,d[n.SELECT_BOX]=!0,e.touchData.start?e.touchData.start.trigger(V):s.trigger(V),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var H=e.findNearestElement(l[0],l[1],!0,!0);e.touchData.cxtOver&&H===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.trigger(new t.Event(i,{type:"cxtdragout",cyPosition:{x:l[0],y:l[1]}})),e.touchData.cxtOver=H,H&&H.trigger(new t.Event(i,{type:"cxtdragover",cyPosition:{x:l[0],y:l[1]}})))}else if(a&&i.touches[2]&&s.boxSelectionEnabled())e.data.bgActivePosistion=void 0,clearTimeout(this.threeFingerSelectTimeout),this.lastThreeTouch=+new Date,e.touchData.selecting=!0,d[n.SELECT_BOX]=!0,r&&0!==r.length&&void 0!==r[0]?(r[2]=(l[0]+l[2]+l[4])/3,r[3]=(l[1]+l[3]+l[5])/3):(r[0]=(l[0]+l[2]+l[4])/3,r[1]=(l[1]+l[3]+l[5])/3,r[2]=(l[0]+l[2]+l[4])/3+1,r[3]=(l[1]+l[3]+l[5])/3+1),r[4]=1,e.touchData.selecting=!0,e.redraw();else if(a&&i.touches[1]&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){e.data.bgActivePosistion=void 0,d[n.SELECT_BOX]=!0;var G=e.dragData.touchDragEles;if(G){d[n.DRAG]=!0;for(var U=0;U<G.length;U++)G[U]._private.grabbed=!1,G[U]._private.rscratch.inDragLayer=!1}var I=i.touches[0].clientX-b,O=i.touches[0].clientY-w,R=i.touches[1].clientX-b,B=i.touches[1].clientY-w,W=N(I,O,R,B),$=W/v;if(1!=$&&T){var Z=I-h,K=O-p,Q=R-f,J=B-g,tt=(Z+Q)/2,et=(K+J)/2,nt=s.zoom(),it=nt*$,rt=s.pan(),ot=x[0]*nt+rt.x,at=x[1]*nt+rt.y,st={x:-it/nt*(ot-rt.x-tt)+ot,y:-it/nt*(at-rt.y-et)+at};if(e.touchData.start){var G=e.dragData.touchDragEles;if(G)for(var U=0;U<G.length;U++){var lt=G[U]._private;lt.grabbed=!1,lt.rscratch.inDragLayer=!1}var ut=e.touchData.start._private;ut.active=!1,ut.grabbed=!1,ut.rscratch.inDragLayer=!1,d[n.DRAG]=!0,e.touchData.start.trigger("free").trigger("unactivate")}s.viewport({zoom:it,pan:st,cancelOnFailedZoom:!0}),v=W,h=I,p=O,f=R,g=B,e.pinching=!0}if(i.touches[0]){var m=e.projectIntoViewport(i.touches[0].clientX,i.touches[0].clientY);l[0]=m[0],l[1]=m[1]}if(i.touches[1]){var m=e.projectIntoViewport(i.touches[1].clientX,i.touches[1].clientY);l[2]=m[0],l[3]=m[1]}if(i.touches[2]){var m=e.projectIntoViewport(i.touches[2].clientX,i.touches[2].clientY);l[4]=m[0],l[5]=m[1]}}else if(i.touches[0]){var ct=e.touchData.start,dt=e.touchData.last,H=H||e.findNearestElement(l[0],l[1],!0,!0);if(null!=ct&&"nodes"==ct._private.group&&e.nodeIsDraggable(ct))if(A>=e.touchTapThreshold2){for(var G=e.dragData.touchDragEles,ht=0;ht<G.length;ht++){var pt=G[ht];if(e.nodeIsDraggable(pt)&&pt.isNode()&&pt.grabbed()){e.dragData.didDrag=!0;var ft=pt._private.position,gt=!e.hoverData.draggingEles;if(t.is.number(E[0])&&t.is.number(E[1])&&(ft.x+=E[0],ft.y+=E[1]),gt){o(pt,{inDragLayer:!0}),d[n.NODE]=!0;var vt=e.touchData.dragDelta;t.is.number(vt[0])&&t.is.number(vt[1])&&(ft.x+=vt[0],ft.y+=vt[1])}}}var yt=new t.Collection(s,pt);yt.updateCompoundBounds(),yt.trigger("position drag"),e.hoverData.draggingEles=!0,d[n.DRAG]=!0,e.touchData.startPosition[0]==u[0]&&e.touchData.startPosition[1]==u[1]&&(d[n.NODE]=!0),e.redraw()}else{var vt=e.touchData.dragDelta=e.touchData.dragDelta||[];0===vt.length?(vt.push(E[0]),vt.push(E[1])):(vt[0]+=E[0],vt[1]+=E[1])}null!=ct&&(ct.trigger(new t.Event(i,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),ct.trigger(new t.Event(i,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),ct.trigger(new t.Event(i,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))),null==ct&&(null!=H&&(H.trigger(new t.Event(i,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),H.trigger(new t.Event(i,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),H.trigger(new t.Event(i,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))),null==H&&(s.trigger(new t.Event(i,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),s.trigger(new t.Event(i,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),s.trigger(new t.Event(i,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}})))),H!=dt&&(dt&&dt.trigger(new t.Event(i,{type:"tapdragout",cyPosition:{x:l[0],y:l[1]}})),H&&H.trigger(new t.Event(i,{type:"tapdragover",cyPosition:{x:l[0],y:l[1]}}))),e.touchData.last=H;for(var U=0;U<l.length;U++)l[U]&&e.touchData.startPosition[U]&&Math.abs(l[U]-e.touchData.startPosition[U])>4&&(e.touchData.singleTouchMoved=!0);if(a&&(null==ct||ct.isEdge())&&s.panningEnabled()&&s.userPanningEnabled()){
e.swipePanning?s.panBy({x:E[0]*c,y:E[1]*c}):A>=e.touchTapThreshold2&&(e.swipePanning=!0,s.panBy({x:S*c,y:L*c})),ct&&(ct.unactivate(),e.data.bgActivePosistion||(e.data.bgActivePosistion={x:l[0],y:l[1]}),d[n.SELECT_BOX]=!0,e.touchData.start=null);var m=e.projectIntoViewport(i.touches[0].clientX,i.touches[0].clientY);l[0]=m[0],l[1]=m[1]}}for(var _=0;_<l.length;_++)u[_]=l[_]},1e3/30,{trailing:!0}),!1),e.registerBinding(window,"touchcancel",function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",function(i){var r=e.touchData.start,o=e.touchData.capture;if(o){e.touchData.capture=!1,i.preventDefault();var s=e.data.select;e.swipePanning=!1,e.hoverData.draggingEles=!1;var l=e.data.cy,u=l.zoom(),c=e.touchData.now,d=e.touchData.earlier,h=e.data.canvasNeedsRedraw;if(i.touches[0]){var p=e.projectIntoViewport(i.touches[0].clientX,i.touches[0].clientY);c[0]=p[0],c[1]=p[1]}if(i.touches[1]){var p=e.projectIntoViewport(i.touches[1].clientX,i.touches[1].clientY);c[2]=p[0],c[3]=p[1]}if(i.touches[2]){var p=e.projectIntoViewport(i.touches[2].clientX,i.touches[2].clientY);c[4]=p[0],c[5]=p[1]}r&&r.unactivate();var f;if(e.touchData.cxt){if(f=new t.Event(i,{type:"cxttapend",cyPosition:{x:c[0],y:c[1]}}),r?r.trigger(f):l.trigger(f),!e.touchData.cxtDragged){var g=new t.Event(i,{type:"cxttap",cyPosition:{x:c[0],y:c[1]}});r?r.trigger(g):l.trigger(g)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!i.touches[2]&&l.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1,clearTimeout(this.threeFingerSelectTimeout);var v=[],y=e.getAllInBox(s[0],s[1],s[2],s[3]);s[0]=void 0,s[1]=void 0,s[2]=void 0,s[3]=void 0,s[4]=0,h[n.SELECT_BOX]=!0;for(var m=0;m<y.length;m++)y[m]._private.selectable&&v.push(y[m]);var x=new t.Collection(l,v);"single"===l.selectionType()&&l.$(":selected").unmerge(x).unselect(),x.select(),x.length>0?h[n.NODE]=!0:e.redraw()}var b=!1;if(null!=r&&(r._private.active=!1,b=!0,r.unactivate()),i.touches[2])e.data.bgActivePosistion=void 0,h[n.SELECT_BOX]=!0;else if(i.touches[1]);else if(i.touches[0]);else if(!i.touches[0]){e.data.bgActivePosistion=void 0,h[n.SELECT_BOX]=!0;var w=e.dragData.touchDragEles;if(null!=r){var E=r._private.grabbed;a(w),h[n.DRAG]=!0,h[n.NODE]=!0,E&&r.trigger("free"),r.trigger(new t.Event(i,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(i,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(i,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}})),r.unactivate(),e.touchData.start=null}else{var _=e.findNearestElement(c[0],c[1],!0,!0);null!=_&&_.trigger(new t.Event(i,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(i,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(i,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}})),null==_&&l.trigger(new t.Event(i,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(i,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(i,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}}))}var T=e.touchData.startPosition[0]-c[0],N=T*T,C=e.touchData.startPosition[1]-c[1],D=C*C,S=N+D,k=S*u*u;null!=r&&!e.dragData.didDrag&&r._private.selectable&&k<e.touchTapThreshold2&&!e.pinching&&("single"===l.selectionType()?(l.$(":selected").unmerge(r).unselect(),r.select()):r.selected()?r.unselect():r.select(),b=!0,h[n.NODE]=!0),e.touchData.singleTouchMoved===!1&&(r?r.trigger(new t.Event(i,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(i,{type:"vclick",cyPosition:{x:c[0],y:c[1]}})):l.trigger(new t.Event(i,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(i,{type:"vclick",cyPosition:{x:c[0],y:c[1]}}))),e.touchData.singleTouchMoved=!0}for(var L=0;L<c.length;L++)d[L]=c[L];e.dragData.didDrag=!1,0===i.touches.length&&(e.touchData.dragDelta=[]),b&&r&&r.updateStyle(!1),i.touches.length<2&&(e.pinching=!1,h[n.NODE]=!0,e.redraw())}},!1)}}(cytoscape),function(t){"use strict";function e(e,n){o[e]={points:n,draw:function(t,n,r,a,s){i.drawPolygon(t,n,r,a,s,o[e].points)},drawPath:function(t,n,r,a,s){i.drawPolygonPath(t,n,r,a,s,o[e].points)},intersectLine:function(n,i,r,a,s,l,u){return t.math.polygonIntersectLine(s,l,o[e].points,n,i,r/2,a/2,u)},intersectBox:function(n,i,r,a,s,l,u,c,d){var h=o[e].points;return t.math.boxIntersectPolygon(n,i,r,a,h,s,l,u,c,[0,-1],d)},checkPoint:function(n,i,r,a,s,l,u){return t.math.pointInsidePolygon(n,i,o[e].points,l,u,a,s,[0,-1],r)}}}for(var n=t("renderer","canvas"),i=n.prototype,r=n.usePaths(),o=n.nodeShapes={},a=Math.sin(0),s=Math.cos(0),l={},u={},c=.1,d=0*Math.PI;d<2*Math.PI;d+=c)l[d]=Math.sin(d),u[d]=Math.cos(d);o.ellipse={draw:function(t,e,n,i,r){o.ellipse.drawPath(t,e,n,i,r),t.fill()},drawPath:function(t,e,n,i,o){if(r){t.beginPath&&t.beginPath();for(var d,h,p=i/2,f=o/2,g=0*Math.PI;g<2*Math.PI;g+=c)d=e-p*l[g]*a+p*u[g]*s,h=n+f*u[g]*a+f*l[g]*s,0===g?t.moveTo(d,h):t.lineTo(d,h);t.closePath()}else t.beginPath&&t.beginPath(),t.translate(e,n),t.scale(i/2,o/2),t.arc(0,0,1,0,2*Math.PI*.999,!1),t.closePath(),t.scale(2/i,2/o),t.translate(-e,-n)},intersectLine:function(e,n,i,r,o,a,s){var l=t.math.intersectLineEllipse(o,a,e,n,i/2+s,r/2+s);return l},intersectBox:function(e,n,i,r,o,a,s,l,u){return t.math.boxIntersectEllipse(e,n,i,r,u,o,a,s,l)},checkPoint:function(t,e,n,i,r,o,a){return t-=o,e-=a,t/=i/2+n,e/=r/2+n,Math.pow(t,2)+Math.pow(e,2)<=1}},e("triangle",t.math.generateUnitNgonPointsFitToSquare(3,0)),e("square",t.math.generateUnitNgonPointsFitToSquare(4,0)),o.rectangle=o.square,o.roundrectangle={points:t.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(t,e,n,r,o){i.drawRoundRectangle(t,e,n,r,o,10)},drawPath:function(t,e,n,r,o){i.drawRoundRectanglePath(t,e,n,r,o,10)},intersectLine:function(e,n,i,r,o,a,s){return t.math.roundRectangleIntersectLine(o,a,e,n,i,r,s)},intersectBox:function(e,n,i,r,o,a,s,l,u){return t.math.roundRectangleIntersectBox(e,n,i,r,o,a,s,l,u)},checkPoint:function(e,n,i,r,a,s,l){var u=t.math.getRoundRectangleRadius(r,a);if(t.math.pointInsidePolygon(e,n,o.roundrectangle.points,s,l,r,a-2*u,[0,-1],i))return!0;if(t.math.pointInsidePolygon(e,n,o.roundrectangle.points,s,l,r-2*u,a,[0,-1],i))return!0;var c=function(t,e,n,i,r,o,a){return t-=n,e-=i,t/=r/2+a,e/=o/2+a,Math.pow(t,2)+Math.pow(e,2)<=1};return!!c(e,n,s-r/2+u,l-a/2+u,2*u,2*u,i)||(!!c(e,n,s+r/2-u,l-a/2+u,2*u,2*u,i)||(!!c(e,n,s+r/2-u,l+a/2-u,2*u,2*u,i)||!!c(e,n,s-r/2+u,l+a/2-u,2*u,2*u,i)))}},e("diamond",[0,1,1,0,0,-1,-1,0]),e("pentagon",t.math.generateUnitNgonPointsFitToSquare(5,0)),e("hexagon",t.math.generateUnitNgonPointsFitToSquare(6,0)),e("heptagon",t.math.generateUnitNgonPointsFitToSquare(7,0)),e("octagon",t.math.generateUnitNgonPointsFitToSquare(8,0));var h=new Array(20),p=t.math.generateUnitNgonPoints(5,0),f=t.math.generateUnitNgonPoints(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var d=0;d<f.length/2;d++)f[2*d]*=g,f[2*d+1]*=g;for(var d=0;5>d;d++)h[4*d]=p[2*d],h[4*d+1]=p[2*d+1],h[4*d+2]=f[2*d],h[4*d+3]=f[2*d+1];h=t.math.fitPolygonToSquare(h),e("star",h),e("vee",[-1,-1,0,-.333,1,-1,0,1]),e("rhomboid",[-1,-1,.333,-1,1,1,-.333,1])}(cytoscape),function(t){"use strict";function e(e){this._private={},this._private.options=t.util.extend({},n,e)}var n={animate:!0,maxSimulationTime:4e3,fit:!0,padding:30,boundingBox:void 0,ungrabifyWhileSimulating:!1,ready:void 0,stop:void 0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:.1,stableEnergy:function(t){var e=t;return e.max<=.5||e.mean<=.3},infinite:!1};e.prototype.run=function(){var e=this,n=this._private.options;return t.util.require("arbor",function(i){function r(t,e){return null==e?void 0:"function"==typeof e?e.apply(t,[t._private.data,{nodes:u.length,edges:c.length,element:t}]):e}function o(t){if(!t.isFullAutoParent()){var e=t._private.data.id,i=r(t,n.nodeMass),o=t._private.locked,a=t.position(),s=p.fromScreen({x:a.x,y:a.y});t.scratch().arbor=p.addNode(e,{element:t,mass:i,fixed:o,x:o&&s?s.x:void 0,y:o&&s?s.y:void 0})}}function a(t){var e=t.source().id(),i=t.target().id(),o=r(t,n.edgeLength);t.scratch().arbor=p.addEdge(e,i,{length:o})}var s=n.cy,l=n.eles,u=l.nodes().not(":parent"),c=l.edges(),d=t.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),h=!1;if(e.trigger({type:"layoutstart",layout:e}),void 0!==n.liveUpdate&&(n.animate=n.liveUpdate),l.nodes().size()<=1)return n.fit&&s.reset(),l.nodes().position({x:Math.round((d.x1+d.x2)/2),y:Math.round((d.y1+d.y2)/2)}),e.one("layoutready",n.ready),e.trigger({type:"layoutready",layout:e}),e.one("layoutstop",n.stop),void e.trigger({type:"layoutstop",layout:e});var p=e._private.system=i.ParticleSystem();p.parameters({repulsion:n.repulsion,stiffness:n.stiffness,friction:n.friction,gravity:n.gravity,fps:n.fps,dt:n.dt,precision:n.precision}),n.animate&&n.fit&&s.fit(d,n.padding);var f,g=250,v=!1,y=+new Date,m={init:function(t){},redraw:function(){var t=p.energy();if(!n.infinite&&null!=n.stableEnergy&&null!=t&&t.n>0&&n.stableEnergy(t))return void e.stop();n.infinite||g==1/0||(clearTimeout(f),f=setTimeout(N,g));var i=s.collection();p.eachNode(function(t,e){var n=t.data,r=n.element;null!=r&&(r.locked()||r.grabbed()||(r.silentPosition({x:d.x1+e.x,y:d.y1+e.y}),i.merge(r)))}),n.animate&&i.length>0&&(h=!0,i.rtrigger("position"),n.fit&&s.fit(n.padding),y=+new Date,h=!1),v||(v=!0,e.one("layoutready",n.ready),e.trigger({type:"layoutready",layout:e}))}};p.renderer=m,p.screenSize(d.w,d.h),p.screenPadding(n.padding,n.padding,n.padding,n.padding),p.screenStep(n.stepSize);var x;u.on("grab free position",x=function(t){if(!h){var e=this.position(),r=p.fromScreen(e);if(r){var o=i.Point(r.x,r.y),a=n.padding;switch(d.x1+a<=e.x&&e.x<=d.x2-a&&d.y1+a<=e.y&&e.y<=d.y2-a&&(this.scratch().arbor.p=o),t.type){case"grab":this.scratch().arbor.fixed=!0;break;case"free":this.scratch().arbor.fixed=!1}}}});var b;u.on("lock unlock",b=function(t){node.scratch().arbor.fixed=node.locked()});var w;l.on("remove",w=function(t){});var E;s.on("add","*",E=function(){});var _;s.on("resize",_=function(){if(null==n.boundingBox&&null!=e._private.system){var t=s.width(),i=s.height();p.screenSize(t,i)}}),u.each(function(t,e){o(e)}),c.each(function(t,e){a(e)});var T=u.filter(":grabbable");n.ungrabifyWhileSimulating&&T.ungrabify();var N=e._private.doneHandler=function(){e._private.doneHandler=null,n.animate||(n.fit&&s.reset(),u.rtrigger("position")),u.off("grab free position",x),u.off("lock unlock",b),l.off("remove",w),s.off("add","*",E),s.off("resize",_),n.ungrabifyWhileSimulating&&T.grabify(),e.one("layoutstop",n.stop),e.trigger({type:"layoutstop",layout:e})};p.start(),!n.infinite&&null!=n.maxSimulationTime&&n.maxSimulationTime>0&&n.maxSimulationTime!==1/0&&setTimeout(function(){e.stop()},n.maxSimulationTime)}),this},e.prototype.stop=function(){return null!=this._private.system&&this._private.system.stop(),this._private.doneHandler&&this._private.doneHandler(),this},t("layout","arbor",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend({},n,e)}var n={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){var e,n=this.options,i=n,r=n.cy,o=i.eles,a=o.nodes().not(":parent"),s=o,l=t.util.makeBoundingBox(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(t.is.elementOrCollection(i.roots))e=i.roots;else if(t.is.array(i.roots)){for(var u=[],c=0;c<i.roots.length;c++){var d=i.roots[c],h=r.getElementById(d);u.push(h)}e=new t.Collection(r,u)}else if(t.is.string(i.roots))e=r.$(i.roots);else if(i.directed)e=a.roots();else{for(var p=[],f=a;f.length>0;){var g=r.collection();o.bfs({roots:f[0],visit:function(t,e,n,i,r){g=g.add(n)},directed:!1}),f=f.not(g),p.push(g)}e=r.collection();for(var c=0;c<p.length;c++){var v=p[c],y=v.maxDegree(!1),m=v.filter(function(){return this.degree(!1)===y});e=e.add(m)}}var x=[],b={},w={},E={},_={},T={};s.bfs({roots:e,directed:i.directed,visit:function(t,e,n,i,r){var o=this[0],a=o.id();if(x[e]||(x[e]=[]),x[e].push(o),b[a]=!0,w[a]=e,E[a]=r,_[a]=i,r){var s=r.id(),l=T[s]=T[s]||[];l.push(n)}}});for(var N=[],c=0;c<a.length;c++){var h=a[c];b[h.id()]||N.push(h)}for(var C=3*N.length,D=0;0!==N.length&&C>D;){for(var S=N.shift(),k=S.neighborhood().nodes(),L=!1,c=0;c<k.length;c++){var M=w[k[c].id()];if(void 0!==M){x[M].push(S),L=!0;break}}L||N.push(S),D++}for(;0!==N.length;){var S=N.shift(),L=!1;L||(0===x.length&&x.push([]),x[0].push(S))}var P=function(){for(var t=0;t<x.length;t++)for(var e=x[t],n=0;n<e.length;n++){var i=e[n];i._private.scratch.breadthfirst={depth:t,index:n}}};P();for(var A=function(t){for(var e,n=t.connectedEdges(function(){return this.data("target")===t.id()}),i=t._private.scratch.breadthfirst,r=0,o=0;o<n.length;o++){var a=n[o],s=a.source()[0],l=s._private.scratch.breadthfirst;i.depth<=l.depth&&r<l.depth&&(r=l.depth,e=s)}return e},I=0;I<i.maximalAdjustments;I++){for(var O=x.length,R=[],c=0;O>c;c++)for(var M=x[c],B=M.length,F=0;B>F;F++){var h=M[F],j=h._private.scratch.breadthfirst,z=A(h);z&&(j.intEle=z,R.push(h))}for(var c=0;c<R.length;c++){var h=R[c],j=h._private.scratch.breadthfirst,z=j.intEle,q=z._private.scratch.breadthfirst;x[j.depth].splice(j.index,1);for(var X=q.depth+1;X>x.length-1;)x.push([]);x[X].push(h),j.depth=X,j.index=x[X].length-1}P()}var Y=0;if(i.avoidOverlap){for(var c=0;c<a.length;c++){var V=a[c].outerWidth(),H=a[c].outerHeight();Y=Math.max(Y,V,H)}Y*=i.spacingFactor}for(var G={},U=function(t){if(G[t.id()])return G[t.id()];for(var e=t._private.scratch.breadthfirst.depth,n=t.neighborhood().nodes().not(":parent"),i=0,r=0,o=0;o<n.length;o++){var a=n[o],s=a._private.scratch.breadthfirst,l=s.index,u=s.depth,c=x[u].length;(e>u||0===e)&&(i+=l/c,r++)}return r=Math.max(1,r),i/=r,0===r&&(i=void 0),G[t.id()]=i,i},W=function(t,e){var n=U(t),i=U(e);return n-i},$=0;3>$;$++){for(var c=0;c<x.length;c++)x[c]=x[c].sort(W);P()}for(var Z=0,c=0;c<x.length;c++)Z=Math.max(x[c].length,Z);for(var K={x:l.x1+l.w/2,y:l.x1+l.h/2},Q=function(t,e){var n=t._private.scratch.breadthfirst,r=n.depth,o=n.index,a=x[r].length,s=Math.max(l.w/(a+1),Y),u=Math.max(l.h/(x.length+1),Y),c=Math.min(l.w/2/x.length,l.h/2/x.length);if(c=Math.max(c,Y),i.circle){if(i.circle){var d=c*r+c-(x.length>0&&x[0].length<=3?c/2:0),h=2*Math.PI/x[r].length*o;return 0===r&&1===x[0].length&&(d=1),{x:K.x+d*Math.cos(h),y:K.y+d*Math.sin(h)}}return{x:K.x+(o+1-(a+1)/2)*s,y:(r+1)*u}}var p={x:K.x+(o+1-(a+1)/2)*s,y:(r+1)*u};return e?p:p},J={},c=x.length-1;c>=0;c--)for(var M=x[c],F=0;F<M.length;F++){var S=M[F];J[S.id()]=Q(S,c===x.length-1)}return a.layoutPositions(this,i,function(){return J[this.id()]}),this},t("layout","breadthfirst",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend({},n,e)}var n={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,counterclockwise:!1,sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){var e=this.options,n=e,i=e.cy,r=n.eles,o=r.nodes().not(":parent");n.sort&&(o=o.sort(n.sort));for(var a,s=t.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=n.startAngle,c=2*Math.PI/o.length,d=0,h=0;h<o.length;h++){var p=o[h].outerWidth(),f=o[h].outerHeight();d=Math.max(d,p,f)}if(a=t.is.number(n.radius)?n.radius:o.length<=1?0:Math.min(s.h,s.w)/2-d,o.length>1&&n.avoidOverlap){d*=1.75;var c=2*Math.PI/o.length,g=Math.cos(c)-Math.cos(0),v=Math.sin(c)-Math.sin(0),y=Math.sqrt(d*d/(g*g+v*v));a=Math.max(y,a)}var m=function(t,e){var i=a*Math.cos(u),r=a*Math.sin(u),o={x:l.x+i,y:l.y+r};return u=n.counterclockwise?u-c:u+c,o};return o.layoutPositions(this,n,m),this},t("layout","circle",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(t){return 10},flow:void 0,alignment:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};e.prototype.run=function(){var e=this,n=this.options;return e.manuallyStopped=!1,t.util.require("cola",function(i){var r=n.cy,o=n.eles,a=o.nodes(),s=o.edges(),l=!1,u=t.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c=function(e,n){if(t.is.fn(e)){var i=e;return i.apply(n,[n])}return e},d=function(){for(var e={min:1/0,max:-(1/0)},i={min:1/0,max:-(1/0)},o=0;o<a.length;o++){var s=a[o],d=s._private.scratch.cola;if(e.min=Math.min(e.min,d.x||0),e.max=Math.max(e.max,d.x||0),i.min=Math.min(i.min,d.y||0),i.max=Math.max(i.max,d.y||0),!d.updatedDims){var h=s.boundingBox(),f=c(n.nodeSpacing,s);d.width=h.w+2*f,d.height=h.h+2*f}}a.positions(function(n,r){var o,a=r._private.scratch.cola;return r.grabbed()||r.isParent()||(o={x:u.x1+a.x-e.min,y:u.y1+a.y-i.min},t.is.number(o.x)&&t.is.number(o.y)||(o=void 0)),o}),a.updateCompoundBounds(),l||(p(),l=!0),n.fit&&r.fit(n.padding)},h=function(){n.ungrabifyWhileSimulating&&y.grabify(),a.off("grab free position",m),a.off("lock unlock",x),e.one("layoutstop",n.stop),e.trigger({type:"layoutstop",layout:e})},p=function(){e.one("layoutready",n.ready),e.trigger({type:"layoutready",layout:e})},f=n.refresh,g=1;n.refresh<0?(g=Math.abs(n.refresh),f=1):f=Math.max(1,f);var v=e.adaptor=i.adaptor({trigger:function(t){var e=i.EventType?i.EventType.tick:null,r=i.EventType?i.EventType.end:null;switch(t.type){case"tick":case e:n.animate&&d();break;case"end":case r:d(),n.infinite||h()}},kick:function(){var i=function(){if(e.manuallyStopped)return h(),!0;var t=v.tick();return t&&n.infinite&&v.resume(),t},r=function(){for(var t,e=0;f>e&&!t;e++)t=t||i();return t};if(n.animate){var o=function(){r()||t.util.requestAnimationFrame(o)};t.util.requestAnimationFrame(o)}else for(;!i(););},on:function(t,e){},drag:function(){}});e.adaptor=v;var y=a.filter(":grabbable");n.ungrabifyWhileSimulating&&y.ungrabify();var m;a.on("grab free position",m=function(t){var e=this,n=e._private.scratch.cola,i=e._private.position;switch(n.x=i.x-u.x1,n.y=i.y-u.y1,t.type){case"grab":v.dragstart(n),v.resume();break;case"free":v.dragend(n)}});var x;a.on("lock unlock",x=function(t){var e=this,n=e._private.scratch.cola;e.locked()?v.dragstart(n):v.dragend(n)});var b=a.stdFilter(function(t){return!t.isParent()});if(v.nodes(b.map(function(t,e){var i=c(n.nodeSpacing,t),r=t.position(),o=t.boundingBox(),a=t._private.scratch.cola={x:n.randomize||void 0===r.x?Math.round(Math.random()*u.w):r.x,y:n.randomize||void 0===r.y?Math.round(Math.random()*u.h):r.y,width:o.w+2*i,height:o.h+2*i,index:e};return a})),n.alignment){var w=[],E=[];b.forEach(function(t){var e=c(n.alignment,t),i=t._private.scratch.cola,r=i.index;e&&(null!=e.x&&w.push({node:r,offset:e.x}),null!=e.y&&E.push({node:r,offset:e.y}))});var _=[];w.length>0&&_.push({type:"alignment",axis:"x",offsets:w}),E.length>0&&_.push({type:"alignment",axis:"y",offsets:E}),v.constraints(_)}v.groups(a.stdFilter(function(t){return t.isParent()}).map(function(t,e){var i=t._private.style,r=c(n.nodeSpacing,t),o=i["padding-left"].pxValue+r,a=i["padding-right"].pxValue+r,s=i["padding-top"].pxValue+r,l=i["padding-bottom"].pxValue+r;return t._private.scratch.cola={index:e,padding:Math.max(o,a,s,l),leaves:t.descendants().stdFilter(function(t){return!t.isParent()}).map(function(t){return t[0]._private.scratch.cola.index})},t}).map(function(t){return t._private.scratch.cola.groups=t.descendants().stdFilter(function(t){return t.isParent()}).map(function(t){return t._private.scratch.cola.index}),t._private.scratch.cola}));var T,N;null!=n.edgeLength?(T=n.edgeLength,N="linkDistance"):null!=n.edgeSymDiffLength?(T=n.edgeSymDiffLength,N="symmetricDiffLinkLengths"):null!=n.edgeJaccardLength?(T=n.edgeJaccardLength,N="jaccardLinkLengths"):(T=100,N="linkDistance");var C=function(t){return t.calcLength};if(v.links(s.stdFilter(function(t){return!t.source().isParent()&&!t.target().isParent()}).map(function(t,e){var n=t._private.scratch.cola={source:t.source()[0]._private.scratch.cola.index,target:t.target()[0]._private.scratch.cola.index};return null!=T&&(n.calcLength=c(T,t)),n})),v.size([u.w,u.h]),null!=T&&v[N](C),n.flow){var D,S="y",k=50;t.is.string(n.flow)?D={axis:n.flow,minSeparation:k}:t.is.number(n.flow)?D={axis:S,minSeparation:n.flow}:t.is.plainObject(n.flow)?(D=n.flow,D.axis=D.axis||S,D.minSeparation=null!=D.minSeparation?D.minSeparation:k):D={axis:S,minSeparation:k},v.flowLayout(D.axis,D.minSeparation)}e.trigger({type:"layoutstart",layout:e}),v.avoidOverlaps(n.avoidOverlap).handleDisconnected(n.handleDisconnected).start(n.unconstrIter,n.userConstIter,n.allConstIter),n.infinite||setTimeout(function(){e.manuallyStopped||v.stop()},n.maxSimulationTime)}),this},e.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},t("layout","cola",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend({},n,e)}var n={fit:!0,padding:30,startAngle:1.5*Math.PI,counterclockwise:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){for(var e=this.options,n=e,i=e.cy,r=n.eles,o=r.nodes().not(":parent"),a=t.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},l=[],u=n.startAngle,c=0,d=0;d<o.length;d++){var h,p=o[d];h=n.concentric.apply(p,[p]),l.push({value:h,node:p}),p._private.scratch.concentric=h}o.updateStyle();for(var d=0;d<o.length;d++){var p=o[d];c=Math.max(c,p.outerWidth(),p.outerHeight())}l.sort(function(t,e){return e.value-t.value});for(var f=n.levelWidth(o),g=[[]],v=g[0],d=0;d<l.length;d++){var y=l[d];if(v.length>0){var m=Math.abs(v[0].value-y.value);m>=f&&(v=[],g.push(v))}v.push(y)}var x={},b=0,w=c+n.minNodeSpacing;if(!n.avoidOverlap){var E=g.length>0&&g[0].length>1,_=Math.min(a.w,a.h)/2-w,T=_/(g.length+E?1:0);w=Math.min(w,T)}for(var d=0;d<g.length;d++){var N=g[d],C=2*Math.PI/N.length;if(N.length>1&&n.avoidOverlap){var D=Math.cos(C)-Math.cos(0),S=Math.sin(C)-Math.sin(0),k=Math.sqrt(w*w/(D*D+S*S));b=Math.max(k,b)}for(var L=0;L<N.length;L++){var y=N[L],u=n.startAngle+(n.counterclockwise?-1:1)*C*L,M={x:s.x+b*Math.cos(u),y:s.y+b*Math.sin(u)};x[y.node.id()]=M}b+=w}return o.layoutPositions(this,n,function(){var t=this.id();return x[t]}),this},t("layout","concentric",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend({},i,e)}var n,i={ready:function(){},stop:function(){},animate:!0,refresh:4,fit:!0,padding:30,boundingBox:void 0,randomize:!0,debug:!1,nodeRepulsion:4e5,nodeOverlap:10,idealEdgeLength:10,edgeElasticity:100,nestingFactor:5,gravity:250,numIter:100,initialTemp:200,coolingFactor:.95,minTemp:1};e.prototype.run=function(){var e=this.options,i=e.cy,o=this;o.stopped=!1,o.trigger({type:"layoutstart",layout:o}),n=!0===e.debug;var a=new Date,d=r(i,o,e);n&&s(d),!0===e.randomize&&l(d,i),m(d,i,e);var h=function(t){return!o.stopped&&(c(d,i,e,t),d.temperature=d.temperature*e.coolingFactor,!(d.temperature<e.minTemp))},p=function(){u(d,i,e),!0===e.fit&&i.fit(e.padding);var t=new Date;console.info("Layout took "+(t-a)+" ms"),o.one("layoutstop",e.stop),o.trigger({type:"layoutstop",layout:o})};if(e.animate){var f=0,g=function(){for(var n,r=0;r<e.refresh&&f<e.numIter;){var n=h(f);if(n===!1)break;r++,f++}u(d,i,e),e.fit&&i.fit(e.padding),n!==!1&&f+1<e.numIter?t.util.requestAnimationFrame(g):p()};t.util.requestAnimationFrame(g)}else{for(var f=0;f<e.numIter&&h(f)!==!1;f++);p()}return this},e.prototype.stop=function(){return this.stopped=!0,this};var r=function(e,n,i){for(var r=i.eles.edges(),a=i.eles.nodes(),s={layout:n,layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:i.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:t.util.makeBoundingBox(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},l=0;l<s.nodeSize;l++){var u={};u.id=a[l].data("id"),u.parentId=a[l].data("parent"),u.children=[],u.positionX=a[l].position("x"),u.positionY=a[l].position("y"),u.offsetX=0,u.offsetY=0,u.height=a[l].height(),u.width=a[l].width(),u.maxX=u.positionX+u.width/2,u.minX=u.positionX-u.width/2,u.maxY=u.positionY+u.height/2,u.minY=u.positionY-u.height/2,u.padLeft=a[l]._private.style["padding-left"].pxValue,u.padRight=a[l]._private.style["padding-right"].pxValue,u.padTop=a[l]._private.style["padding-top"].pxValue,u.padBottom=a[l]._private.style["padding-bottom"].pxValue,s.layoutNodes.push(u),s.idToIndex[u.id]=l}for(var c=[],d=0,h=-1,p=[],l=0;l<s.nodeSize;l++){var f=s.layoutNodes[l],g=f.parentId;null!=g?s.layoutNodes[s.idToIndex[g]].children.push(f.id):(c[++h]=f.id,p.push(f.id))}for(s.graphSet.push(p);h>=d;){var v=c[d++],y=s.idToIndex[v],m=s.layoutNodes[y],x=m.children;if(x.length>0){s.graphSet.push(x);for(var l=0;l<x.length;l++)c[++h]=x[l]}}for(var l=0;l<s.graphSet.length;l++)for(var b=s.graphSet[l],w=0;w<b.length;w++){var E=s.idToIndex[b[w]];s.indexToGraph[E]=l}for(var l=0;l<s.edgeSize;l++){var _=r[l],T={};T.id=_.data("id"),T.sourceId=_.data("source"),T.targetId=_.data("target");var N=i.idealEdgeLength,C=s.idToIndex[T.sourceId],D=s.idToIndex[T.targetId],S=s.indexToGraph[C],k=s.indexToGraph[D];if(S!=k){for(var L=o(T.sourceId,T.targetId,s),M=s.graphSet[L],P=0,u=s.layoutNodes[C];-1===$.inArray(u.id,M);)u=s.layoutNodes[s.idToIndex[u.parentId]],P++;for(u=s.layoutNodes[D];-1===$.inArray(u.id,M);)u=s.layoutNodes[s.idToIndex[u.parentId]],P++;N*=P*i.nestingFactor}T.idealLength=N,s.layoutEdges.push(T)}return s},o=function(t,e,n){var i=a(t,e,0,n);return 2>i.count?0:i.graph},a=function(t,e,n,i){var r=i.graphSet[n];if(-1<$.inArray(t,r)&&-1<$.inArray(e,r))return{count:2,graph:n};for(var o=0,s=0;s<r.length;s++){var l=r[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var d=i.indexToGraph[i.idToIndex[c[0]]],h=a(t,e,d,i);if(0!==h.count){if(1!==h.count)return h;if(o++,2===o)break}}}return{count:o,graph:n}},s=function(t){if(n){console.debug("layoutNodes:");for(var e=0;e<t.nodeSize;e++){var i=t.layoutNodes[e],r="\nindex: "+e+"\nId: "+i.id+"\nChildren: "+i.children.toString()+"\nparentId: "+i.parentId+"\npositionX: "+i.positionX+"\npositionY: "+i.positionY+"\nOffsetX: "+i.offsetX+"\nOffsetY: "+i.offsetY+"\npadLeft: "+i.padLeft+"\npadRight: "+i.padRight+"\npadTop: "+i.padTop+"\npadBottom: "+i.padBottom;console.debug(r)}console.debug("idToIndex");for(var e in t.idToIndex)console.debug("Id: "+e+"\nIndex: "+t.idToIndex[e]);console.debug("Graph Set");for(var o=t.graphSet,e=0;e<o.length;e++)console.debug("Set : "+e+": "+o[e].toString());for(var r="IndexToGraph",e=0;e<t.indexToGraph.length;e++)r+="\nIndex : "+e+" Graph: "+t.indexToGraph[e];console.debug(r),r="Layout Edges";for(var e=0;e<t.layoutEdges.length;e++){var a=t.layoutEdges[e];r+="\nEdge Index: "+e+" ID: "+a.id+" SouceID: "+a.sourceId+" TargetId: "+a.targetId+" Ideal Length: "+a.idealLength}console.debug(r),r="nodeSize: "+t.nodeSize,r+="\nedgeSize: "+t.edgeSize,r+="\ntemperature: "+t.temperature,console.debug(r)}},l=function(t,e){for(var n=t.clientWidth,i=t.clientHeight,r=0;r<t.nodeSize;r++){var o=t.layoutNodes[r];o.positionX=Math.random()*n,o.positionY=Math.random()*i}},u=function(t,e,n){var i=t.layout,r=n.eles.nodes(),o=t.boundingBox,a={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};n.boundingBox&&(r.forEach(function(e){var n=t.layoutNodes[t.idToIndex[e.data("id")]];a.x1=Math.min(a.x1,n.positionX),a.x2=Math.max(a.x2,n.positionX),a.y1=Math.min(a.y1,n.positionY),a.y2=Math.max(a.y2,n.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),r.positions(function(e,i){var r=t.layoutNodes[t.idToIndex[i.data("id")]];if(n.boundingBox){var s=(r.positionX-a.x1)/a.w,l=(r.positionY-a.y1)/a.h;return{x:o.x1+s*o.w,y:o.y1+l*o.h}}return{x:r.positionX,y:r.positionY}}),!0!==t.ready&&(t.ready=!0,i.one("layoutready",n.ready),i.trigger({type:"layoutready",layout:this}))},c=function(t,e,n,i){d(t,e,n),g(t,e,n),v(t,e,n),y(t,e,n),m(t,e,n)},d=function(t,e,n){for(var i=0;i<t.graphSet.length;i++)for(var r=t.graphSet[i],o=r.length,a=0;o>a;a++)for(var s=t.layoutNodes[t.idToIndex[r[a]]],l=a+1;o>l;l++){var u=t.layoutNodes[t.idToIndex[r[l]]];h(s,u,t,e,n)}},h=function(t,e,n,i,r){var o=e.positionX-t.positionX,a=e.positionY-t.positionY;if(0!==o||0!==a){var s=f(t,e,o,a);if(s>0)var l=r.nodeOverlap*s,u=Math.sqrt(o*o+a*a),c=l*o/u,d=l*a/u;else var h=p(t,o,a),g=p(e,-1*o,-1*a),v=g.x-h.x,y=g.y-h.y,m=v*v+y*y,u=Math.sqrt(m),l=r.nodeRepulsion/m,c=l*v/u,d=l*y/u;t.offsetX-=c,t.offsetY-=d,e.offsetX+=c,e.offsetY+=d}},p=function(t,e,n){var i=t.positionX,r=t.positionY,o=t.height,a=t.width,s=n/e,l=o/a,u={};do{if(0===e&&n>0){u.x=i,u.y=r+o/2;break}if(0===e&&0>n){u.x=i,u.y=r+o/2;break}if(e>0&&s>=-1*l&&l>=s){u.x=i+a/2,u.y=r+a*n/2/e;break}if(0>e&&s>=-1*l&&l>=s){u.x=i-a/2,u.y=r-a*n/2/e;break}if(n>0&&(-1*l>=s||s>=l)){u.x=i+o*e/2/n,u.y=r+o/2;break}if(0>n&&(-1*l>=s||s>=l)){u.x=i-o*e/2/n,u.y=r-o/2;break}}while(!1);return u},f=function(t,e,n,i){if(n>0)var r=t.maxX-e.minX;else var r=e.maxX-t.minX;if(i>0)var o=t.maxY-e.minY;else var o=e.maxY-t.minY;return r>=0&&o>=0?Math.sqrt(r*r+o*o):0},g=function(t,e,n){for(var i=0;i<t.edgeSize;i++){var r=t.layoutEdges[i],o=t.idToIndex[r.sourceId],a=t.layoutNodes[o],s=t.idToIndex[r.targetId],l=t.layoutNodes[s],u=l.positionX-a.positionX,c=l.positionY-a.positionY;if(0===u&&0===c)return;var d=p(a,u,c),h=p(l,-1*u,-1*c),f=h.x-d.x,g=h.y-d.y,v=Math.sqrt(f*f+g*g),y=Math.pow(r.idealLength-v,2)/n.edgeElasticity;if(0!==v)var m=y*f/v,x=y*g/v;else var m=0,x=0;a.offsetX+=m,a.offsetY+=x,l.offsetX-=m,l.offsetY-=x}},v=function(t,e,n){for(var i=0;i<t.graphSet.length;i++){var r=t.graphSet[i],o=r.length;if(0===i)var a=t.clientHeight/2,s=t.clientWidth/2;else var l=t.layoutNodes[t.idToIndex[r[0]]],u=t.layoutNodes[t.idToIndex[l.parentId]],a=u.positionX,s=u.positionY;for(var c=0;o>c;c++){var d=t.layoutNodes[t.idToIndex[r[c]]],h=a-d.positionX,p=s-d.positionY,f=Math.sqrt(h*h+p*p);if(f>1){var g=n.gravity*h/f,v=n.gravity*p/f;d.offsetX+=g,d.offsetY+=v}}}},y=function(t,e,n){var i=[],r=0,o=-1;for(i.push.apply(i,t.graphSet[0]),o+=t.graphSet[0].length;o>=r;){var a=i[r++],s=t.idToIndex[a],l=t.layoutNodes[s],u=l.children;if(0<u.length){for(var c=l.offsetX,d=l.offsetY,h=0;h<u.length;h++){var p=t.layoutNodes[t.idToIndex[u[h]]];p.offsetX+=c,p.offsetY+=d,i[++o]=u[h]}l.offsetX=0,l.offsetY=0}}},m=function(t,e,n){for(var i=0;i<t.nodeSize;i++){var r=t.layoutNodes[i];0<r.children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0)}for(var i=0;i<t.nodeSize;i++){var r=t.layoutNodes[i];if(!(0<r.children.length)){var o=x(r.offsetX,r.offsetY,t.temperature);r.positionX+=o.x,r.positionY+=o.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,b(r,t)}}for(var i=0;i<t.nodeSize;i++){var r=t.layoutNodes[i];0<r.children.length&&(r.positionX=(r.maxX+r.minX)/2,r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}},x=function(t,e,n){var i=Math.sqrt(t*t+e*e);if(i>n)var r={x:n*t/i,y:n*e/i};else var r={x:t,y:e};return r},b=function(t,e){var n=t.parentId;if(null!=n){var i=e.layoutNodes[e.idToIndex[n]],r=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,r=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,r=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,r=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,r=!0),r?b(i,e):void 0}};t("layout","cose",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(t){
return 1},edgeWeight:function(t){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,boundingBox:void 0,ready:function(){},stop:function(){}};e.prototype.run=function(){var e=this.options,n=this;return t.util.require("dagre",function(i){var r=e.cy,o=e.eles,a=function(e,n){return t.is.fn(n)?n.apply(e,[e]):n},s=t.util.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l=new i.graphlib.Graph({multigraph:!0,compound:!0}),u={},c=function(t,e){null!=e&&(u[t]=e)};c("nodesep",e.nodeSep),c("edgesep",e.edgeSep),c("ranksep",e.rankSep),c("rankdir",e.rankDir),l.setGraph(u),l.setDefaultEdgeLabel(function(){return{}}),l.setDefaultNodeLabel(function(){return{}});for(var d=o.nodes(),h=0;h<d.length;h++){var p=d[h];l.setNode(p.id(),{width:p.width(),height:p.height(),name:p.id()})}for(var h=0;h<d.length;h++){var p=d[h];p.isChild()&&l.setParent(p.id(),p.parent().id())}for(var f=o.edges().stdFilter(function(t){return!t.source().isParent()&&!t.target().isParent()}),h=0;h<f.length;h++){var g=f[h];l.setEdge(g.source().id(),g.target().id(),{minlen:a(g,e.minLen),weight:a(g,e.edgeWeight),name:g.id()},g.id())}i.layout(l);for(var v=l.nodes(),h=0;h<v.length;h++){var y=v[h],m=l.node(y);r.getElementById(y).scratch().dagre=m}var x;e.boundingBox?(x={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)},d.forEach(function(t){var e=t.scratch().dagre;x.x1=Math.min(x.x1,e.x),x.x2=Math.max(x.x2,e.x),x.y1=Math.min(x.y1,e.y),x.y2=Math.max(x.y2,e.y)}),x.w=x.x2-x.x1,x.h=x.y2-x.y1):x=s;var b=function(t){if(e.boundingBox){var n=(t.x-x.x1)/x.w,i=(t.y-x.y1)/x.h;return{x:s.x1+n*s.w,y:s.y1+i*s.h}}return t};d.layoutPositions(n,e,function(){var t=this.scratch().dagre;return b({x:t.x,y:t.y})})}),this},t("layout","dagre",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend({},n,e)}var n={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,rows:void 0,columns:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){var e=this.options,n=e,i=e.cy,r=n.eles,o=r.nodes().not(":parent");n.sort&&(o=o.sort(n.sort));var a=t.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(0===a.h||0===a.w)o.layoutPositions(this,n,function(){return{x:a.x1,y:a.y1}});else{var s=o.size(),l=Math.sqrt(s*a.h/a.w),u=Math.round(l),c=Math.round(a.w/a.h*l),d=function(t){if(null==t)return Math.min(u,c);var e=Math.min(u,c);e==u?u=t:c=t},h=function(t){if(null==t)return Math.max(u,c);var e=Math.max(u,c);e==u?u=t:c=t};if(null!=n.rows&&null!=n.columns)u=n.rows,c=n.columns;else if(null!=n.rows&&null==n.columns)u=n.rows,c=Math.ceil(s/u);else if(null==n.rows&&null!=n.columns)c=n.columns,u=Math.ceil(s/c);else if(c*u>s){var p=d(),f=h();(p-1)*f>=s?d(p-1):(f-1)*p>=s&&h(f-1)}else for(;s>c*u;){var p=d(),f=h();(f+1)*p>=s?h(f+1):d(p+1)}var g=a.w/c,v=a.h/u;if(n.avoidOverlap)for(var y=0;y<o.length;y++){var m=o[y],x=m.outerWidth(),b=m.outerHeight();g=Math.max(g,x),v=Math.max(v,b)}for(var w={},E=function(t,e){return!!w["c-"+t+"-"+e]},_=function(t,e){w["c-"+t+"-"+e]=!0},T=0,N=0,C=function(){N++,N>=c&&(N=0,T++)},D={},y=0;y<o.length;y++){var m=o[y],S=n.position(m);if(S&&(void 0!==S.row||void 0!==S.col)){var k={row:S.row,col:S.col};if(void 0===k.col)for(k.col=0;E(k.row,k.col);)k.col++;else if(void 0===k.row)for(k.row=0;E(k.row,k.col);)k.row++;D[m.id()]=k,_(k.row,k.col)}}var L=function(t,e){var n,i;if(e.locked()||e.isFullAutoParent())return!1;var r=D[e.id()];if(r)n=r.col*g+g/2+a.x1,i=r.row*v+v/2+a.y1;else{for(;E(T,N);)C();n=N*g+g/2+a.x1,i=T*v+v/2+a.y1,_(T,N),C()}return{x:n,y:i}};o.layoutPositions(this,n,L)}return this},t("layout","grid",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={ready:function(){},stop:function(){}};e.prototype.run=function(){var t=this.options,e=t.eles,n=this;return t.cy,n.trigger("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",t.ready),n.trigger("layoutready"),n.one("layoutstop",t.stop),n.trigger("layoutstop"),this},e.prototype.stop=function(){return this},t("layout","null",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){function e(t){if(null==n.positions)return null;if(o)return n.positions.apply(t,[t]);var e=n.positions[t._private.data.id];return null==e?null:e}var n=this.options,i=n.eles,r=i.nodes(),o=t.is.fn(n.positions);return r.layoutPositions(this,n,function(t,n){var i=e(n);return!n.locked()&&null!=i&&i}),this},t("layout","preset",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){var e=this.options,n=e.cy,i=e.eles,r=i.nodes().not(":parent"),o=t.util.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),a=function(t,e){return{x:o.x1+Math.round(Math.random()*o.w),y:o.y1+Math.round(Math.random()*o.h)}};return r.layoutPositions(this,e,a),this},t("layout","random",e)}(cytoscape),function($$){"use strict";function SpreadLayout(t){this.options=$$.util.extend({},defaults,t)}function cellCentroid(t){for(var e,n,i,r=t.halfedges,o=0,a=0,s=0,l=0;l<r.length;++l)e=r[l].getEndpoint(),n=r[l].getStartpoint(),o+=e.x*n.y,o-=e.y*n.x,i=e.x*n.y-n.x*e.y,a+=(e.x+n.x)*i,s+=(e.y+n.y)*i;return o/=2,i=6*o,{x:a/i,y:s/i}}function sitesDistance(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}var defaults={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,maxFruchtermanReingoldIterations:50,maxExpandIterations:4,boundingBox:void 0};SpreadLayout.prototype.run=function(){var layout=this,options=this.options;return $$.util.requires(["foograph","Voronoi"],function(foograph,Voronoi){function setPositions(t){for(var e=t.vertices,n=[],i=0;i<e.length;++i){var r=e[i];n[r.id]={x:r.x,y:r.y}}nodes.positions(function(t,e){var i=e._private.data.id,r=n[i];return{x:Math.round(simBB.x1+r.x),y:Math.round(simBB.y1+r.y)}}),options.fit&&cy.fit(options.padding),cy.nodes().rtrigger("position")}var cy=options.cy,nodes=cy.nodes(),edges=cy.edges(),cWidth=cy.width(),cHeight=cy.height(),simulationBounds=options.boundingBox?$$.util.makeBoundingBox(options.boundingBox):null,padding=options.padding,simBBFactor=Math.max(1,.8*Math.log(nodes.length));nodes.length<100&&(simBBFactor/=2),layout.trigger({type:"layoutstart",layout:layout});var simBB={x1:0,y1:0,x2:cWidth*simBBFactor,y2:cHeight*simBBFactor};simulationBounds&&(simBB.x1=simulationBounds.x1,simBB.y1=simulationBounds.y1,simBB.x2=simulationBounds.x2,simBB.y2=simulationBounds.y2),simBB.x1+=padding,simBB.y1+=padding,simBB.x2-=padding,simBB.y2-=padding;var width=simBB.x2-simBB.x1,height=simBB.y2-simBB.y1,startTime=Date.now();if(nodes.size()<=1){nodes.positions({x:Math.round((simBB.x1+simBB.x2)/2),y:Math.round((simBB.y1+simBB.y2)/2)}),options.fit&&cy.fit(options.padding);var endTime=Date.now();return console.info("Layout on "+nodes.size()+" nodes took "+(endTime-startTime)+" ms"),layout.one("layoutready",options.ready),layout.trigger("layoutready"),layout.one("layoutstop",options.stop),void layout.trigger("layoutstop")}var pData={width:width,height:height,minDist:options.minDist,expFact:options.expandingFactor,expIt:0,maxExpIt:options.maxExpandIterations,vertices:[],edges:[],startTime:startTime,maxFruchtermanReingoldIterations:options.maxFruchtermanReingoldIterations};nodes.each(function(t,e){var n=this._private.data.id;pData.vertices.push({id:n,x:0,y:0})}),edges.each(function(){var t=this.source().id(),e=this.target().id();pData.edges.push({src:t,tgt:e})});var t1=$$.Thread();t1.require(foograph,"foograph"),t1.require(Voronoi),t1.require(sitesDistance),t1.require(cellCentroid);var didLayoutReady=!1;t1.on("message",function(t){var e=t.message;options.animate&&(setPositions(e),didLayoutReady||(layout.trigger("layoutready"),didLayoutReady=!0))}),layout.one("layoutready",options.ready),t1.pass(pData).run(function(pData){function checkMinDist(t){for(var e=0,n=0;n<t.length;++n){var i=t[n];null!=i.lSite&&null!=i.rSite&&sitesDistance(i.lSite,i.rSite)<lMinDist&&++e}return e}foograph=eval("foograph"),Voronoi=eval("Voronoi");for(var lWidth=pData.width,lHeight=pData.height,lMinDist=pData.minDist,lExpFact=pData.expFact,lMaxExpIt=pData.maxExpIt,lMaxFruchtermanReingoldIterations=pData.maxFruchtermanReingoldIterations,savePositions=function(){pData.width=lWidth,pData.height=lHeight,pData.expIt=expandIteration,pData.expFact=lExpFact,pData.vertices=[];for(var t=0;t<fv.length;++t)pData.vertices.push({id:fv[t].label,x:fv[t].x,y:fv[t].y})},messagePositions=function(){broadcast(pData)},frg=new foograph.Graph("FRgraph",(!1)),frgNodes={},dataVertices=pData.vertices,ni=0;ni<dataVertices.length;++ni){var id=dataVertices[ni].id,v=new foograph.Vertex(id,Math.round(Math.random()*lHeight),Math.round(Math.random()*lHeight));frgNodes[id]=v,frg.insertVertex(v)}for(var dataEdges=pData.edges,ei=0;ei<dataEdges.length;++ei){var srcNodeId=dataEdges[ei].src,tgtNodeId=dataEdges[ei].tgt;frg.insertEdge("",1,frgNodes[srcNodeId],frgNodes[tgtNodeId])}var fv=frg.vertices,iterations=lMaxFruchtermanReingoldIterations,frLayoutManager=new foograph.ForceDirectedVertexLayout(lWidth,lHeight,iterations,(!1),lMinDist);frLayoutManager.callback=function(){savePositions(),messagePositions()},frLayoutManager.layout(frg),savePositions(),messagePositions();for(var voronoi=new Voronoi,bbox={xl:0,xr:lWidth,yt:0,yb:lHeight},vSites=[],i=0;i<fv.length;++i)vSites[fv[i].label]=fv[i];for(var diagram=voronoi.compute(fv,bbox),cells=diagram.cells,i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x,currv.y=centroid.y}0>lExpFact&&(lExpFact=Math.max(.05,Math.min(.1,lMinDist/Math.sqrt(lWidth*lHeight/fv.length)*.5)));for(var prevInfractions=checkMinDist(diagram.edges),bStop=0>=prevInfractions,voronoiIteration=0,expandIteration=0;!bStop;){++voronoiIteration;for(var it=0;4>=it;++it){voronoi.recycle(diagram),diagram=voronoi.compute(fv,bbox),cells=diagram.cells;for(var i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x,currv.y=centroid.y}}var currInfractions=checkMinDist(diagram.edges);0>=currInfractions?bStop=!0:(currInfractions>=prevInfractions||voronoiIteration>=4)&&(expandIteration>=lMaxExpIt?bStop=!0:(lWidth+=lWidth*lExpFact,lHeight+=lHeight*lExpFact,bbox={xl:0,xr:lWidth,yt:0,yb:lHeight},++expandIteration,voronoiIteration=0)),prevInfractions=currInfractions,savePositions(),messagePositions()}return savePositions(),pData}).then(function(t){var e=t.vertices;setPositions(t);var n=t.startTime,i=new Date;console.info("Layout on "+e.length+" nodes took "+(i-n)+" ms"),layout.one("layoutstop",options.stop),options.animate||layout.trigger("layoutready"),layout.trigger("layoutstop"),t1.stop()})}),this},SpreadLayout.prototype.stop=function(){},$$("layout","spread",SpreadLayout)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={animate:!0,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,random:!1,infinite:!1,ready:void 0,stop:void 0,stiffness:400,repulsion:400,damping:.5};e.prototype.run=function(){var e=this,n=this,i=this.options;return t.util.require("Springy",function(r){function o(t){var e=t.scratch("springy").model.id,n=w.layout.nodePoints[e].p,i=t.position(),r=null!=i.x&&null!=i.y?y(t.position()):{x:4*Math.random()-2,y:4*Math.random()-2};n.x=r.x,n.y=r.y}function a(){n.stopped=!1,i.ungrabifyWhileSimulating&&_.ungrabify(),w.start()}var s=!1,l=i.cy;e.trigger({type:"layoutstart",layout:e});var u=i.eles,c=u.nodes().not(":parent"),d=u.edges(),h=t.util.makeBoundingBox(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),p=new r.Graph;c.each(function(t,e){e.scratch("springy",{model:p.newNode({element:e})})}),d.each(function(t,e){var n=e.source().scratch("springy").model,i=e.target().scratch("springy").model;e.scratch("springy",{model:p.newEdge(n,i,{element:e})})});var f=window.sim=new r.Layout.ForceDirected(p,i.stiffness,i.repulsion,i.damping);i.infinite&&(f.minEnergyThreshold=-(1/0));var g=f.getBoundingBox(),v=function(t){g=f.getBoundingBox();var e=g.topright.subtract(g.bottomleft),n=t.subtract(g.bottomleft).divide(e.x).x*h.w+h.x1,i=t.subtract(g.bottomleft).divide(e.y).y*h.h+h.x1;return new r.Vector(n,i)},y=function(t){g=f.getBoundingBox();var e=g.topright.subtract(g.bottomleft),n=(t.x-h.x1)/h.w*e.x+g.bottomleft.x,i=(t.y-h.y1)/h.h*e.y+g.bottomleft.y;return new r.Vector(n,i)},m=l.collection(),x=l.nodes().size(),b=1,w=new r.Renderer(f,function(){n.stopped||m.length>0&&i.animate&&(s=!0,m.rtrigger("position"),i.fit&&l.fit(i.padding),m=l.collection(),s=!1)},function(t,e,n){},function(t,r){if(!n.stopped){var o=v(r),a=t.data.element;a.locked()||a.grabbed()||(a._private.position={x:o.x,y:o.y},m.merge(a)),b==x&&(e.one("layoutready",i.ready),e.trigger({type:"layoutready",layout:e})),b++}});c.each(function(t,e){i.random||o(e)});var E;c.on("position",E=function(){s||o(this)});var _=c.filter(":grabbable");n.stopSystem=function(){n.stopped=!0,p.filterNodes(function(){return!1}),i.ungrabifyWhileSimulating&&_.grabify(),i.fit&&l.fit(i.padding),c.off("drag position",E),e.one("layoutstop",i.stop),e.trigger({type:"layoutstop",layout:e}),n.stopSystem=null},a(),i.infinite||setTimeout(function(){n.stop()},i.maxSimulationTime)}),this},e.prototype.stop=function(){return null!=this.stopSystem&&this.stopSystem(),this},t("layout","springy",e)}(cytoscape),function(t){"use strict";function e(t){this.options=t}e.prototype.recalculateRenderedStyle=function(){},e.prototype.notify=function(){},t("renderer","null",e)}(cytoscape),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.cytoscapeCoseBilkent=t()}}(function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){function i(){}var r=t("./FDLayoutConstants");for(var o in r)i[o]=r[o];i.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,i.DEFAULT_RADIAL_SEPARATION=r.DEFAULT_EDGE_LENGTH,i.DEFAULT_COMPONENT_SEPERATION=60,e.exports=i},{"./FDLayoutConstants":10}],2:[function(t,e,n){function i(t,e,n){r.call(this,t,e,n)}var r=t("./FDLayoutEdge");i.prototype=Object.create(r.prototype);for(var o in r)i[o]=r[o];e.exports=i},{"./FDLayoutEdge":11}],3:[function(t,e,n){function i(t,e,n){r.call(this,t,e,n)}var r=t("./LGraph");i.prototype=Object.create(r.prototype);for(var o in r)i[o]=r[o];e.exports=i},{"./LGraph":19}],4:[function(t,e,n){function i(t){r.call(this,t)}var r=t("./LGraphManager");i.prototype=Object.create(r.prototype);for(var o in r)i[o]=r[o];e.exports=i},{"./LGraphManager":20}],5:[function(t,e,n){function i(){r.call(this)}var r=t("./FDLayout"),o=t("./CoSEGraphManager"),a=t("./CoSEGraph"),s=t("./CoSENode"),l=t("./CoSEEdge"),u=t("./CoSEConstants"),c=t("./FDLayoutConstants"),d=t("./LayoutConstants"),h=t("./Point"),p=t("./PointD"),f=t("./Layout"),g=t("./Integer"),v=t("./IGeometry"),y=t("./LGraph"),m=t("./Transform");i.prototype=Object.create(r.prototype);for(var x in r)i[x]=r[x];i.prototype.newGraphManager=function(){var t=new o(this);return this.graphManager=t,t},i.prototype.newGraph=function(t){return new a(null,this.graphManager,t)},i.prototype.newNode=function(t){return new s(this.graphManager,t)},i.prototype.newEdge=function(t){return new l(null,null,t)},i.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.isSubLayout||(u.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=c.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=c.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR)},i.prototype.layout=function(){var t=d.DEFAULT_CREATE_BENDS_AS_NEEDED;return t&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},i.prototype.classicLayout=function(){if(this.calculateNodesToApplyGravitationTo(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),!this.incremental){var t=this.getFlatForest();t.length>0?this.positionNodesRadially(t):this.positionNodesRandomly()}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},i.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations)return!0;if(this.totalIterations%c.CONVERGENCE_CHECK_PERIOD==0){if(this.isConverged())return!0;this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.totalIterations)/this.maxIterations),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},i.prototype.getPositionsData=function(){for(var t=this.graphManager.getAllNodes(),e={},n=0;n<t.length;n++){var i=t[n].rect,r=t[n].id;e[r]={id:r,x:i.getCenterX(),y:i.getCenterY(),w:i.width,h:i.height}}return e},i.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var t=!1;if("during"===c.ANIMATE)this.emit("layoutstarted");else{for(;!t;)t=this.tick();this.graphManager.updateBounds()}},i.prototype.calculateNodesToApplyGravitationTo=function(){var t,e,n=[],i=this.graphManager.getGraphs(),r=i.length;for(e=0;e<r;e++)t=i[e],t.updateConnected(),t.isConnected||(n=n.concat(t.getNodes()));this.graphManager.setAllNodesToApplyGravitation(n)},i.prototype.createBendpoints=function(){var t=[];t=t.concat(this.graphManager.getAllEdges());var e,n=new HashSet;for(e=0;e<t.length;e++){var i=t[e];if(!n.contains(i)){var r=i.getSource(),o=i.getTarget();if(r==o)i.getBendpoints().push(new p),i.getBendpoints().push(new p),this.createDummyNodesForBendpoints(i),n.add(i);else{var a=[];if(a=a.concat(r.getEdgeListToNode(o)),a=a.concat(o.getEdgeListToNode(r)),!n.contains(a[0])){if(a.length>1){var s;for(s=0;s<a.length;s++){var l=a[s];l.getBendpoints().push(new p),this.createDummyNodesForBendpoints(l)}}n.addAll(list)}}}if(n.size()==t.length)break}},i.prototype.positionNodesRadially=function(t){for(var e=new h(0,0),n=Math.ceil(Math.sqrt(t.length)),r=0,o=0,a=0,s=new p(0,0),l=0;l<t.length;l++){l%n==0&&(a=0,o=r,0!=l&&(o+=u.DEFAULT_COMPONENT_SEPERATION),r=0);var c=t[l],g=f.findCenterOfTree(c);e.x=a,e.y=o,s=i.radialLayout(c,g,e),s.y>r&&(r=Math.floor(s.y)),a=Math.floor(s.x+u.DEFAULT_COMPONENT_SEPERATION)}this.transform(new p(d.WORLD_CENTER_X-s.x/2,d.WORLD_CENTER_Y-s.y/2))},i.radialLayout=function(t,e,n){var r=Math.max(this.maxDiagonalInTree(t),u.DEFAULT_RADIAL_SEPARATION);i.branchRadialLayout(e,null,0,359,0,r);var o=y.calculateBounds(t),a=new m;a.setDeviceOrgX(o.getMinX()),a.setDeviceOrgY(o.getMinY()),a.setWorldOrgX(n.x),a.setWorldOrgY(n.y);for(var s=0;s<t.length;s++){var l=t[s];l.transform(a)}var c=new p(o.getMaxX(),o.getMaxY());return a.inverseTransformPoint(c)},i.branchRadialLayout=function(t,e,n,r,o,a){var s=(r-n+1)/2;s<0&&(s+=180);var l=(s+n)%360,u=l*v.TWO_PI/360,c=(Math.cos(u),o*Math.cos(u)),d=o*Math.sin(u);t.setCenter(c,d);var h=[];h=h.concat(t.getEdges());var p=h.length;null!=e&&p--;for(var f,g=0,y=h.length,m=t.getEdgesBetween(e);m.length>1;){var x=m[0];m.splice(0,1);var b=h.indexOf(x);b>=0&&h.splice(b,1),y--,p--}f=null!=e?(h.indexOf(m[0])+1)%y:0;for(var w=Math.abs(r-n)/p,E=f;g!=p;E=++E%y){var _=h[E].getOtherEnd(t);if(_!=e){var T=(n+g*w)%360,N=(T+w)%360;i.branchRadialLayout(_,t,T,N,o+a,a),g++}}},i.maxDiagonalInTree=function(t){for(var e=g.MIN_VALUE,n=0;n<t.length;n++){var i=t[n],r=i.getDiagonal();r>e&&(e=r)}return e},i.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},e.exports=i},{"./CoSEConstants":1,"./CoSEEdge":2,"./CoSEGraph":3,"./CoSEGraphManager":4,"./CoSENode":6,"./FDLayout":9,"./FDLayoutConstants":10,"./IGeometry":15,"./Integer":17,"./LGraph":19,"./Layout":23,"./LayoutConstants":24,"./Point":25,"./PointD":26,"./Transform":30}],6:[function(t,e,n){function i(t,e,n,i){r.call(this,t,e,n,i)}var r=t("./FDLayoutNode"),o=t("./IMath");i.prototype=Object.create(r.prototype);for(var a in r)i[a]=r[a];i.prototype.move=function(){var t=this.graphManager.getLayout();this.displacementX=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX),this.displacementY=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY),Math.abs(this.displacementX)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementX=t.coolingFactor*t.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementY=t.coolingFactor*t.maxNodeDisplacement*o.sign(this.displacementY)),null==this.child?this.moveBy(this.displacementX,this.displacementY):0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),t.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},i.prototype.propogateDisplacementToChildren=function(t,e){for(var n,i=this.getChild().getNodes(),r=0;r<i.length;r++)n=i[r],null==n.getChild()?(n.moveBy(t,e),n.displacementX+=t,n.displacementY+=e):n.propogateDisplacementToChildren(t,e)},i.prototype.setPred1=function(t){this.pred1=t},i.prototype.getPred1=function(){return pred1},i.prototype.getPred2=function(){return pred2},i.prototype.setNext=function(t){this.next=t},i.prototype.getNext=function(){return next},i.prototype.setProcessed=function(t){this.processed=t},i.prototype.isProcessed=function(){return processed},e.exports=i},{"./FDLayoutNode":12,"./IMath":16}],7:[function(t,e,n){function i(t,e){this.width=0,this.height=0,null!==t&&null!==e&&(this.height=e,this.width=t)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(t){this.width=t},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(t){this.height=t},e.exports=i},{}],8:[function(t,e,n){function i(){this.listeners=[]}var r=i.prototype;r.addListener=function(t,e){this.listeners.push({event:t,callback:e})},r.removeListener=function(t,e){for(var n=this.listeners.length;n>=0;n--){var i=this.listeners[n];i.event===t&&i.callback===e&&this.listeners.splice(n,1)}},r.emit=function(t,e){for(var n=0;n<this.listeners.length;n++){var i=this.listeners[n];t===i.event&&i.callback(e)}},e.exports=i},{}],9:[function(t,e,n){function i(){r.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=1,this.initialCoolingFactor=1,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}var r=t("./Layout"),o=t("./FDLayoutConstants"),a=t("./LayoutConstants"),s=t("./IGeometry"),l=t("./IMath");i.prototype=Object.create(r.prototype);for(var u in r)i[u]=r[u];i.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.layoutQuality==a.DRAFT_QUALITY?(this.displacementThresholdPerNode+=.3,this.maxIterations*=.8):this.layoutQuality==a.PROOF_QUALITY&&(this.displacementThresholdPerNode-=.3,this.maxIterations*=1.2),this.totalIterations=0,this.notAnimatedIterations=0},i.prototype.calcIdealEdgeLengths=function(){for(var t,e,n,i,r,s,l=this.getGraphManager().getAllEdges(),u=0;u<l.length;u++)t=l[u],t.idealLength=this.idealEdgeLength,t.isInterGraph&&(n=t.getSource(),i=t.getTarget(),r=t.getSourceInLca().getEstimatedSize(),s=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=r+s-2*a.SIMPLE_NODE_SIZE),e=t.getLca().getInclusionTreeDepth(),t.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+i.getInclusionTreeDepth()-2*e))},i.prototype.initSpringEmbedder=function(){this.incremental?(this.coolingFactor=.8,this.initialCoolingFactor=.8,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=1,this.initialCoolingFactor=1,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},i.prototype.calcSpringForces=function(){for(var t,e=this.getAllEdges(),n=0;n<e.length;n++)t=e[n],this.calcSpringForce(t,t.idealLength)},i.prototype.calcRepulsionForces=function(){var t,e,n,i,r=this.getAllNodes();for(t=0;t<r.length;t++)for(n=r[t],e=t+1;e<r.length;e++)i=r[e],n.getOwner()==i.getOwner()&&this.calcRepulsionForce(n,i)},i.prototype.calcGravitationalForces=function(){for(var t,e=this.getAllNodesToApplyGravitation(),n=0;n<e.length;n++)t=e[n],this.calcGravitationalForce(t)},i.prototype.moveNodes=function(){for(var t,e=this.getAllNodes(),n=0;n<e.length;n++)t=e[n],t.move()},i.prototype.calcSpringForce=function(t,e){var n,i,r,o,a=t.getSource(),s=t.getTarget();if(this.uniformLeafNodeSizes&&null==a.getChild()&&null==s.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;n=t.getLength(),i=this.springConstant*(n-e),r=i*(t.lengthX/n),o=i*(t.lengthY/n),a.springForceX+=r,a.springForceY+=o,s.springForceX-=r,s.springForceY-=o},i.prototype.calcRepulsionForce=function(t,e){var n,i,r,a,u,c,d,h=t.getRect(),p=e.getRect(),f=new Array(2),g=new Array(4);h.intersects(p)?(s.calcSeparationAmount(h,p,f,o.DEFAULT_EDGE_LENGTH/2),c=f[0],d=f[1]):(this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(n=p.getCenterX()-h.getCenterX(),i=p.getCenterY()-h.getCenterY()):(s.getIntersection(h,p,g),n=g[2]-g[0],i=g[3]-g[1]),Math.abs(n)<o.MIN_REPULSION_DIST&&(n=l.sign(n)*o.MIN_REPULSION_DIST),Math.abs(i)<o.MIN_REPULSION_DIST&&(i=l.sign(i)*o.MIN_REPULSION_DIST),r=n*n+i*i,a=Math.sqrt(r),u=this.repulsionConstant/r,c=u*n/a,d=u*i/a),t.repulsionForceX-=c,t.repulsionForceY-=d,e.repulsionForceX+=c,e.repulsionForceY+=d},i.prototype.calcGravitationalForce=function(t){var e,n,i,r,o,a,s,l;e=t.getOwner(),n=(e.getRight()+e.getLeft())/2,i=(e.getTop()+e.getBottom())/2,r=t.getCenterX()-n,o=t.getCenterY()-i,a=Math.abs(r),s=Math.abs(o),t.getOwner()==this.graphManager.getRoot()?(Math.floor(80),l=Math.floor(e.getEstimatedSize()*this.gravityRangeFactor),(a>l||s>l)&&(t.gravitationForceX=-this.gravityConstant*r,t.gravitationForceY=-this.gravityConstant*o)):(l=Math.floor(e.getEstimatedSize()*this.compoundGravityRangeFactor),(a>l||s>l)&&(t.gravitationForceX=-this.gravityConstant*r*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant))},i.prototype.isConverged=function(){var t,e=!1;return this.totalIterations>this.maxIterations/3&&(e=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||e},i.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},i.prototype.calcRepulsionRange=function(){return 0},e.exports=i},{"./FDLayoutConstants":10,"./IGeometry":15,"./IMath":16,"./Layout":23,"./LayoutConstants":24}],10:[function(t,e,n){function i(){}var r=t("./LayoutConstants");for(var o in r)i[o]=r[o];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=3*i.MAX_NODE_DISPLACEMENT_INCREMENTAL,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=i},{"./LayoutConstants":24}],11:[function(t,e,n){function i(t,e,n){r.call(this,t,e,n),this.idealLength=o.DEFAULT_EDGE_LENGTH}var r=t("./LEdge"),o=t("./FDLayoutConstants");i.prototype=Object.create(r.prototype);for(var a in r)i[a]=r[a];e.exports=i},{"./FDLayoutConstants":10,"./LEdge":18}],12:[function(t,e,n){function i(t,e,n,i){r.call(this,t,e,n,i),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}var r=t("./LNode");i.prototype=Object.create(r.prototype);for(var o in r)i[o]=r[o];i.prototype.setGridCoordinates=function(t,e,n,i){this.startX=t,this.finishX=e,this.startY=n,this.finishY=i},e.exports=i},{"./LNode":22}],13:[function(t,e,n){function i(){this.map={},this.keys=[]}var r=t("./UniqueIDGeneretor");i.prototype.put=function(t,e){var n=r.createID(t);this.contains(n)||(this.map[n]=e,this.keys.push(t))},i.prototype.contains=function(t){r.createID(t);return null!=this.map[t]},i.prototype.get=function(t){var e=r.createID(t);return this.map[e]},i.prototype.keySet=function(){return this.keys},e.exports=i},{"./UniqueIDGeneretor":31}],14:[function(t,e,n){function i(){this.set={}}var r=t("./UniqueIDGeneretor");i.prototype.add=function(t){var e=r.createID(t);this.contains(e)||(this.set[e]=t)},i.prototype.remove=function(t){delete this.set[r.createID(t)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(t){return this.set[r.createID(t)]==t},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(t){for(var e=Object.keys(this.set),n=e.length,i=0;i<n;i++)t.push(this.set[e[i]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(t){for(var e=t.length,n=0;n<e;n++){var i=t[n];this.add(i)}},e.exports=i},{"./UniqueIDGeneretor":31}],15:[function(t,e,n){function i(){}i.calcSeparationAmount=function(t,e,n,r){if(!t.intersects(e))throw"assert failed";var o=new Array(2);i.decideDirectionsForOverlappingNodes(t,e,o),n[0]=Math.min(t.getRight(),e.getRight())-Math.max(t.x,e.x),n[1]=Math.min(t.getBottom(),e.getBottom())-Math.max(t.y,e.y),t.getX()<=e.getX()&&t.getRight()>=e.getRight()?n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()):e.getX()<=t.getX()&&e.getRight()>=t.getRight()&&(n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())),
t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()?n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()):e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()&&(n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()));var a=Math.abs((e.getCenterY()-t.getCenterY())/(e.getCenterX()-t.getCenterX()));e.getCenterY()==t.getCenterY()&&e.getCenterX()==t.getCenterX()&&(a=1);var s=a*n[0],l=n[1]/a;n[0]<l?l=n[0]:s=n[1],n[0]=-1*o[0]*(l/2+r),n[1]=-1*o[1]*(s/2+r)},i.decideDirectionsForOverlappingNodes=function(t,e,n){t.getCenterX()<e.getCenterX()?n[0]=-1:n[0]=1,t.getCenterY()<e.getCenterY()?n[1]=-1:n[1]=1},i.getIntersection2=function(t,e,n){var r=t.getCenterX(),o=t.getCenterY(),a=e.getCenterX(),s=e.getCenterY();if(t.intersects(e))return n[0]=r,n[1]=o,n[2]=a,n[3]=s,!0;var l=t.getX(),u=t.getY(),c=t.getRight(),d=t.getX(),h=t.getBottom(),p=t.getRight(),f=t.getWidthHalf(),g=t.getHeightHalf(),v=e.getX(),y=e.getY(),m=e.getRight(),x=e.getX(),b=e.getBottom(),w=e.getRight(),E=e.getWidthHalf(),_=e.getHeightHalf(),T=!1,N=!1;if(r==a){if(o>s)return n[0]=r,n[1]=u,n[2]=a,n[3]=b,!1;if(o<s)return n[0]=r,n[1]=h,n[2]=a,n[3]=y,!1}else if(o==s){if(r>a)return n[0]=l,n[1]=o,n[2]=m,n[3]=s,!1;if(r<a)return n[0]=c,n[1]=o,n[2]=v,n[3]=s,!1}else{var C,D,S,k,L,M,P=t.height/t.width,A=e.height/e.width,I=(s-o)/(a-r);if(-P==I?r>a?(n[0]=d,n[1]=h,T=!0):(n[0]=c,n[1]=u,T=!0):P==I&&(r>a?(n[0]=l,n[1]=u,T=!0):(n[0]=p,n[1]=h,T=!0)),-A==I?a>r?(n[2]=x,n[3]=b,N=!0):(n[2]=m,n[3]=y,N=!0):A==I&&(a>r?(n[2]=v,n[3]=y,N=!0):(n[2]=w,n[3]=b,N=!0)),T&&N)return!1;if(r>a?o>s?(C=i.getCardinalDirection(P,I,4),D=i.getCardinalDirection(A,I,2)):(C=i.getCardinalDirection(-P,I,3),D=i.getCardinalDirection(-A,I,1)):o>s?(C=i.getCardinalDirection(-P,I,1),D=i.getCardinalDirection(-A,I,3)):(C=i.getCardinalDirection(P,I,2),D=i.getCardinalDirection(A,I,4)),!T)switch(C){case 1:k=u,S=r+-g/I,n[0]=S,n[1]=k;break;case 2:S=p,k=o+f*I,n[0]=S,n[1]=k;break;case 3:k=h,S=r+g/I,n[0]=S,n[1]=k;break;case 4:S=d,k=o+-f*I,n[0]=S,n[1]=k}if(!N)switch(D){case 1:M=y,L=a+-_/I,n[2]=L,n[3]=M;break;case 2:L=w,M=s+E*I,n[2]=L,n[3]=M;break;case 3:M=b,L=a+_/I,n[2]=L,n[3]=M;break;case 4:L=x,M=s+-E*I,n[2]=L,n[3]=M}}return!1},i.getCardinalDirection=function(t,e,n){return t>e?n:1+n%4},i.getIntersection=function(t,e,n,r){if(null==r)return i.getIntersection2(t,e,n);var o,a,s,l,u,c,d,h,p,f=t.x,g=t.y,v=e.x,y=e.y,m=n.x,x=n.y,b=r.x,w=r.y;return s=y-g,u=f-v,d=v*g-f*y,l=w-x,c=m-b,h=b*x-m*w,p=s*c-l*u,0==p?null:(o=(u*h-c*d)/p,a=(l*d-s*h)/p,new Point(o,a))},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,e.exports=i},{}],16:[function(t,e,n){function i(){}i.sign=function(t){return t>0?1:t<0?-1:0},i.floor=function(t){return t<0?Math.ceil(t):Math.floor(t)},i.ceil=function(t){return t<0?Math.floor(t):Math.ceil(t)},e.exports=i},{}],17:[function(t,e,n){function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,e.exports=i},{}],18:[function(t,e,n){function i(t,e,n){r.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=t,this.target=e}var r=t("./LGraphObject"),o=t("./IGeometry"),a=t("./IMath");i.prototype=Object.create(r.prototype);for(var s in r)i[s]=r[s];i.prototype.getSource=function(){return this.source},i.prototype.getTarget=function(){return this.target},i.prototype.isInterGraph=function(){return this.isInterGraph},i.prototype.getLength=function(){return this.length},i.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},i.prototype.getBendpoints=function(){return this.bendpoints},i.prototype.getLca=function(){return this.lca},i.prototype.getSourceInLca=function(){return this.sourceInLca},i.prototype.getTargetInLca=function(){return this.targetInLca},i.prototype.getOtherEnd=function(t){if(this.source===t)return this.target;if(this.target===t)return this.source;throw"Node is not incident with this edge"},i.prototype.getOtherEndInGraph=function(t,e){for(var n=this.getOtherEnd(t),i=e.getGraphManager().getRoot();;){if(n.getOwner()==e)return n;if(n.getOwner()==i)break;n=n.getOwner().getParent()}return null},i.prototype.updateLength=function(){var t=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),t),this.isOverlapingSourceAndTarget||(this.lengthX=t[0]-t[2],this.lengthY=t[1]-t[3],Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},i.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=i},{"./IGeometry":15,"./IMath":16,"./LGraphObject":21}],19:[function(t,e,n){function i(t,e,n){r.call(this,n),this.estimatedSize=o.MIN_VALUE,this.margin=a.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=t,null!=e&&e instanceof s?this.graphManager=e:null!=e&&e instanceof Layout&&(this.graphManager=e.graphManager)}var r=t("./LGraphObject"),o=t("./Integer"),a=t("./LayoutConstants"),s=t("./LGraphManager"),l=t("./LNode"),u=t("./HashSet"),c=t("./RectangleD"),d=t("./Point");i.prototype=Object.create(r.prototype);for(var h in r)i[h]=r[h];i.prototype.getNodes=function(){return this.nodes},i.prototype.getEdges=function(){return this.edges},i.prototype.getGraphManager=function(){return this.graphManager},i.prototype.getParent=function(){return this.parent},i.prototype.getLeft=function(){return this.left},i.prototype.getRight=function(){return this.right},i.prototype.getTop=function(){return this.top},i.prototype.getBottom=function(){return this.bottom},i.prototype.isConnected=function(){return this.isConnected},i.prototype.add=function(t,e,n){if(null==e&&null==n){var i=t;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(i)>-1)throw"Node already in graph!";return i.owner=this,this.getNodes().push(i),i}var r=t;if(!(this.getNodes().indexOf(e)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(e.owner!=n.owner||e.owner!=this)throw"Both owners must be this graph!";return e.owner!=n.owner?null:(r.source=e,r.target=n,r.isInterGraph=!1,this.getEdges().push(r),e.edges.push(r),n!=e&&n.edges.push(r),r)},i.prototype.remove=function(t){var e=t;if(t instanceof l){if(null==e)throw"Node is null!";if(null==e.owner||e.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n,i=e.edges.slice(),r=i.length,o=0;o<r;o++)n=i[o],n.isInterGraph?this.graphManager.remove(n):n.source.owner.remove(n);var a=this.nodes.indexOf(e);if(a==-1)throw"Node not in owner node list!";this.nodes.splice(a,1)}else if(t instanceof LEdge){var n=t;if(null==n)throw"Edge is null!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(null==n.source.owner||null==n.target.owner||n.source.owner!=this||n.target.owner!=this)throw"Source and/or target owner is invalid!";var s=n.source.edges.indexOf(n),u=n.target.edges.indexOf(n);if(!(s>-1&&u>-1))throw"Source and/or target doesn't know this edge!";n.source.edges.splice(s,1),n.target!=n.source&&n.target.edges.splice(u,1);var a=n.source.owner.getEdges().indexOf(n);if(a==-1)throw"Not in owner's edge list!";n.source.owner.getEdges().splice(a,1)}},i.prototype.updateLeftTop=function(){for(var t,e,n=o.MAX_VALUE,i=o.MAX_VALUE,r=this.getNodes(),a=r.length,s=0;s<a;s++){var l=r[s];t=Math.floor(l.getTop()),e=Math.floor(l.getLeft()),n>t&&(n=t),i>e&&(i=e)}return n==o.MAX_VALUE?null:(this.left=i-this.margin,this.top=n-this.margin,new d(this.left,this.top))},i.prototype.updateBounds=function(t){for(var e,n,i,r,a=o.MAX_VALUE,s=-o.MAX_VALUE,l=o.MAX_VALUE,u=-o.MAX_VALUE,d=this.nodes,h=d.length,p=0;p<h;p++){var f=d[p];t&&null!=f.child&&f.updateBounds(),e=Math.floor(f.getLeft()),n=Math.floor(f.getRight()),i=Math.floor(f.getTop()),r=Math.floor(f.getBottom()),a>e&&(a=e),s<n&&(s=n),l>i&&(l=i),u<r&&(u=r)}var g=new c(a,l,s-a,u-l);a==o.MAX_VALUE&&(this.left=Math.floor(this.parent.getLeft()),this.right=Math.floor(this.parent.getRight()),this.top=Math.floor(this.parent.getTop()),this.bottom=Math.floor(this.parent.getBottom())),this.left=g.x-this.margin,this.right=g.x+g.width+this.margin,this.top=g.y-this.margin,this.bottom=g.y+g.height+this.margin},i.calculateBounds=function(t){for(var e,n,i,r,a=o.MAX_VALUE,s=-o.MAX_VALUE,l=o.MAX_VALUE,u=-o.MAX_VALUE,d=t.length,h=0;h<d;h++){var p=t[h];e=Math.floor(p.getLeft()),n=Math.floor(p.getRight()),i=Math.floor(p.getTop()),r=Math.floor(p.getBottom()),a>e&&(a=e),s<n&&(s=n),l>i&&(l=i),u<r&&(u=r)}var f=new c(a,l,s-a,u-l);return f},i.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},i.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},i.prototype.calcEstimatedSize=function(){for(var t=0,e=this.nodes,n=e.length,i=0;i<n;i++){var r=e[i];t+=r.calcEstimatedSize()}return 0==t?this.estimatedSize=a.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=Math.floor(t/Math.sqrt(this.nodes.length)),Math.floor(this.estimatedSize)},i.prototype.updateConnected=function(){var t=this;if(0==this.nodes.length)return void(this.isConnected=!0);var e,n,i=[],r=new u,o=this.nodes[0];for(i=i.concat(o.withChildren());i.length>0;){o=i.shift(),r.add(o),e=o.getEdges();for(var a=e.length,s=0;s<a;s++){var l=e[s];n=l.getOtherEndInGraph(o,this),null==n||r.contains(n)||(i=i.concat(n.withChildren()))}}if(this.isConnected=!1,r.size()>=this.nodes.length){var c=0,a=r.size();Object.keys(r.set).forEach(function(e){var n=r.set[e];n.owner==t&&c++}),c==this.nodes.length&&(this.isConnected=!0)}},e.exports=i},{"./HashSet":14,"./Integer":17,"./LGraphManager":20,"./LGraphObject":21,"./LNode":22,"./LayoutConstants":24,"./Point":25,"./RectangleD":28}],20:[function(t,e,n){function i(t){this.layout=t,this.graphs=[],this.edges=[]}i.prototype.addRoot=function(){var t=this.layout.newGraph(),e=this.layout.newNode(null),n=this.add(t,e);return this.setRootGraph(n),this.rootGraph},i.prototype.add=function(t,e,n,i,r){if(null==n&&null==i&&null==r){if(null==t)throw"Graph is null!";if(null==e)throw"Parent node is null!";if(this.graphs.indexOf(t)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(t),null!=t.parent)throw"Already has a parent!";if(null!=e.child)throw"Already has a child!";return t.parent=e,e.child=t,t}r=n,i=e,n=t;var o=i.getOwner(),a=r.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==a)return n.isInterGraph=!1,o.add(n,i,r);if(n.isInterGraph=!0,n.source=i,n.target=r,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(n.source.edges.indexOf(n)!=-1||n.target.edges.indexOf(n)!=-1)throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},i.prototype.remove=function(t){if(t instanceof LGraph){var e=t;if(e.getGraphManager()!=this)throw"Graph not in this graph mgr";if(e!=this.rootGraph&&(null==e.parent||e.parent.graphManager!=this))throw"Invalid parent node!";var n=[];n=n.concat(e.getEdges());for(var i,r=n.length,o=0;o<r;o++)i=n[o],e.remove(i);var a=[];a=a.concat(e.getNodes());var s;r=a.length;for(var o=0;o<r;o++)s=a[o],e.remove(s);e==this.rootGraph&&this.setRootGraph(null);var l=this.graphs.indexOf(e);this.graphs.splice(l,1),e.parent=null}else if(t instanceof LEdge){if(i=t,null==i)throw"Edge is null!";if(!i.isInterGraph)throw"Not an inter-graph edge!";if(null==i.source||null==i.target)throw"Source and/or target is null!";if(i.source.edges.indexOf(i)==-1||i.target.edges.indexOf(i)==-1)throw"Source and/or target doesn't know this edge!";var l=i.source.edges.indexOf(i);if(i.source.edges.splice(l,1),l=i.target.edges.indexOf(i),i.target.edges.splice(l,1),null==i.source.owner||null==i.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(i.source.owner.getGraphManager().edges.indexOf(i)==-1)throw"Not in owner graph manager's edge list!";var l=i.source.owner.getGraphManager().edges.indexOf(i);i.source.owner.getGraphManager().edges.splice(l,1)}},i.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},i.prototype.getGraphs=function(){return this.graphs},i.prototype.getAllNodes=function(){if(null==this.allNodes){for(var t=[],e=this.getGraphs(),n=e.length,i=0;i<n;i++)t=t.concat(e[i].getNodes());this.allNodes=t}return this.allNodes},i.prototype.resetAllNodes=function(){this.allNodes=null},i.prototype.resetAllEdges=function(){this.allEdges=null},i.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},i.prototype.getAllEdges=function(){if(null==this.allEdges){for(var t=[],e=this.getGraphs(),n=(e.length,0);n<e.length;n++)t=t.concat(e[n].getEdges());t=t.concat(this.edges),this.allEdges=t}return this.allEdges},i.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},i.prototype.setAllNodesToApplyGravitation=function(t){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=t},i.prototype.getRoot=function(){return this.rootGraph},i.prototype.setRootGraph=function(t){if(t.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=t,null==t.parent&&(t.parent=this.layout.newNode("Root node"))},i.prototype.getLayout=function(){return this.layout},i.prototype.isOneAncestorOfOther=function(t,e){if(null==t||null==e)throw"assert failed";if(t==e)return!0;for(var n,i=t.getOwner();;){if(n=i.getParent(),null==n)break;if(n==e)return!0;if(i=n.getOwner(),null==i)break}for(i=e.getOwner();;){if(n=i.getParent(),null==n)break;if(n==t)return!0;if(i=n.getOwner(),null==i)break}return!1},i.prototype.calcLowestCommonAncestors=function(){for(var t,e,n,i,r,o=this.getAllEdges(),a=o.length,s=0;s<a;s++)if(t=o[s],e=t.source,n=t.target,t.lca=null,t.sourceInLca=e,t.targetInLca=n,e!=n){for(i=e.getOwner();null==t.lca;){for(r=n.getOwner();null==t.lca;){if(r==i){t.lca=r;break}if(r==this.rootGraph)break;if(null!=t.lca)throw"assert failed";t.targetInLca=r.getParent(),r=t.targetInLca.getOwner()}if(i==this.rootGraph)break;null==t.lca&&(t.sourceInLca=i.getParent(),i=t.sourceInLca.getOwner())}if(null==t.lca)throw"assert failed"}else t.lca=e.getOwner()},i.prototype.calcLowestCommonAncestor=function(t,e){if(t==e)return t.getOwner();for(var n=t.getOwner();;){if(null==n)break;for(var i=e.getOwner();;){if(null==i)break;if(i==n)return i;i=i.getParent().getOwner()}n=n.getParent().getOwner()}return n},i.prototype.calcInclusionTreeDepths=function(t,e){null==t&&null==e&&(t=this.rootGraph,e=1);for(var n,i=t.getNodes(),r=i.length,o=0;o<r;o++)n=i[o],n.inclusionTreeDepth=e,null!=n.child&&this.calcInclusionTreeDepths(n.child,e+1)},i.prototype.includesInvalidEdge=function(){for(var t,e=this.edges.length,n=0;n<e;n++)if(t=this.edges[n],this.isOneAncestorOfOther(t.source,t.target))return!0;return!1},e.exports=i},{}],21:[function(t,e,n){function i(t){this.vGraphObject=t}e.exports=i},{}],22:[function(t,e,n){function i(t,e,n,i){null==n&&null==i&&(i=e),r.call(this,i),null!=t.graphManager&&(t=t.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=i,this.edges=[],this.graphManager=t,null!=n&&null!=e?this.rect=new a(e.x,e.y,n.width,n.height):this.rect=new a}var r=t("./LGraphObject"),o=t("./Integer"),a=t("./RectangleD"),s=t("./LayoutConstants"),l=t("./RandomSeed"),u=t("./PointD"),c=t("./HashSet");i.prototype=Object.create(r.prototype);for(var d in r)i[d]=r[d];i.prototype.getEdges=function(){return this.edges},i.prototype.getChild=function(){return this.child},i.prototype.getOwner=function(){if(null!=this.owner&&!(null==this.owner||this.owner.getNodes().indexOf(this)>-1))throw"assert failed";return this.owner},i.prototype.getWidth=function(){return this.rect.width},i.prototype.setWidth=function(t){this.rect.width=t},i.prototype.getHeight=function(){return this.rect.height},i.prototype.setHeight=function(t){this.rect.height=t},i.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},i.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},i.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},i.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},i.prototype.getRect=function(){return this.rect},i.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},i.prototype.setRect=function(t,e){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=e.width,this.rect.height=e.height},i.prototype.setCenter=function(t,e){this.rect.x=t-this.rect.width/2,this.rect.y=e-this.rect.height/2},i.prototype.setLocation=function(t,e){this.rect.x=t,this.rect.y=e},i.prototype.moveBy=function(t,e){this.rect.x+=t,this.rect.y+=e},i.prototype.getEdgeListToNode=function(t){var e=[],n=this;return n.edges.forEach(function(i){if(i.target==t){if(i.source!=n)throw"Incorrect edge source!";e.push(i)}}),e},i.prototype.getEdgesBetween=function(t){var e=[],n=this;return n.edges.forEach(function(i){if(i.source!=n&&i.target!=n)throw"Incorrect edge source and/or target";i.target!=t&&i.source!=t||e.push(i)}),e},i.prototype.getNeighborsList=function(){var t=new c,e=this;return e.edges.forEach(function(n){if(n.source==e)t.add(n.target);else{if(n.target!=e)throw"Incorrect incidency!";t.add(n.source)}}),t},i.prototype.withChildren=function(){var t,e=[];if(e.push(this),null!=this.child)for(var n=this.child.getNodes(),i=0;i<n.length;i++)t=n[i],e=e.concat(t.withChildren());return e},i.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},i.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=Math.floor((this.rect.width+this.rect.height)/2):(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},i.prototype.scatter=function(){var t,e,n=-s.INITIAL_WORLD_BOUNDARY,i=s.INITIAL_WORLD_BOUNDARY;t=s.WORLD_CENTER_X+l.nextDouble()*(i-n)+n;var r=-s.INITIAL_WORLD_BOUNDARY,o=s.INITIAL_WORLD_BOUNDARY;e=s.WORLD_CENTER_Y+l.nextDouble()*(o-r)+r,this.rect.x=t,this.rect.y=e},i.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var t=this.getChild();t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop())}},i.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},i.prototype.transform=function(t){var e=this.rect.x;e>s.WORLD_BOUNDARY?e=s.WORLD_BOUNDARY:e<-s.WORLD_BOUNDARY&&(e=-s.WORLD_BOUNDARY);var n=this.rect.y;n>s.WORLD_BOUNDARY?n=s.WORLD_BOUNDARY:n<-s.WORLD_BOUNDARY&&(n=-s.WORLD_BOUNDARY);var i=new u(e,n),r=t.inverseTransformPoint(i);this.setLocation(r.x,r.y)},i.prototype.getLeft=function(){return this.rect.x},i.prototype.getRight=function(){return this.rect.x+this.rect.width},i.prototype.getTop=function(){return this.rect.y},i.prototype.getBottom=function(){return this.rect.y+this.rect.height},i.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=i},{"./HashSet":14,"./Integer":17,"./LGraphObject":21,"./LayoutConstants":24,"./PointD":26,"./RandomSeed":27,"./RectangleD":28}],23:[function(t,e,n){function i(t){h.call(this),this.layoutQuality=r.DEFAULT_QUALITY,this.createBendsAsNeeded=r.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=r.DEFAULT_INCREMENTAL,this.animationOnLayout=r.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=r.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=r.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=r.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new o,this.graphManager=new a(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=t&&(this.isRemoteUse=t)}var r=t("./LayoutConstants"),o=t("./HashMap"),a=t("./LGraphManager"),s=t("./LNode"),l=t("./LEdge"),u=t("./LGraph"),c=t("./PointD"),d=t("./Transform"),h=t("./Emitter"),p=t("./HashSet");i.RANDOM_SEED=1,i.prototype=Object.create(h.prototype),i.prototype.getGraphManager=function(){return this.graphManager},i.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},i.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},i.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},i.prototype.newGraphManager=function(){var t=new a(this);return this.graphManager=t,t},i.prototype.newGraph=function(t){return new u(null,this.graphManager,t)},i.prototype.newNode=function(t){return new s(this.graphManager,t)},i.prototype.newEdge=function(t){return new l(null,null,t)},i.prototype.runLayout=function(){this.isLayoutFinished=!1,this.initParameters();var t;if(null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge())t=!1;else{var e=0;if(this.isSubLayout||(e=(new Date).getTime()),t=this.layout(),!this.isSubLayout){(new Date).getTime()}}return t&&(this.isSubLayout||this.doPostLayout()),this.isLayoutFinished=!0,t},i.prototype.doPostLayout=function(){this.transform(),this.update()},i.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t,e=this.graphManager.getAllEdges(),n=0;n<e.length;n++)t=e[n];for(var i,r=this.graphManager.getRoot().getNodes(),n=0;n<r.length;n++)i=r[n];this.update(this.graphManager.getRoot())}},i.prototype.update=function(t){if(null==t)this.update2();else if(t instanceof s){var e=t;if(null!=e.getChild())for(var n=e.getChild().getNodes(),i=0;i<n.length;i++)update(n[i]);if(null!=e.vGraphObject){var r=e.vGraphObject;r.update(e)}}else if(t instanceof l){var o=t;if(null!=o.vGraphObject){var a=o.vGraphObject;a.update(o)}}else if(t instanceof u){var c=t;if(null!=c.vGraphObject){var d=c.vGraphObject;d.update(c)}}},i.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=r.DEFAULT_QUALITY,this.animationDuringLayout=r.DEFAULT_ANIMATION_ON_LAYOUT,this.animationPeriod=r.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=r.DEFAULT_ANIMATION_DURING_LAYOUT,this.incremental=r.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=r.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=r.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(animationOnLayout=!1)},i.prototype.transform=function(t){if(void 0==t)this.transform(new c(0,0));else{var e=new d,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){e.setWorldOrgX(t.x),e.setWorldOrgY(t.y),e.setDeviceOrgX(n.x),e.setDeviceOrgY(n.y);for(var i,r=this.getAllNodes(),o=0;o<r.length;o++)i=r[o],i.transform(e)}}},i.prototype.positionNodesRandomly=function(t){if(void 0==t)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var e,n,i=t.getNodes(),r=0;r<i.length;r++)e=i[r],n=e.getChild(),null==n?e.scatter():0==n.getNodes().length?e.scatter():(this.positionNodesRandomly(n),e.updateBounds())},i.prototype.getFlatForest=function(){for(var t=[],e=!0,n=this.graphManager.getRoot().getNodes(),i=!0,r=0;r<n.length;r++)null!=n[r].getChild()&&(i=!1);if(!i)return t;var a=new p,s=[],l=new o,u=[];for(u=u.concat(n);u.length>0&&e;){for(s.push(u[0]);s.length>0&&e;){var c=s[0];s.splice(0,1),a.add(c);for(var d=c.getEdges(),r=0;r<d.length;r++){var h=d[r].getOtherEnd(c);if(l.get(c)!=h){if(a.contains(h)){e=!1;break}s.push(h),l.put(h,c)}}}if(e){var f=[];a.addAllTo(f),t.push(f);for(var r=0;r<f.length;r++){var g=f[r],v=u.indexOf(g);v>-1&&u.splice(v,1)}a=new p,l=new o}else t=[]}return t},i.prototype.createDummyNodesForBendpoints=function(t){for(var e=[],n=t.source,i=this.graphManager.calcLowestCommonAncestor(t.source,t.target),r=0;r<t.bendpoints.length;r++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),i.add(o);var a=this.newEdge(null);this.graphManager.add(a,n,o),e.add(o),n=o}var a=this.newEdge(null);return this.graphManager.add(a,n,t.target),this.edgeToDummyNodes.put(t,e),t.isInterGraph()?this.graphManager.remove(t):i.remove(t),e},i.prototype.createBendpointsFromDummyNodes=function(){var t=[];t=t.concat(this.graphManager.getAllEdges()),t=this.edgeToDummyNodes.keySet().concat(t);for(var e=0;e<t.length;e++){var n=t[e];if(n.bendpoints.length>0){for(var i=this.edgeToDummyNodes.get(n),r=0;r<i.length;r++){var o=i[r],a=new c(o.getCenterX(),o.getCenterY()),s=n.bendpoints.get(r);s.x=a.x,s.y=a.y,o.getOwner().remove(o)}this.graphManager.add(n,n.source,n.target)}}},i.transform=function(t,e,n,i){if(void 0!=n&&void 0!=i){var r=e;if(t<=50){var o=e/n;r-=(e-o)/50*(50-t)}else{var a=e*i;r+=(a-e)/50*(t-50)}return r}var s,l;return t<=50?(s=9*e/500,l=e/10):(s=9*e/50,l=-8*e),s*t+l},i.findCenterOfTree=function(t){var e=[];e=e.concat(t);var n=[],i=new o,r=!1,a=null;1!=e.length&&2!=e.length||(r=!0,a=e[0]);for(var s=0;s<e.length;s++){var l=e[s],u=l.getNeighborsList().size();i.put(l,l.getNeighborsList().size()),1==u&&n.push(l)}var c=[];for(c=c.concat(n);!r;){var d=[];d=d.concat(c),c=[];for(var s=0;s<e.length;s++){var l=e[s],h=e.indexOf(l);h>=0&&e.splice(h,1);var p=l.getNeighborsList();Object.keys(p.set).forEach(function(t){var e=p.set[t];if(n.indexOf(e)<0){var r=i.get(e),o=r-1;1==o&&c.push(e),i.put(e,o)}})}n=n.concat(c),1!=e.length&&2!=e.length||(r=!0,a=e[0])}return a},i.prototype.setGraphManager=function(t){this.graphManager=t},e.exports=i},{"./Emitter":8,"./HashMap":13,"./HashSet":14,"./LEdge":18,"./LGraph":19,"./LGraphManager":20,"./LNode":22,"./LayoutConstants":24,"./PointD":26,"./Transform":30}],24:[function(t,e,n){function i(){}i.PROOF_QUALITY=0,i.DEFAULT_QUALITY=1,i.DRAFT_QUALITY=2,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,e.exports=i},{}],25:[function(t,e,n){function i(t,e,n){this.x=null,this.y=null,null==t&&null==e&&null==n?(this.x=0,this.y=0):"number"==typeof t&&"number"==typeof e&&null==n?(this.x=t,this.y=e):"Point"==t.constructor.name&&null==e&&null==n&&(n=t,this.x=n.x,this.y=n.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(t,e,n){"Point"==t.constructor.name&&null==e&&null==n?(n=t,this.setLocation(n.x,n.y)):"number"==typeof t&&"number"==typeof e&&null==n&&(parseInt(t)==t&&parseInt(e)==e?this.move(t,e):(this.x=Math.floor(t+.5),this.y=Math.floor(e+.5)))},i.prototype.move=function(t,e){this.x=t,this.y=e},i.prototype.translate=function(t,e){this.x+=t,this.y+=e},i.prototype.equals=function(t){if("Point"==t.constructor.name){var e=t;return this.x==e.x&&this.y==e.y}return this==t},i.prototype.toString=function(){return(new i).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=i},{}],26:[function(t,e,n){function i(t,e){null==t&&null==e?(this.x=0,this.y=0):(this.x=t,this.y=e)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(t){this.x=t},i.prototype.setY=function(t){this.y=t},i.prototype.getDifference=function(t){return new DimensionD(this.x-t.x,this.y-t.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(t){return this.x+=t.width,this.y+=t.height,this},e.exports=i},{}],27:[function(t,e,n){function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=1e4*Math.sin(i.seed++),i.x-Math.floor(i.x)},e.exports=i},{}],28:[function(t,e,n){function i(t,e,n,i){this.x=0,this.y=0,this.width=0,this.height=0,null!=t&&null!=e&&null!=n&&null!=i&&(this.x=t,this.y=e,this.width=n,this.height=i)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(t){this.x=t},i.prototype.getY=function(){return this.y},i.prototype.setY=function(t){this.y=t},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(t){this.width=t},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(t){this.height=t},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(t){return!(this.getRight()<t.x)&&(!(this.getBottom()<t.y)&&(!(t.getRight()<this.x)&&!(t.getBottom()<this.y)))},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},e.exports=i},{}],29:[function(t,e,n){e.exports=function(t){t.toBeTiled={},t.getToBeTiled=function(e){var n=e.data("id");if(null!=t.toBeTiled[n])return t.toBeTiled[n];var i=e.children();if(null==i||0==i.length)return t.toBeTiled[n]=!1,!1;for(var r=0;r<i.length;r++){var o=i[r];if(t.getNodeDegree(o)>0)return t.toBeTiled[n]=!1,!1;if(null!=o.children()&&0!=o.children().length){if(!t.getToBeTiled(o))return t.toBeTiled[n]=!1,!1}else t.toBeTiled[o.data("id")]=!1}return t.toBeTiled[n]=!0,!0},t.getNodeDegree=function(e){var n=e.id(),i=t.options.eles.edges().filter(function(t,e){"number"==typeof t&&(t=e);var i=t.data("source"),r=t.data("target");if(i!=r&&(i==n||r==n))return!0});return i.length},t.getNodeDegreeWithChildren=function(e){for(var n=t.getNodeDegree(e),i=e.children(),r=0;r<i.length;r++){var o=i[r];n+=t.getNodeDegreeWithChildren(o)}return n},t.groupZeroDegreeMembers=function(){for(var e=[],n=[],i=this,r={},o=0;o<t.options.eles.nodes().length;o++)r[t.options.eles.nodes()[o].id()]=!0;for(var a=t.options.eles.nodes().filter(function(t,e){"number"==typeof t&&(t=e);var n=t.data("parent");return void 0==n||r[n]||(n=void 0),0==i.getNodeDegreeWithChildren(t)&&(void 0==n||void 0!=n&&!i.getToBeTiled(t.parent()[0]))}),o=0;o<a.length;o++){var s=a[o],l=s.parent().id();void 0==l||r[l]||(l=void 0),"undefined"==typeof e[l]&&(e[l]=[]),e[l]=e[l].concat(s)}return Object.keys(e).forEach(function(i){if(e[i].length>1){var r="DummyCompound_"+i;if(n[r]=e[i],t.options.cy.getElementById(r).empty()){t.options.cy.add({group:"nodes",data:{id:r,parent:i}});var o=t.options.cy.nodes()[t.options.cy.nodes().length-1];t.options.eles=t.options.eles.union(o),o.hide();for(var a=0;a<e[i].length;a++){0==a&&o.scratch("coseBilkent",{tempchildren:[]});var s=e[i][a],l=s.scratch("coseBilkent");l||(l={},s.scratch("coseBilkent",l)),l.dummy_parent_id=r,t.options.cy.add({group:"nodes",data:{parent:r,width:s.width(),height:s.height()}});var u=t.options.cy.nodes()[t.options.cy.nodes().length-1];u.hide(),u.css("width",u.data("width")),u.css("height",u.data("height")),u.width(),o.scratch("coseBilkent").tempchildren.push(u)}}}}),n},t.performDFSOnCompounds=function(e){var n=[],i=t.getTopMostNodes(t.options.eles.nodes());return t.fillCompexOrderByDFS(n,i),n},t.fillCompexOrderByDFS=function(e,n){for(var i=0;i<n.length;i++){var r=n[i];t.fillCompexOrderByDFS(e,r.children()),t.getToBeTiled(r)&&e.push(r);
}},t.clearCompounds=function(){var e=[],n=t.performDFSOnCompounds(t.options);t.compoundOrder=n,t.processChildrenList(t.root,t.getTopMostNodes(t.options.eles.nodes()),t.layout);for(var i=0;i<n.length;i++){var r=t.idToLNode[n[i].id()];e[n[i].id()]=n[i].children(),r.child=null}var o=t.tileCompoundMembers(e);return o},t.clearZeroDegreeMembers=function(e){var n=[];return Object.keys(e).forEach(function(i){var r=t.idToLNode[i];n[i]=t.tileNodes(e[i]),r.rect.width=n[i].width,r.rect.height=n[i].height}),n},t.repopulateCompounds=function(e){for(var n=t.compoundOrder.length-1;n>=0;n--){var i=t.compoundOrder[n].id(),r=t.idToLNode[i],o=parseInt(t.compoundOrder[n].css("padding-left")),a=parseInt(t.compoundOrder[n].css("padding-top"));t.adjustLocations(e[i],r.rect.x,r.rect.y,o,a)}},t.repopulateZeroDegreeMembers=function(e){Object.keys(e).forEach(function(n){var i=t.cy.getElementById(n),r=t.idToLNode[n],o=parseInt(i.css("padding-left")),a=parseInt(i.css("padding-top"));t.adjustLocations(e[n],r.rect.x,r.rect.y,o,a);for(var s=i.scratch("coseBilkent").tempchildren,n=0;n<s.length;n++)s[n].remove();i.remove()})},t.adjustLocations=function(e,n,i,r,o){n+=r,i+=o;for(var a=n,s=0;s<e.rows.length;s++){var l=e.rows[s];n=a;for(var u=0,c=0;c<l.length;c++){var d=l[c];t.cy.getElementById(d.id);d.rect.x=n,d.rect.y=i,n+=d.rect.width+e.horizontalPadding,d.rect.height>u&&(u=d.rect.height)}i+=u+e.verticalPadding}},t.tileCompoundMembers=function(e){var n=[];return Object.keys(e).forEach(function(i){var r=t.idToLNode[i];n[i]=t.tileNodes(e[i]),r.rect.width=n[i].width+20,r.rect.height=n[i].height+20}),n},t.tileNodes=function(e){for(var n=this,i="function"==typeof n.options.tilingPaddingVertical?n.options.tilingPaddingVertical.call():n.options.tilingPaddingVertical,r="function"==typeof n.options.tilingPaddingHorizontal?n.options.tilingPaddingHorizontal.call():n.options.tilingPaddingHorizontal,o={rows:[],rowWidth:[],rowHeight:[],width:20,height:20,verticalPadding:i,horizontalPadding:r},a=[],s=0;s<e.length;s++){var l=e[s],u=t.idToLNode[l.id()];if(!l.scratch("coseBilkent")||!l.scratch("coseBilkent").dummy_parent_id){var c=u.owner;c.remove(u),t.gm.resetAllNodes(),t.gm.getAllNodes()}a.push(u)}a.sort(function(t,e){return t.rect.width*t.rect.height>e.rect.width*e.rect.height?-1:t.rect.width*t.rect.height<e.rect.width*e.rect.height?1:0});for(var s=0;s<a.length;s++){var u=a[s],d=t.cy.getElementById(u.id).parent()[0],h=0;d&&(h=parseInt(d.css("padding-left"))+parseInt(d.css("padding-right"))),0==o.rows.length?t.insertNodeToRow(o,u,0,h):t.canAddHorizontal(o,u.rect.width,u.rect.height)?t.insertNodeToRow(o,u,t.getShortestRowIndex(o),h):t.insertNodeToRow(o,u,o.rows.length,h),t.shiftToLastRow(o)}return o},t.insertNodeToRow=function(t,e,n,i){var r=i;if(n==t.rows.length){var o=[];t.rows.push(o),t.rowWidth.push(r),t.rowHeight.push(0)}var a=t.rowWidth[n]+e.rect.width;t.rows[n].length>0&&(a+=t.horizontalPadding),t.rowWidth[n]=a,t.width<a&&(t.width=a);var s=e.rect.height;n>0&&(s+=t.verticalPadding);var l=0;s>t.rowHeight[n]&&(l=t.rowHeight[n],t.rowHeight[n]=s,l=t.rowHeight[n]-l),t.height+=l,t.rows[n].push(e)},t.getShortestRowIndex=function(t){for(var e=-1,n=Number.MAX_VALUE,i=0;i<t.rows.length;i++)t.rowWidth[i]<n&&(e=i,n=t.rowWidth[i]);return e},t.getLongestRowIndex=function(t){for(var e=-1,n=Number.MIN_VALUE,i=0;i<t.rows.length;i++)t.rowWidth[i]>n&&(e=i,n=t.rowWidth[i]);return e},t.canAddHorizontal=function(e,n,i){var r=t.getShortestRowIndex(e);if(r<0)return!0;var o=e.rowWidth[r];if(o+e.horizontalPadding+n<=e.width)return!0;var a=0;e.rowHeight[r]<i&&r>0&&(a=i+e.verticalPadding-e.rowHeight[r]);var s;s=e.width-o>=n+e.horizontalPadding?(e.height+a)/(o+n+e.horizontalPadding):(e.height+a)/e.width,a=i+e.verticalPadding;var l;return l=e.width<n?(e.height+a)/n:(e.height+a)/e.width,l<1&&(l=1/l),s<1&&(s=1/s),s<l},t.shiftToLastRow=function(e){var n=t.getLongestRowIndex(e),i=e.rowWidth.length-1,r=e.rows[n],o=r[r.length-1],a=o.width+e.horizontalPadding;if(e.width-e.rowWidth[i]>a&&n!=i){r.splice(-1,1),e.rows[i].push(o),e.rowWidth[n]=e.rowWidth[n]-a,e.rowWidth[i]=e.rowWidth[i]+a,e.width=e.rowWidth[t.getLongestRowIndex(e)];for(var s=Number.MIN_VALUE,l=0;l<r.length;l++)r[l].height>s&&(s=r[l].height);n>0&&(s+=e.verticalPadding);var u=e.rowHeight[n]+e.rowHeight[i];e.rowHeight[n]=s,e.rowHeight[i]<o.height+e.verticalPadding&&(e.rowHeight[i]=o.height+e.verticalPadding);var c=e.rowHeight[n]+e.rowHeight[i];e.height+=c-u,t.shiftToLastRow(e)}},t.preLayout=function(){var e=t.groupZeroDegreeMembers();t.tiledMemberPack=t.clearCompounds(),t.tiledZeroDegreeNodes=t.clearZeroDegreeMembers(e)},t.postLayout=function(){for(var e=t.options.eles.nodes(),n=0;n<e.length;n++)t.getToBeTiled(e[n]);t.repopulateZeroDegreeMembers(t.tiledZeroDegreeNodes),t.repopulateCompounds(t.tiledMemberPack),t.options.cy.nodes().updateCompoundBounds()}}},{}],30:[function(t,e,n){function i(t,e){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}var r=t("./PointD");i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(t){this.lworldOrgX=t},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(t){this.lworldOrgY=t},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(t){this.lworldExtX=t},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(t){this.lworldExtY=t},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(t){this.ldeviceOrgX=t},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(t){this.ldeviceOrgY=t},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(t){this.ldeviceExtX=t},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(t){this.ldeviceExtY=t},i.prototype.transformX=function(t){var e=0,n=this.lworldExtX;return 0!=n&&(e=this.ldeviceOrgX+(t-this.lworldOrgX)*this.ldeviceExtX/n),e},i.prototype.transformY=function(t){var e=0,n=this.lworldExtY;return 0!=n&&(e=this.ldeviceOrgY+(t-this.lworldOrgY)*this.ldeviceExtY/n),e},i.prototype.inverseTransformX=function(t){var e=0,n=this.ldeviceExtX;return 0!=n&&(e=this.lworldOrgX+(t-this.ldeviceOrgX)*this.lworldExtX/n),e},i.prototype.inverseTransformY=function(t){var e=0,n=this.ldeviceExtY;return 0!=n&&(e=this.lworldOrgY+(t-this.ldeviceOrgY)*this.lworldExtY/n),e},i.prototype.inverseTransformPoint=function(t){var e=new r(this.inverseTransformX(t.x),this.inverseTransformY(t.y));return e},e.exports=i},{"./PointD":26}],31:[function(t,e,n){function i(){}i.lastID=0,i.createID=function(t){return i.isPrimitive(t)?t:null!=t.uniqueID?t.uniqueID:(t.uniqueID=i.getString(),i.lastID++,t.uniqueID)},i.getString=function(t){return null==t&&(t=i.lastID),"Object#"+t},i.isPrimitive=function(t){var e=typeof t;return null==t||"object"!=e&&"function"!=e},e.exports=i},{}],32:[function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n}function r(t){h(this),this.options=i(p,t),f(this.options)}var o=t("./DimensionD"),a=(t("./HashMap"),t("./HashSet"),t("./IGeometry"),t("./IMath"),t("./Integer"),t("./Point"),t("./PointD")),s=(t("./RandomSeed"),t("./RectangleD"),t("./Transform"),t("./UniqueIDGeneretor"),t("./LGraphObject"),t("./LGraph"),t("./LEdge"),t("./LGraphManager"),t("./LNode"),t("./Layout"),t("./LayoutConstants")),l=(t("./FDLayout"),t("./FDLayoutConstants")),u=(t("./FDLayoutEdge"),t("./FDLayoutNode"),t("./CoSEConstants")),c=(t("./CoSEEdge"),t("./CoSEGraph"),t("./CoSEGraphManager"),t("./CoSELayout")),d=t("./CoSENode"),h=t("./TilingExtension"),p={ready:function(){},stop:function(){},refresh:30,fit:!0,padding:10,paddingCompound:15,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8},f=function(t){null!=t.nodeRepulsion&&(u.DEFAULT_REPULSION_STRENGTH=l.DEFAULT_REPULSION_STRENGTH=t.nodeRepulsion),null!=t.idealEdgeLength&&(u.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=t.idealEdgeLength),null!=t.edgeElasticity&&(u.DEFAULT_SPRING_STRENGTH=l.DEFAULT_SPRING_STRENGTH=t.edgeElasticity),null!=t.nestingFactor&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor),null!=t.gravity&&(u.DEFAULT_GRAVITY_STRENGTH=l.DEFAULT_GRAVITY_STRENGTH=t.gravity),null!=t.numIter&&(u.MAX_ITERATIONS=l.MAX_ITERATIONS=t.numIter),null!=t.paddingCompound&&(u.DEFAULT_GRAPH_MARGIN=l.DEFAULT_GRAPH_MARGIN=s.DEFAULT_GRAPH_MARGIN=t.paddingCompound),null!=t.gravityRange&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=l.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange),null!=t.gravityCompound&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound),null!=t.gravityRangeCompound&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound),u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!t.randomize,u.ANIMATE=l.ANIMATE=t.animate};r.prototype.run=function(){var t,e,n=this.options,i=(this.idToLNode={},this.layout=new c),r=this;this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var o=i.newGraphManager();this.gm=o;var a=this.options.eles.nodes(),s=this.options.eles.edges();this.root=o.addRoot(),this.options.tile?this.preLayout():this.processChildrenList(this.root,this.getTopMostNodes(a),i);for(var l=0;l<s.length;l++){var u=s[l],d=this.idToLNode[u.data("source")],h=this.idToLNode[u.data("target")],p=o.add(i.newEdge(),d,h);p.id=u.id()}var f=function(t,e){"number"==typeof t&&(t=e);var n=t.data("id"),i=r.idToLNode[n];return{x:i.getRect().getCenterX(),y:i.getRect().getCenterY()}},g=function(){for(var i,o=function(){n.fit&&n.cy.fit(n.eles.nodes(),n.padding),t||(t=!0,r.cy.one("layoutready",n.ready),r.cy.trigger({type:"layoutready",layout:r}))},a=r.options.refresh,s=0;s<a&&!i;s++)i=r.layout.tick();if(i)return r.options.tile&&r.postLayout(),r.options.eles.nodes().positions(f),o(),r.cy.one("layoutstop",r.options.stop),r.cy.trigger("layoutstop"),r.cy.trigger({type:"layoutstop",layout:r}),e&&cancelAnimationFrame(e),r.options.eles.nodes().removeScratch("coseBilkent"),void(t=!1);var l=r.layout.getPositionsData();n.eles.nodes().positions(function(t,e){if("number"==typeof t&&(t=e),t.scratch("coseBilkent")&&t.scratch("coseBilkent").dummy_parent_id){var n=t.scratch("coseBilkent").dummy_parent_id;return{x:n.x,y:n.y}}for(var i=t.data("id"),r=l[i],o=t;null==r;)o=o.parent()[0],r=l[o.id()],l[i]=r;return{x:r.x,y:r.y}}),o(),e=requestAnimationFrame(g)};return i.addListener("layoutstarted",function(){"during"===r.options.animate&&(e=requestAnimationFrame(g))}),i.runLayout(),"during"!==this.options.animate&&setTimeout(function(){r.options.tile&&r.postLayout(),r.options.eles.nodes().not(":parent").layoutPositions(r,r.options,f),r.options.eles.nodes().removeScratch("coseBilkent"),t=!1},0),this},r.prototype.getTopMostNodes=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].id()]=!0;var i=t.filter(function(t,n){"number"==typeof t&&(t=n);for(var i=t.parent()[0];null!=i;){if(e[i.id()])return!1;i=i.parent()[0]}return!0});return i},r.prototype.processChildrenList=function(t,e,n){for(var i=e.length,r=0;r<i;r++){var s=e[r];this.options.eles.nodes().length;var l,u=s.children();if(l=null!=s.width()&&null!=s.height()?t.add(new d(n.graphManager,new a(s.position("x"),s.position("y")),new o(parseFloat(s.width()),parseFloat(s.height())))):t.add(new d(this.graphManager)),l.id=s.data("id"),this.idToLNode[s.data("id")]=l,isNaN(l.rect.x)&&(l.rect.x=0),isNaN(l.rect.y)&&(l.rect.y=0),null!=u&&u.length>0){var c;c=n.getGraphManager().add(n.newGraph(),l),this.processChildrenList(c,u,n)}}},r.prototype.stop=function(){return this.stopped=!0,this.trigger("layoutstop"),this},e.exports=function(t){return r}},{"./CoSEConstants":1,"./CoSEEdge":2,"./CoSEGraph":3,"./CoSEGraphManager":4,"./CoSELayout":5,"./CoSENode":6,"./DimensionD":7,"./FDLayout":9,"./FDLayoutConstants":10,"./FDLayoutEdge":11,"./FDLayoutNode":12,"./HashMap":13,"./HashSet":14,"./IGeometry":15,"./IMath":16,"./Integer":17,"./LEdge":18,"./LGraph":19,"./LGraphManager":20,"./LGraphObject":21,"./LNode":22,"./Layout":23,"./LayoutConstants":24,"./Point":25,"./PointD":26,"./RandomSeed":27,"./RectangleD":28,"./TilingExtension":29,"./Transform":30,"./UniqueIDGeneretor":31}],33:[function(t,e,n){"use strict";var i=t("./Layout"),r=function(t){var e=i(t);t("layout","cose-bilkent",e)};"undefined"!=typeof cytoscape&&r(cytoscape),e.exports=r},{"./Layout":32}]},{},[33])(33)}),function(){"use strict";var t={menuRadius:100,selector:"node",commands:[],fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(1, 105, 217, 0.75)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!1};"function"!=typeof Object.assign&&!function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}}();var e=function(t,e){var n=[].slice.call(e.querySelectorAll(t));e=e||document;for(var i=0,r=n.length;i<r;i++)n[i].remove()},n=function(t,e){for(var n=Object.keys(e),i=0,r=n.length;i<r;i++)t.style[n[i]]=e[n[i]]},i=function(t){t=t||{};var e=document.createElement(t.tag||"div");return e.className=t["class"]||"",t.style&&n(e,t.style),e},r=function(){return window.devicePixelRatio||1},o=function(o){o&&o("core","cxtmenu",function(o){function a(t){var e=t.getBoundingClientRect();return{left:e.left+document.body.scrollLeft+parseFloat(getComputedStyle(document.body)["padding-left"])+parseFloat(getComputedStyle(document.body)["border-left-width"]),top:e.top+document.body.scrollTop+parseFloat(getComputedStyle(document.body)["padding-top"])+parseFloat(getComputedStyle(document.body)["border-top-width"])}}function s(){e(".cxtmenu-item",T);for(var t=2*Math.PI/C.length,r=Math.PI/2,o=r+t,a=0;a<C.length;a++){var s=C[a],l=(r+o)/2,u=.66*S*Math.cos(l),c=.66*S*Math.sin(l),d=i({"class":"cxtmenu-item"});n(d,{color:y.itemColor,cursor:"default",display:"table","text-align":"center",position:"absolute","text-shadow":"-1px -1px 2px "+y.itemTextShadowColor+", 1px -1px 2px "+y.itemTextShadowColor+", -1px 1px 2px "+y.itemTextShadowColor+", 1px 1px 1px "+y.itemTextShadowColor,left:"50%",top:"50%","min-height":.66*S+"px",width:.66*S+"px",height:.66*S+"px",marginLeft:u-.33*S+"px",marginTop:-c-.33*S+"px"});var h=i({"class":"cxtmenu-content"});h.innerHTML=s.content,n(h,{width:.66*S+"px",height:.66*S+"px","vertical-align":"middle",display:"table-cell"}),s.disabled!==!0&&s.enabled!==!1||h.classList.add("cxtmenu-disabled"),T.appendChild(d),d.appendChild(h),r+=t,o+=t}}function l(t){M.drawBg=[t]}function u(t){t=void 0!==t?t:R,D.globalCompositeOperation="source-over",D.clearRect(0,0,k,k),D.fillStyle=y.fillColor;for(var e=2*Math.PI/C.length,n=Math.PI/2,i=n+e,r=0;r<C.length;r++){var o=C[r];o.fillColor&&(D.fillStyle=o.fillColor),D.beginPath(),D.moveTo(S+y.activePadding,S+y.activePadding),D.arc(S+y.activePadding,S+y.activePadding,S,2*Math.PI-n,2*Math.PI-i,!0),D.closePath(),D.fill(),n+=e,i+=e,D.fillStyle=y.fillColor}D.globalCompositeOperation="destination-out",D.strokeStyle="white",D.lineWidth=y.separatorWidth,n=Math.PI/2,i=n+e;for(var a=0;a<C.length;a++){var s=S*Math.cos(n),l=S*Math.sin(n);D.beginPath(),D.moveTo(S+y.activePadding,S+y.activePadding),D.lineTo(S+y.activePadding+s,S+y.activePadding-l),D.closePath(),D.stroke(),n+=e,i+=e}D.fillStyle="white",D.globalCompositeOperation="destination-out",D.beginPath(),D.arc(S+y.activePadding,S+y.activePadding,t+y.spotlightPadding,0,2*Math.PI,!0),D.closePath(),D.fill(),D.globalCompositeOperation="source-over"}function c(t,e,n){M.drawCommands=[t,e,n]}function d(t,e,n){var i=2*Math.PI/C.length,r=Math.PI/2,o=r+i;r+=i*E,o+=i*E,D.fillStyle=y.activeFillColor,D.strokeStyle="black",D.lineWidth=1,D.beginPath(),D.moveTo(S+y.activePadding,S+y.activePadding),D.arc(S+y.activePadding,S+y.activePadding,S+y.activePadding,2*Math.PI-r,2*Math.PI-o,!0),D.closePath(),D.fill(),D.fillStyle="white",D.globalCompositeOperation="destination-out";var a=S+y.activePadding+t/S*(R+y.spotlightPadding-y.indicatorSize/4),s=S+y.activePadding+e/S*(R+y.spotlightPadding-y.indicatorSize/4),l=Math.PI/4-n;D.translate(a,s),D.rotate(l),D.beginPath(),D.fillRect(-y.indicatorSize/2,-y.indicatorSize/2,y.indicatorSize,y.indicatorSize),D.closePath(),D.fill(),D.rotate(-l),D.translate(-a,-s),D.beginPath(),D.arc(S+y.activePadding,S+y.activePadding,R+y.spotlightPadding,0,2*Math.PI,!0),D.closePath(),D.fill(),D.globalCompositeOperation="source-over"}function h(){var t=r(),e=x.clientWidth,n=x.clientHeight;N.width=e*t,N.height=n*t,N.style.width=e+"px",N.style.height=n+"px",D.setTransform(1,0,0,1,0,0),D.scale(t,t)}function p(){var t,e,i,r,o,u,d=!1,p=function(){i&&m.userZoomingEnabled(!0)},f=function(){t&&v.grabify()},g=function(){r&&m.userPanningEnabled(!0)},b=function(){o&&m.boxSelectionEnabled(!0)},w=function(){f(),p(),g(),b()};window.addEventListener("resize",h),B.on("resize",function(t){h()}).on(y.openMenuEvents,y.selector,function(e){v=this;var c=this,h=this===m;if(d&&(T.style.display="none",d=!1,w()),C="function"==typeof y.commands?y.commands(v):y.commands,C&&0!==C.length){i=m.userZoomingEnabled(),m.userZoomingEnabled(!1),r=m.userPanningEnabled(),m.userPanningEnabled(!1),o=m.boxSelectionEnabled(),m.boxSelectionEnabled(!1),t=v.grabbable&&v.grabbable(),t&&v.ungrabify();var p,f,g;h||!c.isNode()||c.isParent()||y.atMouse?(p=e.renderedPosition||e.cyRenderedPosition,f=1,g=1):(p=c.renderedPosition(),f=c.renderedWidth(),g=c.renderedHeight()),_=a(x),I=p.x,O=p.y,s(),n(T,{display:"block",left:p.x-S+"px",top:p.y-S+"px"}),R=Math.max(f,g)/2,R=Math.max(R,y.minSpotlightRadius),R=Math.min(R,y.maxSpotlightRadius),l(),E=void 0,d=!0,u=e}}).on("cxtdrag tapdrag",y.selector,e=function(t){if(d){var e=t.originalEvent,n=e.touches&&e.touches.length>0,i=n?e.touches[0].pageX:e.pageX,r=n?e.touches[0].pageY:e.pageY;E=void 0;var o=i-_.left-I,a=r-_.top-O;0===o&&(o=.01);var s=Math.sqrt(o*o+a*a),u=(a*a-s*s-o*o)/(-2*s*o),h=Math.acos(u);if(s<R+y.spotlightPadding)return void l();l();var p=o*S/s,f=a*S/s;a>0&&(h=Math.PI+Math.abs(h-Math.PI));for(var g=2*Math.PI/C.length,v=Math.PI/2,m=v+g,x=0;x<C.length;x++){var b=C[x],w=v<=h&&h<=m||v<=h+2*Math.PI&&h+2*Math.PI<=m;if(b.disabled&&(w=!1),w){E=x;break}v+=g,m+=g}c(p,f,h)}}).on("tapdrag",e).on("cxttapend tapend",function(t){if(T.style.display="none",void 0!==E){var e=C[E].select;e&&(e.apply(v,[v,u]),E=void 0)}d=!1,w()})}function f(){for(var t=b.handlers,e=0;e<t.length;e++){var n=t[e];"core"===n.selector?m.off(n.events,n.fn):m.off(n.events,n.selector,n.fn)}window.removeEventListener("resize",h)}function g(){L=!1,f(),w.remove()}var v,y=Object.assign({},t,o),m=this,x=m.container(),b={options:y,handlers:[]},w=i({"class":"cxtmenu"});b.container=w;var E,_,T=i(),N=i({tag:"canvas"}),C=[],D=N.getContext("2d"),S=y.menuRadius,k=2*(S+y.activePadding);x.insertBefore(w,x.firstChild),w.appendChild(T),T.appendChild(N),n(w,{position:"absolute",zIndex:y.zIndex}),n(T,{display:"none",width:k+"px",height:k+"px",position:"absolute",zIndex:1,marginLeft:-y.activePadding+"px",marginTop:-y.activePadding+"px"}),N.width=k,N.height=k;var L=!0,M={},P=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,A=function(){M.drawBg&&u.apply(null,M.drawBg),M.drawCommands&&d.apply(null,M.drawCommands),M={},L&&P(A)};h(),A();var I,O,R,B={on:function(t,e,n){var i=n;return"core"===e&&(i=function(t){if(t.cyTarget===m||t.target===m)return n.apply(this,[t])}),b.handlers.push({events:t,selector:e,fn:i}),"core"===e?m.on(t,i):m.on(t,e,i),this}};return p(),{destroy:function(){g()}}})};"undefined"!=typeof module&&module.exports?module.exports=o:"undefined"!=typeof define&&define.amd&&define("cytoscape-cxtmenu",function(){return o}),"undefined"!=typeof cytoscape&&o(cytoscape)}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.cytoscapeNgraph||(e.cytoscapeNgraph={})).forcelayout=t()}}(function(){var t;return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,n,i){(function(e){!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof i&&"object"==typeof n)n.exports=e();else if("function"==typeof t&&t.amd)t(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var r="undefined"!=typeof window?window:self,o=r.Q;r.Q=e(),r.Q.noConflict=function(){return r.Q=o,this}}}(function(){"use strict";function t(t){return function(){return $.apply(t,arguments)}}function n(t){return t===Object(t)}function i(t){return"[object StopIteration]"===it(t)||t instanceof H}function r(t,e){if(X&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&t.stack.indexOf(rt)===-1){for(var n=[],i=e;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(t.stack);var r=n.join("\n"+rt+"\n");t.stack=o(r)}}function o(t){for(var e=t.split("\n"),n=[],i=0;i<e.length;++i){var r=e[i];l(r)||a(r)||!r||n.push(r)}return n.join("\n")}function a(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function s(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(t);return i?[i[1],Number(i[2])]:void 0}function l(t){var e=s(t);if(!e)return!1;var n=e[0],i=e[1];return n===V&&i>=G&&i<=ut}function u(){if(X)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],i=s(n);if(!i)return;return V=i[0],i[1]}}function c(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}function d(t){return t instanceof g?t:x(t)?S(t):D(t)}function h(){function t(t){e=t,o.source=t,K(n,function(e,n){d.nextTick(function(){t.promiseDispatch.apply(t,n)})},void 0),n=void 0,i=void 0}var e,n=[],i=[],r=tt(h.prototype),o=tt(g.prototype);if(o.promiseDispatch=function(t,r,o){var a=Z(arguments);n?(n.push(a),"when"===r&&o[1]&&i.push(o[1])):d.nextTick(function(){e.promiseDispatch.apply(e,a)})},o.valueOf=function(){if(n)return o;var t=y(e);return m(t)&&(e=t),t},o.inspect=function(){return e?e.inspect():{state:"pending"}},d.longStackSupport&&X)try{throw new Error}catch(a){o.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return r.promise=o,r.resolve=function(n){e||t(d(n))},r.fulfill=function(n){e||t(D(n))},r.reject=function(n){e||t(C(n))},r.notify=function(t){e||K(i,function(e,n){d.nextTick(function(){n(t)})},void 0)},r}function p(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=h();try{t(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}return e.promise}function f(t){return p(function(e,n){for(var i=0,r=t.length;i<r;i++)d(t[i]).then(e,n)})}function g(t,e,n){void 0===e&&(e=function(t){return C(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var i=tt(g.prototype);if(i.promiseDispatch=function(n,r,o){var a;try{a=t[r]?t[r].apply(i,o):e.call(i,r,o)}catch(s){a=C(s)}n&&n(a)},i.inspect=n,n){var r=n();"rejected"===r.state&&(i.exception=r.reason),i.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?i:t.value}}return i}function v(t,e,n,i){return d(t).then(e,n,i)}function y(t){if(m(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function m(t){return t instanceof g}function x(t){return n(t)&&"function"==typeof t.then}function b(t){return m(t)&&"pending"===t.inspect().state}function w(t){return!m(t)||"fulfilled"===t.inspect().state}function E(t){return m(t)&&"rejected"===t.inspect().state}function _(){ot.length=0,at.length=0,lt||(lt=!0)}function T(t,n){lt&&("object"==typeof e&&"function"==typeof e.emit&&d.nextTick.runAfter(function(){Q(at,t)!==-1&&(e.emit("unhandledRejection",n,t),st.push(t))}),at.push(t),n&&"undefined"!=typeof n.stack?ot.push(n.stack):ot.push("(no stack) "+n))}function N(t){if(lt){var n=Q(at,t);n!==-1&&("object"==typeof e&&"function"==typeof e.emit&&d.nextTick.runAfter(function(){var i=Q(st,t);i!==-1&&(e.emit("rejectionHandled",ot[n],t),st.splice(i,1))}),at.splice(n,1),ot.splice(n,1))}}function C(t){var e=g({when:function(e){return e&&N(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return T(e,t),e}function D(t){return g({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},"delete":function(e){delete t[e]},post:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return nt(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function S(t){var e=h();return d.nextTick(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}}),e.promise}function k(t){return g({isDef:function(){}},function(e,n){return O(t,e,n)},function(){return d(t).inspect()})}function L(t,e,n){return d(t).spread(e,n)}function M(t){return function(){function e(t,e){var a;if("undefined"==typeof StopIteration){try{a=n[t](e)}catch(s){return C(s)}return a.done?d(a.value):v(a.value,r,o)}try{a=n[t](e)}catch(s){return i(s)?d(s.value):C(s)}return v(a,r,o)}var n=t.apply(this,arguments),r=e.bind(e,"next"),o=e.bind(e,"throw");return r()}}function P(t){d.done(d.async(t)())}function A(t){throw new H(t)}function I(t){return function(){return L([this,R(arguments)],function(e,n){return t.apply(e,n)})}}function O(t,e,n){return d(t).dispatch(e,n)}function R(t){return v(t,function(t){var e=0,n=h();return K(t,function(i,r,o){var a;m(r)&&"fulfilled"===(a=r.inspect()).state?t[o]=a.value:(++e,v(r,function(i){t[o]=i,0===--e&&n.resolve(t)},n.reject,function(t){n.notify({index:o,value:t})}))},void 0),0===e&&n.resolve(t),n.promise})}function B(t){if(0===t.length)return d.resolve();var e=d.defer(),n=0;return K(t,function(i,r,o){function a(t){e.resolve(t)}function s(){n--,0===n&&e.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function l(t){e.notify({index:o,value:t})}var u=t[o];n++,v(u,a,s,l)},void 0),e.promise}function F(t){return v(t,function(t){return t=J(t,d),v(R(J(t,function(t){return v(t,U,U)})),function(){return t})})}function j(t){return d(t).allSettled()}function z(t,e){return d(t).then(void 0,void 0,e)}function q(t,e){return d(t).nodeify(e)}var X=!1;try{throw new Error}catch(Y){X=!!Y.stack}var V,H,G=u(),U=function(){},W=function(){function t(){for(var t,e;i.next;)i=i.next,t=i.task,i.task=void 0,e=i.domain,e&&(i.domain=void 0,e.enter()),n(t,e);for(;l.length;)t=l.pop(),n(t);o=!1}function n(e,n){try{e()}catch(i){if(s)throw n&&n.exit(),setTimeout(t,0),n&&n.enter(),i;setTimeout(function(){throw i},0)}n&&n.exit()}var i={task:void 0,next:null},r=i,o=!1,a=void 0,s=!1,l=[];if(W=function(t){r=r.next={task:t,domain:s&&e.domain,next:null},o||(o=!0,a())},"object"==typeof e&&"[object process]"===e.toString()&&e.nextTick)s=!0,a=function(){e.nextTick(t)};else if("function"==typeof setImmediate)a="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=function(){a=c,u.port1.onmessage=t,t()};var c=function(){u.port2.postMessage(0)};a=function(){setTimeout(t,0),c()}}else a=function(){setTimeout(t,0)};return W.runAfter=function(t){l.push(t),o||(o=!0,a())},W}(),$=Function.call,Z=t(Array.prototype.slice),K=t(Array.prototype.reduce||function(t,e){var n=0,i=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=i)throw new TypeError}for(;n<i;n++)n in this&&(e=t(e,this[n],n));return e}),Q=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),J=t(Array.prototype.map||function(t,e){var n=this,i=[];return K(n,function(r,o,a){i.push(t.call(e,o,a,n))},void 0),i}),tt=Object.create||function(t){function e(){}return e.prototype=t,new e},et=t(Object.prototype.hasOwnProperty),nt=Object.keys||function(t){var e=[];for(var n in t)et(t,n)&&e.push(n);return e},it=t(Object.prototype.toString);H="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var rt="From previous event:";d.resolve=d,d.nextTick=W,d.longStackSupport=!1,"object"==typeof e&&e&&e.env&&e.env.Q_DEBUG&&(d.longStackSupport=!0),d.defer=h,h.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):arguments.length>2?t.resolve(Z(arguments,1)):t.resolve(n)}},d.Promise=p,d.promise=p,p.race=f,p.all=R,p.reject=C,p.resolve=d,d.passByCopy=function(t){return t},g.prototype.passByCopy=function(){return this},d.join=function(t,e){return d(t).join(e)},g.prototype.join=function(t){return d([this,t]).spread(function(t,e){if(t===e)return t;throw new Error("Can't join: not the same: "+t+" "+e)})},d.race=f,g.prototype.race=function(){return this.then(d.race)},d.makePromise=g,g.prototype.toString=function(){return"[object Promise]"},g.prototype.then=function(t,e,n){function i(e){try{return"function"==typeof t?t(e):e}catch(n){return C(n)}}function o(t){if("function"==typeof e){r(t,s);try{return e(t)}catch(n){return C(n)}}return C(t)}function a(t){return"function"==typeof n?n(t):t}var s=this,l=h(),u=!1;return d.nextTick(function(){s.promiseDispatch(function(t){u||(u=!0,l.resolve(i(t)))},"when",[function(t){u||(u=!0,l.resolve(o(t)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=a(t)}catch(i){if(n=!0,!d.onerror)throw i;d.onerror(i)}n||l.notify(e)}]),l.promise},d.tap=function(t,e){return d(t).tap(e)},g.prototype.tap=function(t){return t=d(t),this.then(function(e){return t.fcall(e).thenResolve(e)})},d.when=v,g.prototype.thenResolve=function(t){return this.then(function(){return t})},d.thenResolve=function(t,e){return d(t).thenResolve(e)},g.prototype.thenReject=function(t){return this.then(function(){throw t})},d.thenReject=function(t,e){return d(t).thenReject(e)},d.nearer=y,d.isPromise=m,d.isPromiseAlike=x,d.isPending=b,g.prototype.isPending=function(){return"pending"===this.inspect().state},d.isFulfilled=w,g.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},d.isRejected=E,g.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ot=[],at=[],st=[],lt=!0;d.resetUnhandledRejections=_,d.getUnhandledReasons=function(){return ot.slice()},d.stopUnhandledRejectionTracking=function(){_(),lt=!1},_(),d.reject=C,d.fulfill=D,d.master=k,d.spread=L,g.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},d.async=M,d.spawn=P,d["return"]=A,d.promised=I,d.dispatch=O,g.prototype.dispatch=function(t,e){var n=this,i=h();return d.nextTick(function(){n.promiseDispatch(i.resolve,t,e)}),i.promise},d.get=function(t,e){return d(t).dispatch("get",[e])},g.prototype.get=function(t){return this.dispatch("get",[t]);
},d.set=function(t,e,n){return d(t).dispatch("set",[e,n])},g.prototype.set=function(t,e){return this.dispatch("set",[t,e])},d.del=d["delete"]=function(t,e){return d(t).dispatch("delete",[e])},g.prototype.del=g.prototype["delete"]=function(t){return this.dispatch("delete",[t])},d.mapply=d.post=function(t,e,n){return d(t).dispatch("post",[e,n])},g.prototype.mapply=g.prototype.post=function(t,e){return this.dispatch("post",[t,e])},d.send=d.mcall=d.invoke=function(t,e){return d(t).dispatch("post",[e,Z(arguments,2)])},g.prototype.send=g.prototype.mcall=g.prototype.invoke=function(t){return this.dispatch("post",[t,Z(arguments,1)])},d.fapply=function(t,e){return d(t).dispatch("apply",[void 0,e])},g.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},d["try"]=d.fcall=function(t){return d(t).dispatch("apply",[void 0,Z(arguments,1)])},g.prototype.fcall=function(){return this.dispatch("apply",[void 0,Z(arguments)])},d.fbind=function(t){var e=d(t),n=Z(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(Z(arguments))])}},g.prototype.fbind=function(){var t=this,e=Z(arguments);return function(){return t.dispatch("apply",[this,e.concat(Z(arguments))])}},d.keys=function(t){return d(t).dispatch("keys",[])},g.prototype.keys=function(){return this.dispatch("keys",[])},d.all=R,g.prototype.all=function(){return R(this)},d.any=B,g.prototype.any=function(){return B(this)},d.allResolved=c(F,"allResolved","allSettled"),g.prototype.allResolved=function(){return F(this)},d.allSettled=j,g.prototype.allSettled=function(){return this.then(function(t){return R(J(t,function(t){function e(){return t.inspect()}return t=d(t),t.then(e,e)}))})},d.fail=d["catch"]=function(t,e){return d(t).then(void 0,e)},g.prototype.fail=g.prototype["catch"]=function(t){return this.then(void 0,t)},d.progress=z,g.prototype.progress=function(t){return this.then(void 0,void 0,t)},d.fin=d["finally"]=function(t,e){return d(t)["finally"](e)},g.prototype.fin=g.prototype["finally"]=function(t){return t=d(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},d.done=function(t,e,n,i){return d(t).done(e,n,i)},g.prototype.done=function(t,n,i){var o=function(t){d.nextTick(function(){if(r(t,a),!d.onerror)throw t;d.onerror(t)})},a=t||n||i?this.then(t,n,i):this;"object"==typeof e&&e&&e.domain&&(o=e.domain.bind(o)),a.then(void 0,o)},d.timeout=function(t,e,n){return d(t).timeout(e,n)},g.prototype.timeout=function(t,e){var n=h(),i=setTimeout(function(){e&&"string"!=typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),n.reject(e)},t);return this.then(function(t){clearTimeout(i),n.resolve(t)},function(t){clearTimeout(i),n.reject(t)},n.notify),n.promise},d.delay=function(t,e){return void 0===e&&(e=t,t=void 0),d(t).delay(e)},g.prototype.delay=function(t){return this.then(function(e){var n=h();return setTimeout(function(){n.resolve(e)},t),n.promise})},d.nfapply=function(t,e){return d(t).nfapply(e)},g.prototype.nfapply=function(t){var e=h(),n=Z(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},d.nfcall=function(t){var e=Z(arguments,1);return d(t).nfapply(e)},g.prototype.nfcall=function(){var t=Z(arguments),e=h();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},d.nfbind=d.denodeify=function(t){var e=Z(arguments,1);return function(){var n=e.concat(Z(arguments)),i=h();return n.push(i.makeNodeResolver()),d(t).fapply(n).fail(i.reject),i.promise}},g.prototype.nfbind=g.prototype.denodeify=function(){var t=Z(arguments);return t.unshift(this),d.denodeify.apply(void 0,t)},d.nbind=function(t,e){var n=Z(arguments,2);return function(){function i(){return t.apply(e,arguments)}var r=n.concat(Z(arguments)),o=h();return r.push(o.makeNodeResolver()),d(i).fapply(r).fail(o.reject),o.promise}},g.prototype.nbind=function(){var t=Z(arguments,0);return t.unshift(this),d.nbind.apply(void 0,t)},d.nmapply=d.npost=function(t,e,n){return d(t).npost(e,n)},g.prototype.nmapply=g.prototype.npost=function(t,e){var n=Z(e||[]),i=h();return n.push(i.makeNodeResolver()),this.dispatch("post",[t,n]).fail(i.reject),i.promise},d.nsend=d.nmcall=d.ninvoke=function(t,e){var n=Z(arguments,2),i=h();return n.push(i.makeNodeResolver()),d(t).dispatch("post",[e,n]).fail(i.reject),i.promise},g.prototype.nsend=g.prototype.nmcall=g.prototype.ninvoke=function(t){var e=Z(arguments,1),n=h();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},d.nodeify=q,g.prototype.nodeify=function(t){return t?void this.then(function(e){d.nextTick(function(){t(null,e)})},function(e){d.nextTick(function(){t(e)})}):this},d.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ut=u();return d})}).call(this,e("_process"))},{_process:38}],2:[function(t,e,n){function i(e,n){function i(){if(!C)return P.postMessage(L),S}function h(t,e,n,i){P.postMessage({kind:d.setNodePosition,payload:{nodeId:t,x:e,y:n,z:i}}),N(M[t],{x:e,y:n,z:i})}function p(){return _}function f(t,e){P.postMessage({kind:d.pinNode,payload:{nodeId:t.id,isPinned:e}}),k[t.id]=e}function g(t){return k[t.id]}function v(){if(D)throw new Error("Init request is already sent to the worker");P.postMessage({kind:d.init,payload:{graph:s(e),options:JSON.stringify(n)}}),D=!0}function y(){function t(t){M[t.id]=i.getNodePosition(t.id)}var i=u(e,n);e.forEachNode(t),_=i.getGraphRect()}function m(t){return M[t]}function x(t){return T||b(),T[t]}function b(){T=Object.create(null),e.forEachLink(function(t){T[t.id]={from:m(t.fromId),to:m(t.toId)}})}function w(t){var e=t.data.kind,n=t.data.payload;e===d.cycleComplete&&(E(n.positions,n.systemStable),_=n.bbox,A.fire("cycle",n.iterations,n.systemStable)),e===d.initDone&&(C=!1,i())}function E(t,e){function n(e){var n=t[e],i=M[e];i?N(i,n):M[e]=n}S=e,Object.keys(t).forEach(n)}n=c(n);var _,T,N=n.is3d?r:o,C=!1,D=!1,S=!1,k=Object.create(null),L={kind:d.step},M=Object.create(null),P=a(t("./lib/layoutWorker.js"));P.addEventListener("message",w),v(),y();var A={step:i,getNodePosition:m,getLinkPosition:x,pinNode:f,setNodePosition:h,getGraphRect:p,isNodePinned:g};return l(A),A}function r(t,e){t.x=e.x,t.y=e.y,t.z=e.z}function o(t,e){t.x=e.x,t.y=e.y}var a=t("webworkify"),s=t("ngraph.tojson"),l=t("ngraph.events"),u=t("./lib/createLayout.js"),c=t("./options.js"),d=t("./lib/messages.js");e.exports=i},{"./lib/createLayout.js":3,"./lib/layoutWorker.js":4,"./lib/messages.js":5,"./options.js":6,"ngraph.events":7,"ngraph.tojson":37,webworkify:40}],3:[function(t,e,n){function i(t,e){return e=e||{},e.is3d?r(t,e.physics):o(t,e.physics)}var r=t("ngraph.forcelayout3d"),o=r.get2dLayout;e.exports=i},{"ngraph.forcelayout3d":9}],4:[function(t,e,n){function i(t){function e(t){var e=t.data.kind,r=t.data.payload;if(e===s.init){v=o(r.graph);var a=JSON.parse(r.options);u(v,a)}else e===s.step?d():e===s.pinNode?i(r.nodeId,r.isPinned):e===s.setNodePosition&&n(r.nodeId,r.x,r.y,r.z)}function n(t,e,n,i){l(),f.setNodePosition.apply(f,arguments),b=!1,d()}function i(t,e){l();var n=v.getNode(t);n&&f.pinNode(n,e)}function l(){if(!v)throw new Error("Pin node requested without initialied graph");if(!f)throw new Error("Layout was not created. Something is really wrong here")}function u(e,n){n=a(n),g=n.async,f=r(e,n),e.forEachNode(c),t.postMessage({kind:s.initDone})}function c(t){w[t.id]=f.getNodePosition(t.id)}function d(){l(),m=!0,x||h()}function h(){return b?void(x=0):void(x=setTimeout(function(){p(),m||!g.waitForStep?(m=!1,h()):x=0},0))}function p(){for(var e=0;e<g.stepsPerCycle;++e)b=f.step(),y+=1;y>=g.maxIterations&&(b=!0),t.postMessage({kind:s.cycleComplete,payload:{positions:w,systemStable:b,bbox:f.getGraphRect(),iterations:y}})}var f,g,v,y=0,m=!1,x=0,b=!1,w=Object.create(null);t.addEventListener("message",e)}var r=t("./createLayout.js"),o=t("ngraph.fromjson"),a=t("../options.js"),s=t("./messages.js");e.exports=i},{"../options.js":6,"./createLayout.js":3,"./messages.js":5,"ngraph.fromjson":23}],5:[function(t,e,n){e.exports={init:10,initDone:11,step:12,cycleComplete:13,pinNode:41,setNodePosition:43}},{}],6:[function(t,e,n){function i(t){t=t||{},t.is3d="boolean"==typeof t.is3d&&t.is3d;var e=t.async=t.async||{};return e.stepsPerCycle="number"==typeof e.stepsPerCycle?e.stepsPerCycle:5,e.maxIterations="number"==typeof e.maxIterations?e.maxIterations:Number.POSITIVE_INFINITY,e.waitForStep="boolean"!=typeof e.waitForStep||e.waitForStep,t}e.exports=i},{}],7:[function(t,e,n){function i(t){var e=Object.create(null);return{on:function(n,i,r){if("function"!=typeof i)throw new Error("callback is expected to be a function");var o=e[n];return o||(o=e[n]=[]),o.push({callback:i,ctx:r}),t},off:function(n,i){var r="undefined"==typeof n;if(r)return e=Object.create(null),t;if(e[n]){var o="function"!=typeof i;if(o)delete e[n];else for(var a=e[n],s=0;s<a.length;++s)a[s].callback===i&&a.splice(s,1)}return t},fire:function(n){var i=e[n];if(!i)return t;var r;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var o=0;o<i.length;++o){var a=i[o];a.callback.apply(a.ctx,r)}return t}}}function r(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],n=0;n<e.length;++n)if(t.hasOwnProperty(e[n]))throw new Error("Subject cannot be eventified, since it already has property '"+e[n]+"'")}e.exports=function(t){r(t);var e=i(t);return t.on=e.on,t.off=e.off,t.fire=e.fire,t}},{}],8:[function(t,e,n){function i(t,e,n){var i="[object Array]"===Object.prototype.toString.call(n);if(i)for(var o=0;o<n.length;++o)r(t,e,n[o]);else for(var a in t)r(t,e,a)}function r(t,e,n){if(t.hasOwnProperty(n)){if("function"==typeof e[n])return;e[n]=function(i){return void 0!==i?(t[n]=i,e):t[n]}}}e.exports=i},{}],9:[function(t,e,n){function i(e,n){var r=t("ngraph.merge");return n=r(n,{createQuadTree:t("ngraph.quadtreebh3d"),createBounds:t("./lib/bounds"),createDragForce:t("./lib/dragForce"),createSpringForce:t("./lib/springForce"),integrator:t("./lib/eulerIntegrator"),createBody:t("./lib/createBody")}),i.get2dLayout(e,n)}e.exports=i,i.get2dLayout=t("ngraph.forcelayout")},{"./lib/bounds":10,"./lib/createBody":11,"./lib/dragForce":12,"./lib/eulerIntegrator":13,"./lib/springForce":14,"ngraph.forcelayout":15,"ngraph.merge":26,"ngraph.quadtreebh3d":28}],10:[function(t,e,n){e.exports=function(e,n){function i(){var t=e.length;if(0!==t){for(var n=Number.MAX_VALUE,i=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MIN_VALUE,s=Number.MIN_VALUE,l=Number.MIN_VALUE;t--;){var u=e[t];u.isPinned?(u.pos.x=u.prevPos.x,u.pos.y=u.prevPos.y,u.pos.z=u.prevPos.z):(u.prevPos.x=u.pos.x,u.prevPos.y=u.pos.y,u.prevPos.z=u.pos.z),u.pos.x<n&&(n=u.pos.x),u.pos.x>a&&(a=u.pos.x),u.pos.y<i&&(i=u.pos.y),u.pos.y>s&&(s=u.pos.y),u.pos.z<r&&(r=u.pos.z),u.pos.z>l&&(l=u.pos.z)}o.x1=n,o.x2=a,o.y1=i,o.y2=s,o.z1=r,o.z2=l}}var r=t("ngraph.random").random(42),o={x1:0,y1:0,z1:0,x2:0,y2:0,z2:0};return{box:o,update:i,reset:function(){o.x1=o.y1=0,o.x2=o.y2=0,o.z1=o.z2=0},getBestNewPosition:function(t){var e=o,i=0,a=0,s=0;if(t.length){for(var l=0;l<t.length;++l)i+=t[l].pos.x,a+=t[l].pos.y,s+=t[l].pos.z;i/=t.length,a/=t.length,s/=t.length}else i=(e.x1+e.x2)/2,a=(e.y1+e.y2)/2,s=(e.z1+e.z2)/2;var u=n.springLength;return{x:i+r.next(u)-u/2,y:a+r.next(u)-u/2,z:s+r.next(u)-u/2}}}}},{"ngraph.random":36}],11:[function(t,e,n){var i=t("ngraph.physics.primitives");e.exports=function(t){return new i.Body3d(t)}},{"ngraph.physics.primitives":27}],12:[function(t,e,n){e.exports=function(e){var n=t("ngraph.merge"),i=t("ngraph.expose");e=n(e,{dragCoeff:.02});var r={update:function(t){t.force.x-=e.dragCoeff*t.velocity.x,t.force.y-=e.dragCoeff*t.velocity.y,t.force.z-=e.dragCoeff*t.velocity.z}};return i(e,r,["dragCoeff"]),r}},{"ngraph.expose":8,"ngraph.merge":26}],13:[function(t,e,n){function i(t,e){var n,i=0,r=0,o=0,a=0,s=0,l=0,u=t.length;for(n=0;n<u;++n){var c=t[n],d=e/c.mass;c.velocity.x+=d*c.force.x,c.velocity.y+=d*c.force.y,c.velocity.z+=d*c.force.z;var h=c.velocity.x,p=c.velocity.y,f=c.velocity.z,g=Math.sqrt(h*h+p*p+f*f);g>1&&(c.velocity.x=h/g,c.velocity.y=p/g,c.velocity.z=f/g),i=e*c.velocity.x,o=e*c.velocity.y,s=e*c.velocity.z,c.pos.x+=i,c.pos.y+=o,c.pos.z+=s,r+=Math.abs(i),a+=Math.abs(o),l+=Math.abs(s)}return(r*r+a*a+l*l)/t.length}e.exports=i},{}],14:[function(t,e,n){e.exports=function(e){var n=t("ngraph.merge"),i=t("ngraph.random").random(42),r=t("ngraph.expose");e=n(e,{springCoeff:2e-4,springLength:80});var o={update:function(t){var n=t.from,r=t.to,o=t.length<0?e.springLength:t.length,a=r.pos.x-n.pos.x,s=r.pos.y-n.pos.y,l=r.pos.z-n.pos.z,u=Math.sqrt(a*a+s*s+l*l);0===u&&(a=(i.nextDouble()-.5)/50,s=(i.nextDouble()-.5)/50,l=(i.nextDouble()-.5)/50,u=Math.sqrt(a*a+s*s+l*l));var c=u-o,d=(!t.coeff||t.coeff<0?e.springCoeff:t.coeff)*c/u*t.weight;n.force.x+=d*a,n.force.y+=d*s,n.force.z+=d*l,r.force.x-=d*a,r.force.y-=d*s,r.force.z-=d*l}};return r(e,o,["springCoeff","springLength"]),o}},{"ngraph.expose":8,"ngraph.merge":26,"ngraph.random":36}],15:[function(t,e,n){function i(e,n){function i(t,n){var i;if(void 0===n)i="string"==typeof t?t:t.id;else{var r=e.hasLink(t,n);if(!r)return;i=r.id}return w[i]}function o(t){return b[t]}function a(){e.on("changed",s)}function s(t){for(var e=0;e<t.length;++e){var n=t[e];"add"===n.changeType?(n.node&&u(n.node.id),n.link&&d(n.link)):"remove"===n.changeType&&(n.node&&c(n.node),n.link&&h(n.link))}}function l(){e.forEachNode(function(t){u(t.id)}),e.forEachLink(d)}function u(t){var n=b[t];if(!n){var i=e.getNode(t);if(!i)throw new Error("initBody() was called with unknown node id");var r=i.position;if(!r){var o=p(i);r=x.getBestNewBodyPosition(o)}n=x.addBodyAt(r),b[t]=n,f(t),g(i)&&(n.isPinned=!0)}}function c(t){var e=t.id,n=b[e];n&&(b[e]=null,delete b[e],x.removeBody(n))}function d(t){f(t.fromId),f(t.toId);var e=b[t.fromId],n=b[t.toId],i=x.addSpring(e,n,t.length);E(t,i),w[t.id]=i}function h(t){var n=w[t.id];if(n){var i=e.getNode(t.fromId),r=e.getNode(t.toId);i&&f(i.id),r&&f(r.id),delete w[t.id],x.removeSpring(n)}}function p(t){var e=[];if(!t.links)return e;for(var n=Math.min(t.links.length,2),i=0;i<n;++i){var r=t.links[i],o=r.fromId!==t.id?b[r.fromId]:b[r.toId];o&&o.pos&&e.push(o)}return e}function f(t){var e=b[t];e.mass=y(t)}function g(t){return t&&(t.isPinned||t.data&&t.data.isPinned)}function v(t){var e=b[t];return e||(u(t),e=b[t]),e}function y(t){return 1+e.getLinks(t).length/3}if(!e)throw new Error("Graph structure cannot be undefined");var m=t("ngraph.physics.simulator"),x=m(n),b="function"==typeof Object.create?Object.create(null):{},w={},E=x.settings.springTransform||r;l(),a();var _={step:function(){return x.step()},getNodePosition:function(t){return v(t).pos},setNodePosition:function(t){var e=v(t);e.setPosition.apply(e,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(t){var e=w[t];if(e)return{from:e.from.pos,to:e.to.pos}},getGraphRect:function(){return x.getBBox()},pinNode:function(t,e){var n=v(t.id);n.isPinned=!!e},isNodePinned:function(t){return v(t.id).isPinned},dispose:function(){e.off("changed",s)},getBody:o,getSpring:i,simulator:x};return _}function r(){}e.exports=i,e.exports.simulator=t("ngraph.physics.simulator")},{"ngraph.physics.simulator":16}],16:[function(t,e,n){function i(e){function n(){var t,e=h.length;if(e)for(f.insertBodies(h);e--;)t=h[e],t.isPinned||(t.force.reset(),f.updateBodyForce(t),y.update(t));for(e=p.length;e--;)v.update(p[e])}var i=t("./lib/spring"),r=t("ngraph.expose"),o=t("ngraph.merge");e=o(e,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20,stableThreshold:.009});var a=e.createQuadTree||t("ngraph.quadtreebh"),s=e.createBounds||t("./lib/bounds"),l=e.createDragForce||t("./lib/dragForce"),u=e.createSpringForce||t("./lib/springForce"),c=e.integrator||t("./lib/eulerIntegrator"),d=e.createBody||t("./lib/createBody"),h=[],p=[],f=a(e),g=s(h,e),v=u(e),y=l(e),m={bodies:h,springs:p,settings:e,step:function(){n();var t=c(h,e.timeStep);return g.update(),t<e.stableThreshold},addBody:function(t){if(!t)throw new Error("Body is required");return h.push(t),t},addBodyAt:function(t){if(!t)throw new Error("Body position is required");var e=d(t);return h.push(e),e},removeBody:function(t){if(t){var e=h.indexOf(t);if(!(e<0))return h.splice(e,1),0===h.length&&g.reset(),!0}},addSpring:function(t,e,n,r,o){if(!t||!e)throw new Error("Cannot add null spring to force simulator");"number"!=typeof n&&(n=-1);var a=new i(t,e,n,o>=0?o:-1,r);return p.push(a),a},removeSpring:function(t){if(t){var e=p.indexOf(t);return e>-1?(p.splice(e,1),!0):void 0}},getBestNewBodyPosition:function(t){return g.getBestNewPosition(t)},getBBox:function(){return g.box},gravity:function(t){return void 0!==t?(e.gravity=t,f.options({gravity:t}),this):e.gravity},theta:function(t){return void 0!==t?(e.theta=t,f.options({theta:t}),this):e.theta}};return r(e,m),m}e.exports=i},{"./lib/bounds":17,"./lib/createBody":18,"./lib/dragForce":19,"./lib/eulerIntegrator":20,"./lib/spring":21,"./lib/springForce":22,"ngraph.expose":8,"ngraph.merge":26,"ngraph.quadtreebh":32}],17:[function(t,e,n){e.exports=function(e,n){function i(){var t=e.length;if(0!==t){for(var n=Number.MAX_VALUE,i=Number.MAX_VALUE,r=Number.MIN_VALUE,a=Number.MIN_VALUE;t--;){var s=e[t];s.isPinned?(s.pos.x=s.prevPos.x,s.pos.y=s.prevPos.y):(s.prevPos.x=s.pos.x,s.prevPos.y=s.pos.y),s.pos.x<n&&(n=s.pos.x),s.pos.x>r&&(r=s.pos.x),s.pos.y<i&&(i=s.pos.y),s.pos.y>a&&(a=s.pos.y)}o.x1=n,o.x2=r,o.y1=i,o.y2=a}}var r=t("ngraph.random").random(42),o={x1:0,y1:0,x2:0,y2:0};return{box:o,update:i,reset:function(){o.x1=o.y1=0,o.x2=o.y2=0},getBestNewPosition:function(t){var e=o,i=0,a=0;if(t.length){for(var s=0;s<t.length;++s)i+=t[s].pos.x,a+=t[s].pos.y;i/=t.length,a/=t.length}else i=(e.x1+e.x2)/2,a=(e.y1+e.y2)/2;var l=n.springLength;return{x:i+r.next(l)-l/2,y:a+r.next(l)-l/2}}}}},{"ngraph.random":36}],18:[function(t,e,n){var i=t("ngraph.physics.primitives");e.exports=function(t){return new i.Body(t)}},{"ngraph.physics.primitives":27}],19:[function(t,e,n){e.exports=function(e){var n=t("ngraph.merge"),i=t("ngraph.expose");e=n(e,{dragCoeff:.02});var r={update:function(t){t.force.x-=e.dragCoeff*t.velocity.x,t.force.y-=e.dragCoeff*t.velocity.y}};return i(e,r,["dragCoeff"]),r}},{"ngraph.expose":8,"ngraph.merge":26}],20:[function(t,e,n){function i(t,e){var n,i=0,r=0,o=0,a=0,s=t.length;for(n=0;n<s;++n){var l=t[n],u=e/l.mass;l.velocity.x+=u*l.force.x,l.velocity.y+=u*l.force.y;var c=l.velocity.x,d=l.velocity.y,h=Math.sqrt(c*c+d*d);h>1&&(l.velocity.x=c/h,l.velocity.y=d/h),i=e*l.velocity.x,o=e*l.velocity.y,l.pos.x+=i,l.pos.y+=o,r+=Math.abs(i),a+=Math.abs(o)}return(r*r+a*a)/t.length}e.exports=i},{}],21:[function(t,e,n){function i(t,e,n,i,r){this.from=t,this.to=e,this.length=n,this.coeff=i,this.weight="number"==typeof r?r:1}e.exports=i},{}],22:[function(t,e,n){e.exports=function(e){var n=t("ngraph.merge"),i=t("ngraph.random").random(42),r=t("ngraph.expose");e=n(e,{springCoeff:2e-4,springLength:80});var o={update:function(t){var n=t.from,r=t.to,o=t.length<0?e.springLength:t.length,a=r.pos.x-n.pos.x,s=r.pos.y-n.pos.y,l=Math.sqrt(a*a+s*s);0===l&&(a=(i.nextDouble()-.5)/50,s=(i.nextDouble()-.5)/50,l=Math.sqrt(a*a+s*s));var u=l-o,c=(!t.coeff||t.coeff<0?e.springCoeff:t.coeff)*u/l*t.weight;n.force.x+=c*a,n.force.y+=c*s,r.force.x-=c*a,r.force.y-=c*s}};return r(e,o,["springCoeff","springLength"]),o}},{"ngraph.expose":8,"ngraph.merge":26,"ngraph.random":36}],23:[function(t,e,n){function i(t,e,n){var i;e=e||r,n=n||r,i="string"==typeof t?JSON.parse(t):t;var a,s=o();if(void 0===i.links||void 0===i.nodes)throw new Error("Cannot load graph without links and nodes");for(a=0;a<i.nodes.length;++a){var l=e(i.nodes[a]);if(!l.hasOwnProperty("id"))throw new Error("Graph node format is invalid: Node id is missing");s.addNode(l.id,l.data)}for(a=0;a<i.links.length;++a){var u=n(i.links[a]);if(!u.hasOwnProperty("fromId")||!u.hasOwnProperty("toId"))throw new Error("Graph link format is invalid. Both fromId and toId are required");s.addLink(u.fromId,u.toId,u.data)}return s}function r(t){return t}e.exports=i;var o=t("ngraph.graph")},{"ngraph.graph":24}],24:[function(t,e,n){function i(t){function e(){function t(){return X.beginUpdate=z=N,X.endUpdate=q=C,F=n,j=i,X.on=e,e.apply(X,arguments)}var e=X.on;X.on=t}function n(t,e){B.push({link:t,changeType:e})}function i(t,e){B.push({node:t,changeType:e})}function l(t,e){if(void 0===t)throw new Error("Invalid node identifier");z();var n=d(t);return n?j(n,"update"):(n=new o(t),A++,j(n,"add")),n.data=e,L[t]=n,q(),n}function d(t){return L[t]}function h(t){var e=d(t);if(!e)return!1;if(z(),e.links)for(;e.links.length;){var n=e.links[0];y(n)}return delete L[t],A--,j(e,"remove"),q(),!0}function p(t,e,n){z();var i=d(t)||l(t),r=d(e)||l(e),o=R(t,e,n);return M.push(o),a(i,o),t!==e&&a(r,o),F(o,"add"),q(),o}function f(t,e,n){var i=u(t,e);return new s(t,e,n,i)}function g(t,e,n){var i=u(t,e),r=P.hasOwnProperty(i);if(r||m(t,e)){r||(P[i]=0);var o="@"+ ++P[i];i=u(t+o,e+o)}return new s(t,e,n,i)}function v(t){var e=d(t);return e?e.links:null}function y(t){if(!t)return!1;var e=r(t,M);if(e<0)return!1;z(),M.splice(e,1);var n=d(t.fromId),i=d(t.toId);return n&&(e=r(t,n.links),e>=0&&n.links.splice(e,1)),i&&(e=r(t,i.links),e>=0&&i.links.splice(e,1)),F(t,"remove"),q(),!0}function m(t,e){var n,i=d(t);if(!i||!i.links)return null;for(n=0;n<i.links.length;++n){var r=i.links[n];if(r.fromId===t&&r.toId===e)return r}return null}function x(){z(),O(function(t){h(t.id)}),q()}function b(t){var e,n;if("function"==typeof t)for(e=0,n=M.length;e<n;++e)t(M[e])}function w(t,e,n){var i=d(t);if(i&&i.links&&"function"==typeof e)return n?_(i.links,t,e):E(i.links,t,e)}function E(t,e,n){for(var i,r=0;r<t.length;++r){var o=t[r],a=o.fromId===e?o.toId:o.fromId;if(i=n(L[a],o))return!0}}function _(t,e,n){for(var i,r=0;r<t.length;++r){var o=t[r];if(o.fromId===e&&(i=n(L[o.toId],o)))return!0}}function T(){}function N(){I+=1}function C(){I-=1,0===I&&B.length>0&&(X.fire("changed",B),B.length=0)}function D(){return Object.keys?S:k}function S(t){if("function"==typeof t)for(var e=Object.keys(L),n=0;n<e.length;++n)if(t(L[e[n]]))return!0}function k(t){if("function"==typeof t){var e;for(e in L)if(t(L[e]))return!0}}t=t||{},void 0===t.uniqueLinkId&&(t.uniqueLinkId=!0);var L="function"==typeof Object.create?Object.create(null):{},M=[],P={},A=0,I=0,O=D(),R=t.uniqueLinkId?g:f,B=[],F=T,j=T,z=T,q=T,X={addNode:l,addLink:p,removeLink:y,removeNode:h,getNode:d,getNodesCount:function(){return A},getLinksCount:function(){return M.length},getLinks:v,forEachNode:O,forEachLinkedNode:w,forEachLink:b,beginUpdate:z,endUpdate:q,clear:x,hasLink:m,getLink:m};return c(X),e(),X}function r(t,e){if(!e)return-1;if(e.indexOf)return e.indexOf(t);var n,i=e.length;for(n=0;n<i;n+=1)if(e[n]===t)return n;return-1}function o(t){this.id=t,this.links=null,this.data=null}function a(t,e){t.links?t.links.push(e):t.links=[e]}function s(t,e,n,i){this.fromId=t,this.toId=e,this.data=n,this.id=i}function l(t){var e,n,i,r=0;if(0==t.length)return r;for(e=0,i=t.length;e<i;e++)n=t.charCodeAt(e),r=(r<<5)-r+n,r|=0;return r}function u(t,e){return l(t.toString()+" "+e.toString())}e.exports=i;var c=t("ngraph.events")},{"ngraph.events":25}],25:[function(t,e,n){arguments[4][7][0].apply(n,arguments)},{dup:7}],26:[function(t,e,n){function i(t,e){var n;if(t||(t={}),e)for(n in e)if(e.hasOwnProperty(n)){var r=t.hasOwnProperty(n),o=typeof e[n],a=!r||typeof t[n]!==o;a?t[n]=e[n]:"object"===o&&(t[n]=i(t[n],e[n]))}return t}e.exports=i},{}],27:[function(t,e,n){function i(t,e){this.pos=new r(t,e),this.prevPos=new r(t,e),this.force=new r,this.velocity=new r,this.mass=1}function r(t,e){t&&"number"!=typeof t?(this.x="number"==typeof t.x?t.x:0,this.y="number"==typeof t.y?t.y:0):(this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0)}function o(t,e,n){this.pos=new a(t,e,n),this.prevPos=new a(t,e,n),this.force=new a,this.velocity=new a,this.mass=1}function a(t,e,n){t&&"number"!=typeof t?(this.x="number"==typeof t.x?t.x:0,this.y="number"==typeof t.y?t.y:0,this.z="number"==typeof t.z?t.z:0):(this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0,this.z="number"==typeof n?n:0)}e.exports={Body:i,Vector2d:r,Body3d:o,Vector3d:a},i.prototype.setPosition=function(t,e){this.prevPos.x=this.pos.x=t,this.prevPos.y=this.pos.y=e},r.prototype.reset=function(){this.x=this.y=0},o.prototype.setPosition=function(t,e,n){this.prevPos.x=this.pos.x=t,this.prevPos.y=this.pos.y=e,this.prevPos.z=this.pos.z=n},a.prototype.reset=function(){this.x=this.y=this.z=0}},{}],28:[function(t,e,n){function i(t,e){return 0===e?t.quad0:1===e?t.quad1:2===e?t.quad2:3===e?t.quad3:4===e?t.quad4:5===e?t.quad5:6===e?t.quad6:7===e?t.quad7:null}function r(t,e,n){0===e?t.quad0=n:1===e?t.quad1=n:2===e?t.quad2=n:3===e?t.quad3=n:4===e?t.quad4=n:5===e?t.quad5=n:6===e?t.quad6=n:7===e&&(t.quad7=n)}e.exports=function(e){e=e||{},e.gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var n=t("ngraph.random").random(1984),o=t("./node"),a=t("./insertStack"),s=t("./isSamePosition"),l=e.gravity,u=[],c=new a,d=e.theta,h=[],p=0,f=function(){var t=h[p];return t?(t.quad0=null,t.quad4=null,t.quad1=null,t.quad5=null,t.quad2=null,t.quad6=null,t.quad3=null,t.quad7=null,t.body=null,t.mass=t.massX=t.massY=t.massZ=0,t.left=t.right=t.top=t.bottom=t.front=t.back=0):(t=new o,h[p]=t),++p,t},g=f(),v=function(t){for(c.reset(),c.push(g,t);!c.isEmpty();){var e=c.pop(),o=e.node,a=e.body;if(o.body){var l=o.body;if(o.body=null,s(l.pos,a.pos)){var u=3;do{var d=n.nextDouble(),h=(o.right-o.left)*d,p=(o.bottom-o.top)*d,v=(o.front-o.back)*d;l.pos.x=o.left+h,l.pos.y=o.top+p,l.pos.z=o.back+v,u-=1}while(u>0&&s(l.pos,a.pos));if(0===u&&s(l.pos,a.pos))return}c.push(o,l),c.push(o,a)}else{var y=a.pos.x,m=a.pos.y,x=a.pos.z;o.mass+=a.mass,o.massX+=a.mass*y,o.massY+=a.mass*m,o.massZ+=a.mass*x;var b=0,w=o.left,E=(o.right+w)/2,_=o.top,T=(o.bottom+_)/2,N=o.back,C=(o.front+N)/2;if(y>E){b+=1;var D=w;w=E,E+=E-D}if(m>T){b+=2;var S=_;_=T,T+=T-S}if(x>C){b+=4;var k=N;N=C,C=N+(N-k)}var L=i(o,b);L?c.push(L,a):(L=f(),L.left=w,L.top=_,L.right=E,L.bottom=T,L.back=N,L.front=C,L.body=a,r(o,b,L))}}},y=function(t){var e,i,r,o,a,s=u,c=0,h=0,p=0,f=1,v=0,y=1;for(s[0]=g;f;){var m=s[v],x=m.body;f-=1,v+=1;var b=x!==t;x&&b?(i=x.pos.x-t.pos.x,r=x.pos.y-t.pos.y,o=x.pos.z-t.pos.z,a=Math.sqrt(i*i+r*r+o*o),0===a&&(i=(n.nextDouble()-.5)/50,r=(n.nextDouble()-.5)/50,o=(n.nextDouble()-.5)/50,a=Math.sqrt(i*i+r*r+o*o)),e=l*x.mass*t.mass/(a*a*a),c+=e*i,h+=e*r,p+=e*o):b&&(i=m.massX/m.mass-t.pos.x,r=m.massY/m.mass-t.pos.y,o=m.massZ/m.mass-t.pos.z,a=Math.sqrt(i*i+r*r+o*o),0===a&&(i=(n.nextDouble()-.5)/50,r=(n.nextDouble()-.5)/50,o=(n.nextDouble()-.5)/50,a=Math.sqrt(i*i+r*r+o*o)),(m.right-m.left)/a<d?(e=l*m.mass*t.mass/(a*a*a),c+=e*i,h+=e*r,p+=e*o):(m.quad0&&(s[y]=m.quad0,f+=1,y+=1),m.quad1&&(s[y]=m.quad1,f+=1,y+=1),m.quad2&&(s[y]=m.quad2,f+=1,y+=1),m.quad3&&(s[y]=m.quad3,f+=1,y+=1),m.quad4&&(s[y]=m.quad4,f+=1,y+=1),m.quad5&&(s[y]=m.quad5,f+=1,y+=1),m.quad6&&(s[y]=m.quad6,f+=1,y+=1),m.quad7&&(s[y]=m.quad7,f+=1,y+=1)))}t.force.x+=c,t.force.y+=h,t.force.z+=p},m=function(t){var e,n=Number.MAX_VALUE,i=Number.MAX_VALUE,r=Number.MAX_VALUE,o=Number.MIN_VALUE,a=Number.MIN_VALUE,s=Number.MIN_VALUE,l=t.length;for(e=l;e--;){var u=t[e].pos,c=u.x,d=u.y,h=u.z;c<n&&(n=c),c>o&&(o=c),d<i&&(i=d),d>a&&(a=d),h<r&&(r=h),h>s&&(s=h)}var y=Math.max(o-n,Math.max(a-i,s-r));for(o=n+y,a=i+y,s=r+y,p=0,g=f(),g.left=n,g.right=o,g.top=i,g.bottom=a,g.back=r,g.front=s,e=l-1,e>0&&(g.body=t[e]);e--;)v(t[e],g)};return{insertBodies:m,updateBodyForce:y,options:function(t){return t?("number"==typeof t.gravity&&(l=t.gravity),"number"==typeof t.theta&&(d=t.theta),this):{gravity:l,theta:d}}}}},{"./insertStack":29,"./isSamePosition":30,"./node":31,"ngraph.random":36}],29:[function(t,e,n){function i(){this.stack=[],this.popIdx=0}function r(t,e){this.node=t,this.body=e}e.exports=i,i.prototype={isEmpty:function(){return 0===this.popIdx},push:function(t,e){var n=this.stack[this.popIdx];n?(n.node=t,n.body=e):this.stack[this.popIdx]=new r(t,e),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},{}],30:[function(t,e,n){e.exports=function(t,e){var n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y),r=Math.abs(t.z-e.z);return n<1e-8&&i<1e-8&&r<1e-8}},{}],31:[function(t,e,n){e.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.quad4=null,this.quad5=null,this.quad6=null,this.quad7=null,this.mass=0,this.massX=0,this.massY=0,this.massZ=0,this.left=0,this.top=0,this.bottom=0,this.right=0,this.front=0,this.back=0}},{}],32:[function(t,e,n){function i(t,e){return 0===e?t.quad0:1===e?t.quad1:2===e?t.quad2:3===e?t.quad3:null}function r(t,e,n){0===e?t.quad0=n:1===e?t.quad1=n:2===e?t.quad2=n:3===e&&(t.quad3=n)}e.exports=function(e){e=e||{},e.gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var n=t("ngraph.random").random(1984),o=t("./node"),a=t("./insertStack"),s=t("./isSamePosition"),l=e.gravity,u=[],c=new a,d=e.theta,h=[],p=0,f=function(){var t=h[p];return t?(t.quad0=null,t.quad1=null,t.quad2=null,t.quad3=null,t.body=null,t.mass=t.massX=t.massY=0,t.left=t.right=t.top=t.bottom=0):(t=new o,h[p]=t),++p,t},g=f(),v=function(t){for(c.reset(),c.push(g,t);!c.isEmpty();){var e=c.pop(),o=e.node,a=e.body;if(o.body){var l=o.body;if(o.body=null,s(l.pos,a.pos)){var u=3;do{var d=n.nextDouble(),h=(o.right-o.left)*d,p=(o.bottom-o.top)*d;l.pos.x=o.left+h,l.pos.y=o.top+p,u-=1}while(u>0&&s(l.pos,a.pos));if(0===u&&s(l.pos,a.pos))return}c.push(o,l),c.push(o,a)}else{var v=a.pos.x,y=a.pos.y;o.mass=o.mass+a.mass,o.massX=o.massX+a.mass*v,o.massY=o.massY+a.mass*y;var m=0,x=o.left,b=(o.right+x)/2,w=o.top,E=(o.bottom+w)/2;if(v>b){m+=1;var _=x;x=b,b+=b-_}if(y>E){m+=2;var T=w;w=E,E+=E-T}var N=i(o,m);N?c.push(N,a):(N=f(),N.left=x,N.top=w,N.right=b,N.bottom=E,N.body=a,r(o,m,N))}}},y=function(t){var e,i,r,o,a=u,s=0,c=0,h=1,p=0,f=1;for(a[0]=g;h;){var v=a[p],y=v.body;h-=1,p+=1;var m=y!==t;y&&m?(i=y.pos.x-t.pos.x,r=y.pos.y-t.pos.y,o=Math.sqrt(i*i+r*r),0===o&&(i=(n.nextDouble()-.5)/50,r=(n.nextDouble()-.5)/50,o=Math.sqrt(i*i+r*r)),e=l*y.mass*t.mass/(o*o*o),s+=e*i,c+=e*r):m&&(i=v.massX/v.mass-t.pos.x,r=v.massY/v.mass-t.pos.y,o=Math.sqrt(i*i+r*r),0===o&&(i=(n.nextDouble()-.5)/50,r=(n.nextDouble()-.5)/50,o=Math.sqrt(i*i+r*r)),(v.right-v.left)/o<d?(e=l*v.mass*t.mass/(o*o*o),s+=e*i,c+=e*r):(v.quad0&&(a[f]=v.quad0,h+=1,f+=1),v.quad1&&(a[f]=v.quad1,h+=1,f+=1),v.quad2&&(a[f]=v.quad2,h+=1,f+=1),v.quad3&&(a[f]=v.quad3,h+=1,f+=1)))}t.force.x+=s,t.force.y+=c},m=function(t){var e,n=Number.MAX_VALUE,i=Number.MAX_VALUE,r=Number.MIN_VALUE,o=Number.MIN_VALUE,a=t.length;for(e=a;e--;){var s=t[e].pos.x,l=t[e].pos.y;s<n&&(n=s),s>r&&(r=s),l<i&&(i=l),l>o&&(o=l)}var u=r-n,c=o-i;for(u>c?o=i+u:r=n+c,p=0,g=f(),g.left=n,g.right=r,g.top=i,g.bottom=o,e=a-1,e>0&&(g.body=t[e]);e--;)v(t[e],g)};return{insertBodies:m,updateBodyForce:y,options:function(t){return t?("number"==typeof t.gravity&&(l=t.gravity),"number"==typeof t.theta&&(d=t.theta),this):{gravity:l,theta:d}}}}},{"./insertStack":33,"./isSamePosition":34,"./node":35,"ngraph.random":36}],33:[function(t,e,n){function i(){this.stack=[],this.popIdx=0}function r(t,e){this.node=t,this.body=e}e.exports=i,i.prototype={isEmpty:function(){return 0===this.popIdx},push:function(t,e){var n=this.stack[this.popIdx];n?(n.node=t,n.body=e):this.stack[this.popIdx]=new r(t,e),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},{}],34:[function(t,e,n){e.exports=function(t,e){var n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return n<1e-8&&i<1e-8}},{}],35:[function(t,e,n){e.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},{}],36:[function(t,e,n){function i(t){var e="number"==typeof t?t:+new Date,n=function(){return e=e+2127912214+(e<<12)&4294967295,e=4294967295&(3345072700^e^e>>>19),e=e+374761393+(e<<5)&4294967295,
e=4294967295&(e+3550635116^e<<9),e=e+4251993797+(e<<3)&4294967295,e=4294967295&(3042594569^e^e>>>16),(268435455&e)/268435456};return{next:function(t){return Math.floor(n()*t)},nextDouble:function(){return n()}}}function r(t,e){var n=e||i();if("function"!=typeof n.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(e){var i,r,o;for(i=t.length-1;i>0;--i)r=n.next(i+1),o=t[r],t[r]=t[i],t[i]=o,e(o);t.length&&e(t[0])},shuffle:function(){var e,i,r;for(e=t.length-1;e>0;--e)i=n.next(e+1),r=t[i],t[i]=t[e],t[e]=r;return t}}}e.exports={random:i,randomIterator:r}},{}],37:[function(t,e,n){function i(t,e,n){function i(t){s.nodes.push(l(t))}function r(t){s.links.push(u(t))}function o(t){var e={id:t.id};return void 0!==t.data&&(e.data=t.data),e}function a(t){var e={fromId:t.fromId,toId:t.toId};return void 0!==t.data&&(e.data=t.data),e}var s={nodes:[],links:[]},l=e||o,u=n||a;return t.forEachNode(i),t.forEachLink(r),JSON.stringify(s)}e.exports=i},{}],38:[function(t,e,n){function i(){c=!1,s.length?u=s.concat(u):d=-1,u.length&&r()}function r(){if(!c){var t=setTimeout(i);c=!0;for(var e=u.length;e;){for(s=u,u=[];++d<e;)s&&s[d].run();d=-1,e=u.length}s=null,c=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var s,l=e.exports={},u=[],c=!1,d=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new o(t,e)),1!==u.length||c||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],39:[function(e,n,i){(function(){function e(t){function e(e,n,i,r,o,a){for(;o>=0&&o<a;o+=t){var s=r?r[o]:o;i=n(i,e[s],s,e)}return i}return function(n,i,r,o){i=E(i,o,4);var a=!k(n)&&w.keys(n),s=(a||n).length,l=t>0?0:s-1;return arguments.length<3&&(r=n[a?a[l]:l],l+=t),e(n,i,r,a,l,s)}}function r(t){return function(e,n,i){n=_(n,i);for(var r=S(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function o(t,e,n){return function(i,r,o){var a=0,s=S(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(p.call(i,a,s),w.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(i[o]===r)return o;return-1}}function a(t,e){var n=I.length,i=t.constructor,r=w.isFunction(i)&&i.prototype||c,o="constructor";for(w.has(t,o)&&!w.contains(e,o)&&e.push(o);n--;)o=I[n],o in t&&t[o]!==r[o]&&!w.contains(e,o)&&e.push(o)}var s=this,l=s._,u=Array.prototype,c=Object.prototype,d=Function.prototype,h=u.push,p=u.slice,f=c.toString,g=c.hasOwnProperty,v=Array.isArray,y=Object.keys,m=d.bind,x=Object.create,b=function(){},w=function(t){return t instanceof w?t:this instanceof w?void(this._wrapped=t):new w(t)};"undefined"!=typeof i?("undefined"!=typeof n&&n.exports&&(i=n.exports=w),i._=w):s._=w,w.VERSION="1.8.3";var E=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},_=function(t,e,n){return null==t?w.identity:w.isFunction(t)?E(t,e,n):w.isObject(t)?w.matcher(t):w.property(t)};w.iteratee=function(t,e){return _(t,e,1/0)};var T=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}},N=function(t){if(!w.isObject(t))return{};if(x)return x(t);b.prototype=t;var e=new b;return b.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},D=Math.pow(2,53)-1,S=C("length"),k=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=D};w.each=w.forEach=function(t,e,n){e=E(e,n);var i,r;if(k(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=w.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},w.map=w.collect=function(t,e,n){e=_(e,n);for(var i=!k(t)&&w.keys(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o},w.reduce=w.foldl=w.inject=e(1),w.reduceRight=w.foldr=e(-1),w.find=w.detect=function(t,e,n){var i;if(i=k(t)?w.findIndex(t,e,n):w.findKey(t,e,n),void 0!==i&&i!==-1)return t[i]},w.filter=w.select=function(t,e,n){var i=[];return e=_(e,n),w.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},w.reject=function(t,e,n){return w.filter(t,w.negate(_(e)),n)},w.every=w.all=function(t,e,n){e=_(e,n);for(var i=!k(t)&&w.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},w.some=w.any=function(t,e,n){e=_(e,n);for(var i=!k(t)&&w.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},w.contains=w.includes=w.include=function(t,e,n,i){return k(t)||(t=w.values(t)),("number"!=typeof n||i)&&(n=0),w.indexOf(t,e,n)>=0},w.invoke=function(t,e){var n=p.call(arguments,2),i=w.isFunction(e);return w.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},w.pluck=function(t,e){return w.map(t,w.property(e))},w.where=function(t,e){return w.filter(t,w.matcher(e))},w.findWhere=function(t,e){return w.find(t,w.matcher(e))},w.max=function(t,e,n){var i,r,o=-(1/0),a=-(1/0);if(null==e&&null!=t){t=k(t)?t:w.values(t);for(var s=0,l=t.length;s<l;s++)i=t[s],i>o&&(o=i)}else e=_(e,n),w.each(t,function(t,n,i){r=e(t,n,i),(r>a||r===-(1/0)&&o===-(1/0))&&(o=t,a=r)});return o},w.min=function(t,e,n){var i,r,o=1/0,a=1/0;if(null==e&&null!=t){t=k(t)?t:w.values(t);for(var s=0,l=t.length;s<l;s++)i=t[s],i<o&&(o=i)}else e=_(e,n),w.each(t,function(t,n,i){r=e(t,n,i),(r<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o},w.shuffle=function(t){for(var e,n=k(t)?t:w.values(t),i=n.length,r=Array(i),o=0;o<i;o++)e=w.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},w.sample=function(t,e,n){return null==e||n?(k(t)||(t=w.values(t)),t[w.random(t.length-1)]):w.shuffle(t).slice(0,Math.max(0,e))},w.sortBy=function(t,e,n){return e=_(e,n),w.pluck(w.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var L=function(t){return function(e,n,i){var r={};return n=_(n,i),w.each(e,function(i,o){var a=n(i,o,e);t(r,i,a)}),r}};w.groupBy=L(function(t,e,n){w.has(t,n)?t[n].push(e):t[n]=[e]}),w.indexBy=L(function(t,e,n){t[n]=e}),w.countBy=L(function(t,e,n){w.has(t,n)?t[n]++:t[n]=1}),w.toArray=function(t){return t?w.isArray(t)?p.call(t):k(t)?w.map(t,w.identity):w.values(t):[]},w.size=function(t){return null==t?0:k(t)?t.length:w.keys(t).length},w.partition=function(t,e,n){e=_(e,n);var i=[],r=[];return w.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},w.first=w.head=w.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:w.initial(t,t.length-e)},w.initial=function(t,e,n){return p.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},w.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:w.rest(t,Math.max(0,t.length-e))},w.rest=w.tail=w.drop=function(t,e,n){return p.call(t,null==e||n?1:e)},w.compact=function(t){return w.filter(t,w.identity)};var M=function(t,e,n,i){for(var r=[],o=0,a=i||0,s=S(t);a<s;a++){var l=t[a];if(k(l)&&(w.isArray(l)||w.isArguments(l))){e||(l=M(l,e,n));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};w.flatten=function(t,e){return M(t,e,!1)},w.without=function(t){return w.difference(t,p.call(arguments,1))},w.uniq=w.unique=function(t,e,n,i){w.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=_(n,i));for(var r=[],o=[],a=0,s=S(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e?(a&&o===u||r.push(l),o=u):n?w.contains(o,u)||(o.push(u),r.push(l)):w.contains(r,l)||r.push(l)}return r},w.union=function(){return w.uniq(M(arguments,!0,!0))},w.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=S(t);i<r;i++){var o=t[i];if(!w.contains(e,o)){for(var a=1;a<n&&w.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},w.difference=function(t){var e=M(arguments,!0,!0,1);return w.filter(t,function(t){return!w.contains(e,t)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(t){for(var e=t&&w.max(t,S).length||0,n=Array(e),i=0;i<e;i++)n[i]=w.pluck(t,i);return n},w.object=function(t,e){for(var n={},i=0,r=S(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},w.findIndex=r(1),w.findLastIndex=r(-1),w.sortedIndex=function(t,e,n,i){n=_(n,i,1);for(var r=n(e),o=0,a=S(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o},w.indexOf=o(1,w.findIndex,w.sortedIndex),w.lastIndexOf=o(-1,w.findLastIndex),w.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var P=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=N(t.prototype),a=t.apply(o,r);return w.isObject(a)?a:o};w.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,p.call(arguments,1));if(!w.isFunction(t))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),i=function(){return P(t,i,e,this,n.concat(p.call(arguments)))};return i},w.partial=function(t){var e=p.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),a=0;a<r;a++)o[a]=e[a]===w?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return P(t,n,this,this,o)};return n},w.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=w.bind(t[n],t);return t},w.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return w.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},w.delay=function(t,e){var n=p.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},w.defer=w.partial(w.delay,w,1),w.throttle=function(t,e,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:w.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var u=w.now();s||n.leading!==!1||(s=u);var c=e-(u-s);return i=this,r=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),s=u,o=t.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(l,c)),o}},w.debounce=function(t,e,n){var i,r,o,a,s,l=function(){var u=w.now()-a;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,n||(s=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=w.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(s=t.apply(o,r),o=r=null),s}},w.wrap=function(t,e){return w.partial(e,t)},w.negate=function(t){return function(){return!t.apply(this,arguments)}},w.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},w.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},w.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},w.once=w.partial(w.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(t){if(!w.isObject(t))return[];if(y)return y(t);var e=[];for(var n in t)w.has(t,n)&&e.push(n);return A&&a(t,e),e},w.allKeys=function(t){if(!w.isObject(t))return[];var e=[];for(var n in t)e.push(n);return A&&a(t,e),e},w.values=function(t){for(var e=w.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},w.mapObject=function(t,e,n){e=_(e,n);for(var i,r=w.keys(t),o=r.length,a={},s=0;s<o;s++)i=r[s],a[i]=e(t[i],i,t);return a},w.pairs=function(t){for(var e=w.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},w.invert=function(t){for(var e={},n=w.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},w.functions=w.methods=function(t){var e=[];for(var n in t)w.isFunction(t[n])&&e.push(n);return e.sort()},w.extend=T(w.allKeys),w.extendOwn=w.assign=T(w.keys),w.findKey=function(t,e,n){e=_(e,n);for(var i,r=w.keys(t),o=0,a=r.length;o<a;o++)if(i=r[o],e(t[i],i,t))return i},w.pick=function(t,e,n){var i,r,o={},a=t;if(null==a)return o;w.isFunction(e)?(r=w.allKeys(a),i=E(e,n)):(r=M(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,l=r.length;s<l;s++){var u=r[s],c=a[u];i(c,u,a)&&(o[u]=c)}return o},w.omit=function(t,e,n){if(w.isFunction(e))e=w.negate(e);else{var i=w.map(M(arguments,!1,!1,1),String);e=function(t,e){return!w.contains(i,e)}}return w.pick(t,e,n)},w.defaults=T(w.allKeys,!0),w.create=function(t,e){var n=N(t);return e&&w.extendOwn(n,e),n},w.clone=function(t){return w.isObject(t)?w.isArray(t)?t.slice():w.extend({},t):t},w.tap=function(t,e){return e(t),t},w.isMatch=function(t,e){var n=w.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var O=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof w&&(t=t._wrapped),e instanceof w&&(e=e._wrapped);var r=f.call(t);if(r!==f.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!O(t[l],e[l],n,i))return!1}else{var u,c=w.keys(t);if(l=c.length,w.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!w.has(e,u)||!O(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};w.isEqual=function(t,e){return O(t,e)},w.isEmpty=function(t){return null==t||(k(t)&&(w.isArray(t)||w.isString(t)||w.isArguments(t))?0===t.length:0===w.keys(t).length)},w.isElement=function(t){return!(!t||1!==t.nodeType)},w.isArray=v||function(t){return"[object Array]"===f.call(t)},w.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){w["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),w.isArguments(arguments)||(w.isArguments=function(t){return w.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(t){return"function"==typeof t||!1}),w.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},w.isNaN=function(t){return w.isNumber(t)&&t!==+t},w.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===f.call(t)},w.isNull=function(t){return null===t},w.isUndefined=function(t){return void 0===t},w.has=function(t,e){return null!=t&&g.call(t,e)},w.noConflict=function(){return s._=l,this},w.identity=function(t){return t},w.constant=function(t){return function(){return t}},w.noop=function(){},w.property=C,w.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},w.matcher=w.matches=function(t){return t=w.extendOwn({},t),function(e){return w.isMatch(e,t)}},w.times=function(t,e,n){var i=Array(Math.max(0,t));e=E(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},w.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},w.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=w.invert(R),F=function(t){var e=function(e){return t[e]},n="(?:"+w.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};w.escape=F(R),w.unescape=F(B),w.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),w.isFunction(i)?i.call(t):i};var j=0;w.uniqueId=function(t){var e=++j+"";return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(t){return"\\"+q[t]};w.template=function(t,e,n){!e&&n&&(e=n),e=w.defaults({},e,w.templateSettings);var i=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,a,s){return o+=t.slice(r,s).replace(X,Y),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(t){return a.call(this,t,w)},u=e.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},w.chain=function(t){var e=w(t);return e._chain=!0,e};var V=function(t,e){return t._chain?w(e).chain():e};w.mixin=function(t){w.each(w.functions(t),function(e){var n=w[e]=t[e];w.prototype[e]=function(){var t=[this._wrapped];return h.apply(t,arguments),V(this,n.apply(w,t))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=u[t];w.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],V(this,n)}}),w.each(["concat","join","slice"],function(t){var e=u[t];w.prototype[t]=function(){return V(this,e.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof t&&t.amd&&t("underscore",[],function(){return w})}).call(this)},{}],40:[function(t,e,n){var i=arguments[3],r=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t){for(var e,n=Object.keys(o),s=0,l=n.length;s<l;s++){var u=n[s],c=o[u].exports;if(c===t||c["default"]===t){e=u;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var d={},s=0,l=n.length;s<l;s++){var u=n[s];d[u]=u}r[e]=[Function(["require","module","exports"],"("+t+")(self)"),d]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[e]=e,r[h]=[Function(["require"],"var f = require("+a(e)+");(f.default ? f.default : f)(self);"),p];var f="("+i+")({"+Object.keys(r).map(function(t){return a(t)+":["+r[t][0]+","+a(r[t][1])+"]"}).join(",")+"},{},["+a(h)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(g.createObjectURL(new Blob([f],{type:"text/javascript"})))}},{}],41:[function(t,e,n){"use strict";var i=t("ngraph.graph"),r=t("underscore"),o=(t("Q"),t("ngraph.asyncforce")),a=function(t){function e(t){this.options=a({},n,t),this.layoutOptions=a({},n,t),delete this.layoutOptions.cy,delete this.layoutOptions.eles}if(t){var n={async:{maxIterations:1e3,stepsPerCycle:30,waitForStep:!1},physics:{springLength:100,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20,iterations:1e4,fit:!0,stableThreshold:9e-6},iterations:1e4,refreshInterval:16,refreshIterations:10,stableThreshold:2,animate:!0,fit:!0},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t};return e.prototype.l=o,e.prototype.g=i,e.prototype.run=function(){var t=this;t.trigger({type:"layoutstart",layout:t});var e=this.options,n=this.layoutOptions,i=this,o=i.g(),a=e.cy,s=e.eles,l=s.nodes(),u=l.parents();l=l.difference(u),l=l.filterFn(function(t){return t.connectedEdges().length>0});var c,d=s.edges(),h={},p=!0,f=function(e){l.positions(function(t,e){if("number"!=typeof t&&(e=t),!e.data("dragging"))return c.getNodePosition(e.id())}),n.fit&&a.fit(n.padding),p&&(t.trigger("layoutready"),p=!1)};o.on("changed",function(t){}),r.each(l,function(t,e){t.on("tapstart",function(t){t.target.data("dragging",!0)}),t.on("tapend",function(t){t.target.removeData("dragging")}),t.on("position","node[dragging]",function(t){c.setNodePosition&&t.target.data("dragging")&&c.setNodePosition(t.target.data().id)}),o.addNode(t.data().id)}),r.each(d,function(t,e){h[t.data().source+":"+t.data().target]||h[t.data().target+":"+t.data().source]||(h[t.data().source+":"+t.data().target]=t,o.addLink(t.data().source,t.data().target))}),c=i.l(o,n),r.each(l,function(t,e){var n=t.data();n.pin?(c.pinNode(n.id,!0),t.removeData("pin"),t.data("unpin",!0)):n.unpin&&(c.pinNode(n.id,!1),t.removeData("unpin"))});var g=n.iterations;n.async&&n.async.maxIterations&&(g=(n.async.maxIterations/n.async.stepsPerCycle).toFixed(0)),this.on("layoutstop",function(){n.iterations=0}),c.on("stable",function(){console.log("got Stable event"),g=0}),n.async||(n.refreshInterval=0);var v;c.on("cycle",function(e,i){return n.animate&&f(),i?(f(),t.trigger({type:"layoutstop",layout:t}),void t.trigger({type:"layoutready",layout:t})):void y(i)});var y=function(e){if(0==g&&e)f(),t.trigger({type:"layoutstop",layout:t}),t.trigger({type:"layoutready",layout:t});else if(!v||0==g){g--,v=null;var e=c.step();!!e&&(g=0),g||y()}};return y(),this},e.prototype.stop=function(){return this.thread&&this.thread.stop(),this.trigger("layoutstop"),this},e.prototype.destroy=function(){return this.thread&&this.thread.stop(),this},e}};e.exports=function(t){return a(t)}},{Q:1,"ngraph.asyncforce":2,"ngraph.graph":24,underscore:39}],42:[function(e,n,i){"use strict";!function(){var i=e("./impl.js"),r=function(t){var e=i(t);t("layout","cytoscape-ngraph.forcelayout",e)};"undefined"!=typeof n&&n.exports&&(n.exports=r),"undefined"!=typeof t&&t.amd&&t("cytoscape-ngraph.forcelayout",function(){return r}),"undefined"!=typeof cytoscape&&r(cytoscape)}()},{"./impl.js":41}]},{},[42])(42)}),function(t,e){"use strict";function n(t,e){function n(t,n){var i=t.scratch().qtip,o=e.extend({},n);o.id||(o.id="cy-qtip-target-"+(Date.now()+Math.round(1e4*Math.random()))),i.$domEle||(i.$domEle=c),o.position=o.position||{},o.position.container=o.position.container||e(document.body),o.position.viewport=o.position.viewport||e(document.body),o.position.target=[0,0],o.position.my=o.position.my||"top center",o.position.at=o.position.at||"bottom center";var u=o.position.adjust=o.position.adjust||{};return u.method=u.method||"flip",u.mouse=!1,o.show=o.show||{},s(o.show.event)&&(o.show.event="tap"),o.hide=o.hide||{},o.hide.cyViewport=void 0===o.hide.cyViewport||o.hide.cyViewport,s(o.hide.event)&&(o.hide.event="unfocus"),o.overwrite=!1,o.content&&(r(o.content)||a(o.content)?o.content=l(o.content,t):o.content={text:l(o.content.text,t),title:l(o.content.title,t)}),o}function i(t,e,n){var i=n,o=r(t.pan),a=!o,s=a&&t.isNode(),l=o?t:t.cy(),u=l.container().getBoundingClientRect(),c=s?t.renderedPosition():i?i.cyRenderedPosition:void 0;if(c&&null!=c.x&&!isNaN(c.x)){var d=s?t.renderedBoundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1,includeShadows:!1}):{x1:c.x-1,x2:c.x+1,w:3,y1:c.y-1,y2:c.y+1,h:3};0===e.$domEle.parent().length&&e.$domEle.appendTo(document.body),e.$domEle.css({width:d.w,height:d.h,top:d.y1+u.top+window.pageYOffset,left:d.x1+u.left+window.pageXOffset,position:"absolute","pointer-events":"none",background:"red","z-index":99999999,opacity:.5,visibility:"hidden"}),e.api.set("position.target",e.$domEle)}}var c=e("<div></div>"),d=250;c.css({"z-index":-1,position:"absolute"}),t("collection","qtip",function(t){var e=this,r=this.cy();r.container();return"api"===t?this.scratch().qtip.api:(e.each(function(e,a){o(e)&&(e=a);var s=e.scratch(),l=s.qtip=s.qtip||{},c=n(e,t);c.position.adjust;l.$domEle.qtip(c);var h=l.api=l.$domEle.qtip("api");l.$domEle.removeData("qtip"),i(e,l),e.on(c.show.event,function(t){i(e,l,t),h.show()}),e.on(c.hide.event,function(t){h.hide()}),c.hide.cyViewport&&r.on("viewport",u(function(){h.hide()},d,{leading:!0})),c.position.adjust.cyViewport&&r.on("pan zoom",u(function(t){i(e,l,t),h.reposition()},d,{trailing:!0}))}),this)}),t("core","qtip",function(t){var e=this;e.container();if("api"===t)return this.scratch().qtip.api;var r=e.scratch(),o=r.qtip=r.qtip||{},a=n(e,t);o.$domEle.qtip(a);var s=o.api=o.$domEle.qtip("api");return o.$domEle.removeData("qtip"),e.on(a.show.event,function(t){(!a.show.cyBgOnly||a.show.cyBgOnly&&t.cyTarget===e)&&(i(e,o,t),s.show())}),e.on(a.hide.event,function(t){(!a.hide.cyBgOnly||a.hide.cyBgOnly&&t.cyTarget===e)&&s.hide()}),a.hide.cyViewport&&e.on("viewport",u(function(){s.hide()},d,{leading:!0})),this})}var i=function(t){return null!=t&&"object"==typeof t},r=function(t){return null!=t&&"function"==typeof t},o=function(t){return null!=t&&"number"==typeof t},a=function(t){return null!=t&&"string"==typeof t},s=function(t){return void 0===t},l=function(t,e){return r(t)?function(n,i){return t.apply(e,[n,i])}:t},u=function(t,e,n){var o,a,s,l,u,c,d,h=0,p=!1,f=!0;if(r(t)){if(e=Math.max(0,e)||0,n===!0){var g=!0;f=!1}else i(n)&&(g=n.leading,p="maxWait"in n&&(Math.max(e,n.maxWait)||0),f="trailing"in n?n.trailing:f);var v=function(){var n=e-(Date.now()-l);if(n<=0){a&&clearTimeout(a);var i=d;a=c=d=void 0,i&&(h=Date.now(),s=t.apply(u,o),c||a||(o=u=null))}else c=setTimeout(v,n)},y=function(){c&&clearTimeout(c),a=c=d=void 0,(f||p!==e)&&(h=Date.now(),s=t.apply(u,o),c||a||(o=u=null))};return function(){if(o=arguments,l=Date.now(),u=this,d=f&&(c||!g),p===!1)var n=g&&!c;else{a||g||(h=l);var i=p-(l-h),r=i<=0;r?(a&&(a=clearTimeout(a)),h=l,s=t.apply(u,o)):a||(a=setTimeout(y,i))}return r&&c?c=clearTimeout(c):c||e===p||(c=setTimeout(v,e)),n&&(r=!0,s=t.apply(u,o)),!r||c||a||(o=u=null),s}}};"undefined"!=typeof module&&module.exports?module.exports=function(t){var e=window.jQuery,i=window.$,r=window.jQuery=window.$=require("jquery");require("qtip2");n(t,r),window.jQuery=e,window.$=i}:"undefined"!=typeof define&&define.amd&&define("cytoscape-qtip",function(){return n}),t&&e&&n(e,t)}("undefined"!=typeof jQuery?jQuery:null,"undefined"!=typeof cytoscape?cytoscape:null);